(function(e){function t(t){for(var i,s,o=t[0],r=t[1],d=t[2],u=0,c=[];u<o.length;u++)s=o[u],Object.prototype.hasOwnProperty.call(l,s)&&l[s]&&c.push(l[s][0]),l[s]=0;for(i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i]);m&&m(t);while(c.length)c.shift()();return n.push.apply(n,d||[]),a()}function a(){for(var e,t=0;t<n.length;t++){for(var a=n[t],i=!0,s=1;s<a.length;s++){var o=a[s];0!==l[o]&&(i=!1)}i&&(n.splice(t--,1),e=r(r.s=a[0]))}return e}var i={},s={index:0},l={index:0},n=[];function o(e){return r.p+"js/"+({}[e]||e)+"."+{"chunk-2d2163e6":"ecd97a07","chunk-2d217535":"de7308d7","chunk-6f1d9f6d":"83107341","chunk-7404710a":"982b7ddf","chunk-b1470d82":"45f72516","chunk-c08cc306":"e007e835"}[e]+".js"}function r(t){if(i[t])return i[t].exports;var a=i[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.e=function(e){var t=[],a={"chunk-6f1d9f6d":1,"chunk-7404710a":1,"chunk-b1470d82":1,"chunk-c08cc306":1};s[e]?t.push(s[e]):0!==s[e]&&a[e]&&t.push(s[e]=new Promise((function(t,a){for(var i="css/"+({}[e]||e)+"."+{"chunk-2d2163e6":"31d6cfe0","chunk-2d217535":"31d6cfe0","chunk-6f1d9f6d":"ed6ee465","chunk-7404710a":"227d5092","chunk-b1470d82":"bb82e569","chunk-c08cc306":"2c16b49c"}[e]+".css",l=r.p+i,n=document.getElementsByTagName("link"),o=0;o<n.length;o++){var d=n[o],u=d.getAttribute("data-href")||d.getAttribute("href");if("stylesheet"===d.rel&&(u===i||u===l))return t()}var c=document.getElementsByTagName("style");for(o=0;o<c.length;o++){d=c[o],u=d.getAttribute("data-href");if(u===i||u===l)return t()}var m=document.createElement("link");m.rel="stylesheet",m.type="text/css",m.onload=t,m.onerror=function(t){var i=t&&t.target&&t.target.src||l,n=new Error("Loading CSS chunk "+e+" failed.\n("+i+")");n.code="CSS_CHUNK_LOAD_FAILED",n.request=i,delete s[e],m.parentNode.removeChild(m),a(n)},m.href=l;var p=document.getElementsByTagName("head")[0];p.appendChild(m)})).then((function(){s[e]=0})));var i=l[e];if(0!==i)if(i)t.push(i[2]);else{var n=new Promise((function(t,a){i=l[e]=[t,a]}));t.push(i[2]=n);var d,u=document.createElement("script");u.charset="utf-8",u.timeout=120,r.nc&&u.setAttribute("nonce",r.nc),u.src=o(e);var c=new Error;d=function(t){u.onerror=u.onload=null,clearTimeout(m);var a=l[e];if(0!==a){if(a){var i=t&&("load"===t.type?"missing":t.type),s=t&&t.target&&t.target.src;c.message="Loading chunk "+e+" failed.\n("+i+": "+s+")",c.name="ChunkLoadError",c.type=i,c.request=s,a[1](c)}l[e]=void 0}};var m=setTimeout((function(){d({type:"timeout",target:u})}),12e4);u.onerror=u.onload=d,document.head.appendChild(u)}return Promise.all(t)},r.m=e,r.c=i,r.d=function(e,t,a){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(a,i,function(t){return e[t]}.bind(null,i));return a},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/admin/",r.oe=function(e){throw console.error(e),e};var d=window["webpackJsonp"]=window["webpackJsonp"]||[],u=d.push.bind(d);d.push=t,d=d.slice();for(var c=0;c<d.length;c++)t(d[c]);var m=u;n.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"031b":function(e,t,a){},"034f":function(e,t,a){"use strict";a("85ec")},"0850":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("grid-item",{attrs:{"col-end":"2","col-end-sm":"1"}},[a("v-switch",{attrs:{label:e.label,color:"accent",dense:"",outlined:"",dark:""},model:{value:e.value_,callback:function(t){e.value_=t},expression:"value_"}}),a("input",{attrs:{type:"hidden",name:e.name},domProps:{value:parseInt(0|e.value_)}})],1)},s=[],l=a("d803"),n={data:()=>({value_:null}),watch:{value(e){this.value_=!!parseInt(e)}},created(){this.value_=!!parseInt(this.value)},mixins:[l["a"]]},o=n,r=a("2877"),d=a("6544"),u=a.n(d),c=a("b73d"),m=Object(r["a"])(o,i,s,!1,null,null,null);t["default"]=m.exports;u()(m,{VSwitch:c["a"]})},"094c":function(e,t,a){"use strict";a("fdbe")},"0a85":function(e,t,a){var i={"./custom/_module/edit/Index.vue":["c245","chunk-2d2163e6"],"./item/_module/edit/Index.vue":["331d","chunk-b1470d82"],"./table/_module/edit/Index.vue":["a968","chunk-c08cc306"]};function s(e){if(!a.o(i,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=i[e],s=t[0];return a.e(t[1]).then((function(){return a(s)}))}s.keys=function(){return Object.keys(i)},s.id="0a85",e.exports=s},"13c2":function(e,t,a){},"173c":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"d-none"})},s=[],l=a("2877"),n={},o=Object(l["a"])(n,i,s,!1,null,null,null);t["default"]=o.exports},"17a9":function(e,t,a){},"1b8a":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("grid-item",{attrs:{"col-end":"2"}},[a("div",{staticClass:"grey--text text--lighten-1 font-weight-bold text-caption"},[e._v(e._s(e.label))]),a("div",{class:[e.disabled?"disabled":"","view-big-text-field"]},[a("ckeditor",{staticClass:"elevation-1",attrs:{value:e.value,editor:e.editor,config:e.config,disabled:e.disabled},on:{input:function(t){return e.editorData=t}}}),a("v-text-field",{attrs:{name:e.name,type:"hidden"},model:{value:e.editorData,callback:function(t){e.editorData=t},expression:"editorData"}})],1)])},s=[],l=a("fb3d"),n=a.n(l),o=a("d803"),r={props:{disabled:{type:Boolean,default:!1},fieldId:{type:Number,required:!0}},data:()=>({editor:n.a,editorData:""}),computed:{moduleId(){return this.$rest("modules").item.id},itemId(){return this.$route.params.sub},upload(){const e=this;return function(t){t.plugins.get("FileRepository").createUploadAdapter=t=>({loader:t,upload:()=>t.file.then(t=>e.$rest("modulesImages").upload({file:t,prop:"image",params:{itemId:e.itemId,moduleId:e.moduleId,fieldId:e.fieldId}}).catch(()=>{throw"Não foi possível fazer upload do arquivo."}))})}},config(){return{extraPlugins:[this.upload]}}},mounted(){this.editorData=this.value},mixins:[o["a"]]},d=r,u=(a("7cc0"),a("2877")),c=a("6544"),m=a.n(c),p=a("8654"),f=Object(u["a"])(d,i,s,!1,null,null,null);t["default"]=f.exports;m()(f,{VTextField:p["a"]})},"1e7e":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("grid-item",{attrs:{"col-end":"2","col-end-sm":"1"}},[a("v-text-field",{attrs:{label:e.label,value:e.value,name:e.name,dense:"",outlined:"",dark:""}})],1)},s=[],l=a("d803"),n={mixins:[l["a"]]},o=n,r=a("2877"),d=a("6544"),u=a.n(d),c=a("8654"),m=Object(r["a"])(o,i,s,!1,null,null,null);t["default"]=m.exports;u()(m,{VTextField:c["a"]})},"22b7":function(e,t,a){"use strict";a("d0a1")},"24b6":function(e,t,a){},"28eb":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("grid-item",{staticClass:"mb-2",attrs:{"row-end":"2","col-end":"2","col-end-sm":"1"}},[a("div",{staticClass:"grey--text text--lighten-1 font-weight-bold text-caption"},[e._v(e._s(e.label))]),a("tooltip",{attrs:{tip:e.label,top:""}},[a("v-responsive",{directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"grey d-flex align-center rounded-lg primary cursor-pointer",attrs:{"aspect-ratio":38/9},on:{click:function(t){e.dialog=!0}}},[a("div",{staticClass:"d-flex justify-center align-center"},[a("div",{staticClass:"d-flex flex-column"},[a("v-icon",{staticClass:"d-block mx-auto",attrs:{size:30}},[e._v("fas fa-file")]),a("div",{staticClass:"text-caption font-weight-bold mt-1"},[e._v("Enviar")])],1)])])],1),a("list",{attrs:{"input-name":e.name,"highlighted-file":e.value,"field-id":e.fieldId},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}})],1)},s=[],l=a("917e"),n=a("8dde"),o=a("d803"),r={props:{fieldId:{type:Number,required:!0}},data:()=>({dialog:!1}),mixins:[o["a"]],components:{Tooltip:l["a"],List:n["default"]}},d=r,u=a("2877"),c=a("6544"),m=a.n(c),p=a("132d"),f=a("6b53"),v=a("269a"),h=a.n(v),g=a("5607"),b=Object(u["a"])(d,i,s,!1,null,null,null);t["default"]=b.exports;m()(b,{VIcon:p["a"],VResponsive:f["a"]}),h()(b,{Ripple:g["a"]})},"2dae":function(e,t,a){},"30e9":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("grid-item",{attrs:{"col-end":"2","col-end-sm":"1"}},[a("div",{staticClass:"d-flex"},[a("v-select",{attrs:{label:e.label,items:e.tagsSelect,"no-data-text":"Nenhuma tag adicionada",dense:"",outlined:"",dark:"",multiple:"",chips:""},model:{value:e.value_,callback:function(t){e.value_=t},expression:"value_"}}),a("v-btn",{staticClass:"ml-1",attrs:{icon:"",small:""},on:{click:function(t){e.listDialog=!0}}},[a("v-icon",{attrs:{small:""}},[e._v("fas fa-cog")])],1)],1),a("input",{attrs:{name:e.name,type:"hidden"},domProps:{value:e.valueParsed}}),a("list",{attrs:{"field-id":e.fieldId,tags:e.tags},model:{value:e.listDialog,callback:function(t){e.listDialog=t},expression:"listDialog"}})],1)},s=[],l=a("917e"),n=a("81ec"),o=a("d803"),r={props:{fieldId:{type:Number,required:!0}},data:()=>({listDialog:!1,value_:null}),computed:{moduleId(){return this.$rest("modules").item.id},itemId(){return this.$route.params.sub},tags(){return this.$rest("modulesTags").getters.filterByProperty("fieldId",this.fieldId)},tagsSelect(){const e=this.tags.map(({title:e,id:t})=>({text:e,value:t}));return e},valueParsed(){return this.value_&&this.value_.length?JSON.stringify(this.value_):"[]"}},watch:{value(e){this.value_=e?JSON.parse(e):[]}},created(){this.$rest("modulesTags").get({params:{moduleId:this.moduleId},keepCache:!0})},mounted(){this.value_=this.value?JSON.parse(this.value):[]},mixins:[o["a"]],components:{Tooltip:l["a"],List:n["default"]}},d=r,u=a("2877"),c=a("6544"),m=a.n(c),p=a("8336"),f=a("132d"),v=a("b974"),h=Object(u["a"])(d,i,s,!1,null,null,null);t["default"]=h.exports;m()(h,{VBtn:p["a"],VIcon:f["a"],VSelect:v["a"]})},"32ee":function(e,t,a){var i={"./custom":"eeaf","./item":"c680","./table":"ba07"};function s(e){var t=l(e);return a(t)}function l(e){if(!a.o(i,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return i[e]}s.keys=function(){return Object.keys(i)},s.resolve=l,e.exports=s,s.id="32ee"},"34ed":function(e,t,a){},"46ae":function(e,t,a){},"47a6":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("grid-item",{attrs:{"col-end":"2","col-end-sm":"1"}},[a("v-text-field",{attrs:{label:e.label,value:e.value,name:e.name,rules:[e.rules.url],"append-icon":"fas fa-globe",type:"url",dense:"",outlined:"",dark:""}})],1)},s=[],l=a("d803"),n=a("5f42"),o={data:()=>({rules:{url:n["e"]}}),mixins:[l["a"]]},r=o,d=a("2877"),u=a("6544"),c=a.n(u),m=a("8654"),p=Object(d["a"])(r,i,s,!1,null,null,null);t["default"]=p.exports;c()(p,{VTextField:m["a"]})},4884:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("grid-item",{staticClass:"mb-2",attrs:{"row-end":"2","col-end":"2","col-end-sm":"1"}},[a("div",{staticClass:"grey--text text--lighten-1 font-weight-bold text-caption d-flex align-center mb-1"},[e._v(e._s(e.label))]),a("tooltip",{attrs:{tip:e.label,top:""}},[a("v-responsive",{directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"grey d-flex align-center rounded-lg primary cursor-pointer",attrs:{"aspect-ratio":38/9},on:{click:function(t){e.listDialog=!0}}},[a("div",{staticClass:"d-flex justify-center align-center"},[a("div",{staticClass:"d-flex flex-column"},[a("v-icon",{staticClass:"d-block mx-auto",attrs:{size:30}},[e._v("fas fa-layer-group")]),a("div",{staticClass:"text-caption font-weight-bold mt-1"},[e._v("Alterar")])],1)])])],1),a("list",{attrs:{items:e.parsedValue,"input-name":e.name},on:{saved:function(t){e.listDialog=!1}},model:{value:e.listDialog,callback:function(t){e.listDialog=t},expression:"listDialog"}})],1)},s=[],l=a("917e"),n=a("b87b"),o=a("d803"),r={props:{fieldId:{type:Number,required:!0}},data:()=>({listDialog:!1}),computed:{moduleId(){return parseInt(this.$rest("modules").item.id)},parsedValue(){return JSON.parse(this.value||"[]")}},beforeCreate(){this.$rest("modulesFieldsTypes").get()},mixins:[o["a"]],components:{Tooltip:l["a"],List:n["default"]}},d=r,u=a("2877"),c=a("6544"),m=a.n(c),p=a("132d"),f=a("6b53"),v=a("269a"),h=a.n(v),g=a("5607"),b=Object(u["a"])(d,i,s,!1,null,null,null);t["default"]=b.exports;m()(b,{VIcon:p["a"],VResponsive:f["a"]}),h()(b,{Ripple:g["a"]})},"49b6":function(e,t,a){"use strict";a("031b")},"56b4":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-dialog",{attrs:{value:e.value,"max-width":"880px"},on:{input:function(t){return e.$emit("input",t)}}},[a("v-card",{staticClass:"pa-4",attrs:{dark:""}},[a("div",{staticClass:"title mb-4 d-flex flex-column flex-sm-row justify-space-between"},[a("div",[e._v("Galeria")]),a("div",[a("v-btn",{staticClass:"mr-2 text-none",attrs:{color:"secondary",disabled:1!==e.selecteds.length,depressed:"",small:""},on:{click:e.highlight}},[a("v-icon",{attrs:{left:"",small:""}},[e._v("fas fa-star")]),a("span",[e._v("Destacar")])],1),a("v-btn",{staticClass:"mr-2 text-none",attrs:{color:"secondary",disabled:!e.selecteds.length,depressed:"",small:""},on:{click:e.remove}},[a("v-icon",{attrs:{left:"",small:""}},[e._v("fas fa-trash")]),a("span",[e._v("Remover")])],1),a("v-btn",{staticClass:"text-none",attrs:{color:"secondary",depressed:"",small:""},on:{click:function(t){return e.$refs.imageFileLabel.click()}}},[a("v-icon",{attrs:{left:"",small:""}},[e._v("fas fa-upload")]),a("span",[e._v("Enviar")])],1)],1)]),e.imgs.length?a("v-item-group",{staticClass:"view-field-list d-flex flex-wrap",attrs:{multiple:""},model:{value:e.selecteds,callback:function(t){e.selecteds=t},expression:"selecteds"}},e._l(e.imgs,(function(t,i){var s=t.path,l=t.id;return a("v-item",{key:i,attrs:{value:l},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.active,l=t.toggle;return[a("v-img",{directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"view-field-item rounded-sm",class:i?"active cyan":"grey",attrs:{src:e.files.replace("/admin","")+s,contain:""},on:{click:l}},[s===e.highlightedImage?a("v-overlay",{attrs:{absolute:"",opacity:"0.2"}},[a("v-icon",{attrs:{color:"yellow",size:"40"}},[e._v("fas fa-star")])],1):e._e()],1)]}}],null,!0)})})),1):a("div",{staticClass:"pt-8 pb-4 text-body-2 text-center font-weight-bold"},[e._v("Nenhuma imagem foi enviada.")])],1),a("v-overlay",{model:{value:e.uploading,callback:function(t){e.uploading=t},expression:"uploading"}},[a("v-progress-circular",{staticClass:"font-weight-bold accent--text",attrs:{value:e.progress,size:120,rotate:-90,width:12,color:"secondary"}},[e._v(e._s(e.progress)+"%")])],1),a("v-overlay",{model:{value:e.loading,callback:function(t){e.loading=t},expression:"loading"}},[a("loading")],1),a("label",{ref:"imageFileLabel",attrs:{for:"imageFileInput_"+e.fieldId}}),a("input",{ref:"imageFileInput",staticClass:"ma-0 pa-0",attrs:{id:"imageFileInput_"+e.fieldId,type:"file",accept:"image/*",multiple:"","hide-details":"",hidden:""},domProps:{value:e.file},on:{input:e.upload}})],1)},s=[],l=a("9431"),n={props:{value:Boolean,inputName:{type:String,required:!0},highlightedImage:String,fieldId:{type:Number,required:!0}},data:()=>({file:null,uploading:!1,progress:0,loading:!1,imgs:[],selecteds:[],useDefaultUI:!0,options:{cssMaxWidth:700,cssMaxHeight:500}}),computed:{moduleKey(){return this.$rest("modules").item.key},moduleId(){return this.$rest("modules").item.id},itemId(){return this.$route.params.sub||1}},methods:{get(){return this.$rest("modulesImages").get({id:this.itemId,params:{moduleId:this.moduleId,fieldId:this.fieldId}}).then(e=>this.imgs=e)},remove(){this.loading=!0,Promise.all(this.selecteds.map(e=>this.$rest("modulesImages").delete({id:e,params:{moduleId:this.moduleId}}))).finally(()=>{this.selecteds=[],this.get().then(()=>this.loading=!1)})},highlight(){this.loading=!0;const e=this.imgs.find(({id:e})=>e==this.selecteds[0])["path"],t={};t[this.inputName]=e,this.$rest(this.moduleKey).put({id:this.itemId,prop:this.inputName,data:t}).then(()=>this.$rest(this.moduleKey).get({id:this.itemId}).then(()=>{this.selecteds=[],this.loading=!1}))},async upload({target:e}){const t=e.files,a=({loaded:e,total:t})=>this.progress=new Intl.NumberFormat("pt-BR",{maximumFractionDigits:0}).format(e/t*100);this.uploading=!0,Promise.all(Array.from(t).map(e=>this.$rest("modulesImages").upload({file:e,prop:"image",params:{itemId:this.itemId,moduleId:this.moduleId,fieldId:this.fieldId},onUploadProgress:a}).then(({file:e,id:t})=>{this.progress=0,this.imgs.push({path:e,id:t})}))).then(()=>{this.$refs.imageFileInput.value="",this.uploading=!1})}},created(){this.get()},components:{Loading:l["a"]}},o=n,r=(a("e8db"),a("2877")),d=a("6544"),u=a.n(d),c=a("8336"),m=a("b0af"),p=a("169a"),f=a("132d"),v=a("adda"),h=a("d903"),g=a("604c"),b=a("a797"),x=a("490a"),y=a("269a"),_=a.n(y),k=a("5607"),C=Object(r["a"])(o,i,s,!1,null,"30e3b204",null);t["default"]=C.exports;u()(C,{VBtn:c["a"],VCard:m["a"],VDialog:p["a"],VIcon:f["a"],VImg:v["a"],VItem:h["a"],VItemGroup:g["b"],VOverlay:b["a"],VProgressCircular:x["a"]}),_()(C,{Ripple:k["a"]})},"56be":function(e,t,a){"use strict";a("838b")},"56d7":function(e,t,a){"use strict";a.r(t);var i=a("2b0e"),s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app",[e.checking?a("v-sheet",{staticClass:"d-flex justify-center align-center",attrs:{color:"transparent",height:"100%",width:"100%"}},[a("loading")],1):[["/error404","/entrar","/setup"].includes(e.$route.path)?e._e():a("main-nav"),a("v-main",[a("router-view")],1)],a("float-alert",{attrs:{value:e.lastRequestError,color:"red"}},[a("span",[e._v(e._s(e.lastRequestError))])]),a("float-alert",{attrs:{value:e.lastRequestSuccess,color:"green"}},[a("span",[e._v(e._s(e.lastRequestSuccess))])])],2)},l=[],n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("app-bar",{on:{toggledrawer:function(t){e.drawer=!e.drawer}}}),a("navigation-drawer",{model:{value:e.drawer,callback:function(t){e.drawer=t},expression:"drawer"}})],1)},o=[],r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app-bar",{attrs:{color:"primary lighten-2",fixed:"",app:"",dense:""}},[e.sm?a("router-link",{staticClass:"h-100 white--text",attrs:{to:"/"}},[a("img",{staticClass:"py-1",attrs:{src:"/admin/img/logo.svg",height:"100%",contain:""}})]):e._e(),a("div",{staticClass:"grey--text text--lighten-3 text-center text-caption"},[e._v("MRX CMS Headless "+e._s(e.version))]),a("v-spacer"),a("v-menu",{attrs:{"close-on-content-click":!1,"min-width":"200px",rounded:"","offset-y":"",bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[a("v-btn",e._g({attrs:{icon:"","x-large":""}},i),[a("v-avatar",{attrs:{color:"accent",size:"42"}},[a("span",{staticClass:"white--text"},[e._v(e._s(e.userInitial))])])],1)]}}]),model:{value:e.menu,callback:function(t){e.menu=t},expression:"menu"}},[a("v-card",[a("v-list-item-content",{staticClass:"justify-center pb-0 primary lighten-2 white--text"},[a("div",{staticClass:"mx-auto text-center"},[a("v-avatar",{staticClass:"mb-2",attrs:{color:"accent"}},[a("span",{staticClass:"white--text"},[e._v(e._s(e.userInitial))])]),a("h4",[e._v(e._s(e.user.name))]),a("p",{staticClass:"caption mt-1"},[e._v(e._s(e.user.email))]),a("v-divider"),1==e.user.type?[a("v-btn",{staticClass:"text-none",attrs:{color:"white",depressed:"",text:"",block:"",tile:""},on:{click:function(t){e.$router.push("/accounts")&&(e.menu=!1)}}},[a("v-icon",{attrs:{left:""}},[e._v("fas fa-users")]),a("span",[e._v("Contas")])],1),a("v-divider"),a("v-btn",{staticClass:"text-none",attrs:{color:"white",depressed:"",text:"",block:"",tile:""},on:{click:function(t){e.$router.push("/modules")&&(e.menu=!1)}}},[a("v-icon",{attrs:{left:""}},[e._v("fas fa-cogs")]),a("span",[e._v("Módulos")])],1),a("v-divider"),a("v-btn",{staticClass:"text-none",attrs:{color:"white",depressed:"",text:"",block:"",tile:""},on:{click:function(t){e.$router.push("/email")&&(e.menu=!1)}}},[a("v-icon",{attrs:{left:""}},[e._v("fas fa-envelope")]),a("span",[e._v("E-mail")])],1),a("v-divider"),a("v-btn",{staticClass:"text-none",attrs:{color:"white",depressed:"",text:"",block:"",tile:""},on:{click:function(t){e.$router.push("/tags")&&(e.menu=!1)}}},[a("v-icon",{attrs:{left:""}},[e._v("fas fa-code")]),a("span",[e._v("Tags")])],1),a("v-divider")]:e._e(),a("v-btn",{staticClass:"text-none",attrs:{loading:e.loading,color:"white",depressed:"",text:"",block:"",tile:""},on:{click:e.logout}},[a("v-icon",{attrs:{left:""}},[e._v("fas fa-sign-out-alt")]),a("span",[e._v("Sair")])],1)],2)])],1)],1),e.sm?a("v-app-bar-nav-icon",{attrs:{color:"grey lighten-2"},on:{click:function(){return e.$emit("toggledrawer")}}}):e._e()],1)},d=[],u={data:()=>({loading:!1,menu:!1}),computed:{sm(){return this.$vuetify.breakpoint.smAndDown},user(){return this.$store.state.user},userInitial(){return this.user.name.slice(0,1)},version(){return"v0.1.0"}},methods:{logout(){this.loading=!0,this.$auth.logout().then(()=>this.$router.push("/entrar")).finally(()=>this.loading=!1)}}},c=u,m=a("2877"),p=a("6544"),f=a.n(p),v=a("40dc"),h=a("5bc1"),g=a("8212"),b=a("8336"),x=a("b0af"),y=a("ce7e"),_=a("132d"),k=a("5d23"),C=a("e449"),I=a("2fa4"),$=Object(m["a"])(c,r,d,!1,null,null,null),w=$.exports;f()($,{VAppBar:v["a"],VAppBarNavIcon:h["a"],VAvatar:g["a"],VBtn:b["a"],VCard:x["a"],VDivider:y["a"],VIcon:_["a"],VListItemContent:k["a"],VMenu:C["a"],VSpacer:I["a"]});var V=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-navigation-drawer",{attrs:{value:e.value,temporary:e.sm,permanent:!e.sm,color:"primary lighten-2",width:"240px",fixed:"",app:"",dark:""},on:{input:function(){return e.$emit("input")}}},[a("div",{staticClass:"pa-4 align-content-center"},[a("router-link",{staticClass:"white--text h-100",attrs:{to:"/"}},[a("img",{staticClass:"logo",attrs:{src:"/admin/img/logo.svg",contain:""}})])],1),a("v-divider"),e.modules.length?[a("v-list-item-group",{staticClass:"mt-2",model:{value:e.current,callback:function(t){e.current=t},expression:"current"}},[a("v-list",{attrs:{dense:"",nav:""}},[e._l(e.nav,(function(t,i){var s=t.text,l=t.to,n=t.icon,o=t.items;return[o?a("v-list-group",{key:i,attrs:{"no-action":"",color:"white"},scopedSlots:e._u([{key:"activator",fn:function(){return[a("v-list-item-title",{staticClass:"body-2 text-uppercase font-weight-bold"},[e._v(e._s(s))])]},proxy:!0}],null,!0)},e._l(o,(function(t,i){var s=t.text,l=t.to,n=t.icon;return a("v-list-item",{key:i,staticClass:"pl-8",attrs:{to:l,link:""}},[a("v-list-item-icon",[a("v-icon",[e._v(e._s(n))])],1),a("v-list-item-content",[a("v-list-item-title",{staticClass:"body-2"},[e._v(e._s(s))])],1)],1)})),1):a("v-list-item",{key:i,attrs:{to:l,link:""}},[a("v-list-item-icon",[a("v-icon",[e._v(e._s(n))])],1),a("v-list-item-content",[a("v-list-item-title",{staticClass:"body-2"},[e._v(e._s(s))])],1)],1)]}))],2)],1)]:a("div",{staticClass:"pa-2 mx-2 mt-10 white--text font-weight-bold primary rounded-pill text-body-2 text-center"},[e._v("Nenhum módulo adicionado.")])],2)},T=[],S={props:{value:Boolean},data(){return{current:this.$route.path}},computed:{nav(){let e=[],t=[];for(let a of this.modules)a.menuId?e.push(a):t.push(a);return e=e.reduce((e,t)=>{const a=e.find(({text:e})=>e===t.menuTitle);return a?a.items.push({text:t.name,to:"/"+t.key,icon:t.icon}):e.push({text:t.menuTitle,items:[{text:t.name,to:"/"+t.key,icon:t.icon}]}),e},[]),t=t.map(({name:e,key:t,icon:a})=>({text:e,to:"/"+t,icon:a})),t=t.sort((e,t)=>e.text.localeCompare(t.text)),e=e.map(e=>(e.items=e.items.sort((e,t)=>e.text.localeCompare(t.text)),e)).sort((e,t)=>e.text.localeCompare(t.text)),[...t,...e]},modules(){return this.$rest("modules").list},sm(){return this.$vuetify.breakpoint.smAndDown}}},O=S,j=(a("56f5"),a("8860")),D=a("56b0"),E=a("da13"),A=a("1baa"),F=a("34c3"),N=a("f774"),q=Object(m["a"])(O,V,T,!1,null,null,null),L=q.exports;f()(q,{VDivider:y["a"],VIcon:_["a"],VList:j["a"],VListGroup:D["a"],VListItem:E["a"],VListItemContent:k["a"],VListItemGroup:A["a"],VListItemIcon:F["a"],VListItemTitle:k["b"],VNavigationDrawer:N["a"]});var B={data:()=>({drawer:!1}),components:{AppBar:w,NavigationDrawer:L}},M=B,P=Object(m["a"])(M,n,o,!1,null,null,null),R=P.exports,U=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-snackbar",{attrs:{value:e.value&&e.visible,color:e.color,top:"",timeout:e.timeout}},[a("v-icon",{attrs:{color:"white",left:"",size:"16"}},[e._v("fas fa-info-circle")]),a("span",[e._t("default")],2),a("v-spacer")],1)},K=[],z={props:{timeout:{type:Number,default:4e3},value:{default:!1},color:{type:String,default:"red"}},data:()=>({visible:null}),watch:{value(e){e?(this.visible=!0,this.timetoutId=window.setTimeout(()=>this.visible=!1,this.timeout)):(window.clearInterval(this.timetoutId),this.visible=!1),this.$emit("input")}},mounted(){this.value?this.visible=!0:this.visible=!1}},H=z,J=a("2db4"),Z=Object(m["a"])(H,U,K,!1,null,null,null),W=Z.exports;f()(Z,{VIcon:_["a"],VSnackbar:J["a"],VSpacer:I["a"]});var G=a("9431"),X=a("bc3a"),Y=a.n(X);const Q={getByProperty:e=>(t,a)=>e.list.find(e=>e[t]==a),getById:e=>t=>Q.getByProperty(e)("id",t),filterByProperty:e=>(t,a)=>e.list.filter(e=>e[t]==a)};var ee=Q;const te={updateList:(e,{data:t,keepCache:a,cacheItemKey:i})=>{if(Array.isArray(t))if(a&&e.list.length)for(let s of t)e.list.find(e=>e[i]==s[i])||e.list.push(s);else e.list=t;else window.console.warn("VuexRest: a mutação updateList deve ter um array como seu parâmetro de dados.")},refreshItem:(e,t)=>{const a=e.list.find(e=>e.id==t);a&&(e.item=a)},updateItem:(e,{id:t,data:a,keepCache:i})=>{e.itemId=t,e.item=a;const s=e.list.find(e=>e.id==t);if(s)for(let l in a)i&&s[l]||(s[l]=a[l]);else e.list.push({...a,id:t})},setProperty:(e,{id:t,prop:a,data:i})=>{const s=e.list.find(e=>e.id==t);s&&(s[a]=i)},remove:(e,t)=>e.list.splice(e.list.findIndex(e=>e.id==t),1),function:(e,t)=>t(e)};var ae=te;const ie=e=>e.replace(/[A-Z]/g,e=>"-"+e.toLocaleLowerCase());var se=ie;const le=(e,{id:t,prop:a,params:i})=>{let s="/"+e;return i=i&&new URLSearchParams(i).toString(),t&&(s+="/"+t),a&&(s+="/"+se(a)),i&&(s+="?"+i),s},ne={get:async({state:e,commit:t},{id:a,params:i,save:s=!0,keepCache:l=!1,cacheItemKey:n="id"})=>{a&&t("refreshItem",a);const o=le(e.group,{id:a,params:i}),{data:r}=await pe.get(o);return r&&(s&&"function"===typeof s?t("function",e=>s(e,r)):a?t("updateItem",{id:a,data:r,keepCache:l,cacheItemKey:n}):t("updateList",{data:r,keepCache:l,cacheItemKey:n})),r},post:async({state:e,commit:t},{data:a,params:i,save:s=!0})=>{let l=le(e.group,{data:a,params:i});a&&"object"!==typeof a&&(a={value:a});const n=await pe.post(l,a);return s&&"function"===typeof s?t("function",e=>s(e)):n.data&&t("updateList",{data:n.data}),n.data},put:async({state:e,commit:t},{id:a,prop:i,data:s,params:l,save:n=!0})=>{if(a&&i){let t=e.list.find(e=>e.id==a);if(t&&(t=t[i]),s==t)return}else if(a){const t=e.list.find(e=>e.id==a);if(s==t)return}let o=le(e.group,{id:a,prop:i,params:l});return s instanceof FormData?s=Object.fromEntries(s.entries()):"object"!==typeof s&&(s={value:s}),await pe.put(o,s),n&&"function"===typeof n?t("function",e=>n(e)):a&&i?t("setProperty",{id:a,prop:i,data:"object"===typeof s?s.value:s}):a&&t("updateItem",{id:a,data:s}),!0},upload:async({state:e,commit:t},{id:a,prop:i,file:s,params:l,data:n,onUploadProgress:o,save:r=!0})=>{let d=le(e.group,{id:a,prop:i,params:l});const u={onUploadProgress:o},c=new FormData;c.append(i,s);for(let p in n)c.append(p,n[p]);const m=await pe.post(d,c,u);return m.data.file?r&&"function"===typeof r?t("function",e=>r(e,m.data)):a&&i?t("setProperty",{id:a,prop:i,data:m.data.file}):a&&t("updateItem",{id:a,data:m.data.file}):window.console.warn(`VuexRest: a requisição para a rota "${d}" não teve como resposta um\n        objeto json com a propiedade file especificando a url para o caminho\n        do arquivo que foi feito upload.`),m.data},delete:async({state:e,commit:t},{id:a,params:i,save:s=!0})=>{const l=le(e.group,{id:a,params:i});return await pe.delete(l),s&&"function"===typeof s?t("function",e=>s(e)):a&&t("remove",a),!0}};var oe=ne;const re=e=>({namespaced:!0,state:{list:[],itemId:null,item:{},group:e||""},getters:ee,mutations:ae,actions:oe}),de={id:"A propiedade options.id deve ser um número ou uma string.",prop:"A propiedade options.prop deve ser uma string.",data:"A propiedade options.data deve ser um objeto.",params:"A propiedade options.params deve ser um objeto.",file:"A propiedade options.params deve ser um objeto File.",onUploadProgress:"A propiedade options.onUploadProgress deve ser uma função.",save:"A propiedade options.save deve ser booleana ou uma função.",keepCache:"A propiedade options.save deve ser booleana."},ue={id:e=>"string"===typeof e||"number"===typeof e,prop:e=>"string"===typeof e,data:e=>"object"===typeof e,params:e=>"object"===typeof e,file:e=>e instanceof File,onUploadProgress:e=>"function"===typeof e,save:e=>"boolean"===typeof e||"function"===typeof e,keepCache:e=>"boolean"===typeof e},ce=e=>{if("object"!==typeof e)throw new TypeError("O parâmetro <options> deve ser um objeto.");for(let t in e)if(!ue[t](e[t]))throw new TypeError(de[t])};var me=ce;const pe=Y.a.create(),fe=Object.keys(ee),ve=Object.keys(oe),he={install:(e,{base:t})=>{pe.defaults.baseURL=t||"/",e.prototype.$rest=function(e){if("string"!==typeof e)throw new TypeError("O parâmetro <module> deve ser uma string.");const t=this.$store,a=(a,i)=>(me(i||{}),t.dispatch(`${"_rest_"+e}/${a}`,i||{}));t.hasModule("_rest_"+e)||t.registerModule("_rest_"+e,re(se(e)));const{item:i,list:s}=t.state["_rest_"+e],l={item:i,list:s,getters:{}};for(let n of fe)l.getters[n]=t.getters[`${"_rest_"+e}/${n}`];for(let n of ve)l[n]=e=>a(n,e);return l}}};var ge=he,be=a("2f62"),xe={data:()=>({checking:!0}),computed:{...Object(be["b"])(["lastRequestError","lastRequestSuccess"])},beforeCreate(){pe.interceptors.request.use(e=>(this.$store.dispatch("startRequest"),e.headers["Authorization"]=localStorage.getItem("token")||"",e),e=>this.$store.dispatch("connectionStatusChange",{ok:!1,error:e})&&Promise.reject(e)),pe.interceptors.response.use(e=>this.$store.dispatch("endRequest",e.data)&&e,e=>303===e.response.status?(this.$router.push(new URL(e.response.data.redirect).pathname),this.$store.dispatch("endRequest",{})):this.$store.dispatch("endRequest",e.response.data)&&Promise.reject(e))},created(){if(this.installed){if(!this.$auth.on){this.checking=!0;const e=window.localStorage.getItem("token"),t=["/entrar"].includes(this.$route.path);e?this.$auth.checkIn().then(e=>{this.$store.dispatch("setInfoUser",e),t&&this.$router.replace("/")}).catch(()=>!t&&this.$router.replace("/entrar")).finally(()=>this.checking=!1):t?this.checking=!1:(this.checking=!1,this.$router.replace("/entrar"))}}else"/setup"!==this.$route.path&&this.$router.replace("/setup"),this.checking=!1},components:{MainNav:R,FloatAlert:W,Loading:G["a"]}},ye=xe,_e=(a("034f"),a("7496")),ke=a("f6c4"),Ce=a("8dd9"),Ie=Object(m["a"])(ye,s,l,!1,null,null,null),$e=Ie.exports;f()(Ie,{VApp:_e["a"],VMain:ke["a"],VSheet:Ce["a"]});var we=a("8c4f"),Ve=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-sheet",{staticClass:"d-flex justify-center align-center pa-3",attrs:{color:"transparent",height:"100%"}},[a("v-card",{staticClass:"pa-4",attrs:{height:"max-content",width:"320px",color:"primary lighten-2",outlined:""}},[a("img",{staticClass:"page-login-logo mb-3",attrs:{src:"/admin/img/logo.svg"}}),a("div",{staticClass:"grey--text text--lighten-3 text-center mb-4"},[a("div",{staticClass:"title"},[e._v("Painel de Administração")]),a("div",{staticClass:"text-body-1"},[e._v(e._s(e.version))])]),a("login-form",{attrs:{loading:e.loading},on:{send:e.send}})],1)],1)},Te=[],Se=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-form",{ref:"form"},[a("v-text-field",{attrs:{rules:[e.rules.required,e.rules.email],loading:e.loading,"prepend-inner-icon":"fas fa-user",type:"email",label:"E-mail",name:"email",autocomplete:"email",dense:"",outlined:"",dark:""},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.send(t)}}}),a("v-text-field",{attrs:{rules:[e.rules.required],loading:e.loading,"append-icon":e.show?"fas fa-eye":"fas fa-eye-slash",type:e.show?"text":"password","prepend-inner-icon":"fas fa-lock",label:"Senha",name:"password",autocomplete:"password",dense:"",outlined:"",dark:""},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.send(t)},"click:append":function(t){e.show=!e.show}}}),a("v-btn",{staticClass:"text-none d-block ml-auto",attrs:{loading:e.loading,color:"secondary",depressed:"",block:""},on:{click:e.send}},[e._v("Entrar")])],1)},Oe=[],je=a("5f42"),De={props:{loading:{type:Boolean,default:!1}},data:()=>({rules:{required:je["d"],email:je["b"]},show:!1}),methods:{send(){const e=this.$refs.form;if(e.validate()){const t=Object.fromEntries(new FormData(e.$el).entries());this.$emit("send",t)}}}},Ee=De,Ae=(a("7a50"),a("4bd4")),Fe=a("8654"),Ne=Object(m["a"])(Ee,Se,Oe,!1,null,null,null),qe=Ne.exports;f()(Ne,{VBtn:b["a"],VForm:Ae["a"],VTextField:Fe["a"]});var Le={data:()=>({loading:!1}),computed:{version(){return"v0.1.0"}},methods:{send(e){this.loading=!0,this.$auth.login(e).then(e=>{this.$store.dispatch("setInfoUser",e),this.$router.push("/")}).finally(()=>this.loading=!1)}},created(){this.$auth.on&&this.$router.replace("/")},components:{LoginForm:qe}},Be=Le,Me=(a("094c"),Object(m["a"])(Be,Ve,Te,!1,null,null,null)),Pe=Me.exports;f()(Me,{VCard:x["a"],VSheet:Ce["a"]});var Re=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-sheet",{staticClass:"mx-auto pa-4 d-flex align-center",attrs:{color:"transparent","max-width":"960px","min-height":"100%"}},[e.loading?a("loading",{staticClass:"mx-auto"}):e.modules.length?a("grid-list",{staticClass:"py-4",attrs:{"col-width":"150px",gap:"16px"}},e._l(e.modules,(function(e,t){var i=e.name,s=e.icon,l=e.key;return a("v-responsive",{key:t,attrs:{"aspect-ratio":1,width:"150px"}},[a("module-card",{attrs:{to:"/"+l,title:i,icon:s}})],1)})),1):a("div",{staticClass:"pa-4 white--text font-weight-bold primary rounded-pill text-body-1 mx-auto"},[e._v("Nenhum módulo adicionado.")])],1)},Ue=[],Ke=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-card",{staticClass:"d-flex align-center flex-column justify-center",attrs:{to:e.to,height:"100%",color:"primary lighten-1",outlined:""}},[a("v-icon",{attrs:{size:"78",color:"grey lighten-3"}},[e._v(e._s(e.icon))]),a("span",{staticClass:"font-weight-bold mt-2 grey--text text--lighten-5 text-center"},[e._v(e._s(e.title))])],1)},ze=[],He={props:{title:{type:String,required:!0},to:{type:String,required:!0},icon:{type:String,required:!0}}},Je=He,Ze=Object(m["a"])(Je,Ke,ze,!1,null,null,null),We=Ze.exports;f()(Ze,{VCard:x["a"],VIcon:_["a"]});var Ge={data:()=>({loading:!0}),computed:{modules(){return this.$rest("modules").list}},beforeCreate(){this.$rest("modules").get().finally(()=>this.loading=!1)},components:{Loading:G["a"],ModuleCard:We}},Xe=Ge,Ye=a("6b53"),Qe=Object(m["a"])(Xe,Re,Ue,!1,null,null,null),et=Qe.exports;f()(Qe,{VResponsive:Ye["a"],VSheet:Ce["a"]});var tt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-sheet",{staticClass:"d-flex justify-center align-center pa-3",attrs:{color:"transparent",height:"100%"}},[a("v-card",{staticClass:"pa-4",attrs:{height:"max-content",width:"320px",color:"primary lighten-2",outlined:""}},[a("img",{staticClass:"page-login-logo mb-3",attrs:{src:"/admin/img/logo.svg"}}),a("div",{staticClass:"title grey--text text--lighten-3 text-center mb-4"},[e._v("Configurar Banco de Dados")]),a("setup-form",{attrs:{loading:e.loading},on:{send:e.send}})],1)],1)},at=[],it=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-form",{ref:"form"},[a("v-text-field",{attrs:{rules:[e.rules.required],loading:e.loading,disabled:e.loading,value:"localhost",type:"text",label:"HOST",name:"host",dense:"",outlined:"",dark:""}}),a("v-text-field",{attrs:{rules:[e.rules.required],loading:e.loading,disabled:e.loading,type:"text",label:"BANCO DE DADOS",name:"database",dense:"",outlined:"",dark:""}}),a("v-text-field",{attrs:{rules:[e.rules.required],loading:e.loading,disabled:e.loading,type:"text",label:"USUÁRIO",name:"user",dense:"",outlined:"",dark:""}}),a("v-text-field",{attrs:{rules:[e.rules.required],loading:e.loading,disabled:e.loading,type:"password",label:"SENHA",name:"password",dense:"",outlined:"",dark:""}}),a("v-btn",{staticClass:"text-none d-block ml-auto",attrs:{loading:e.loading,color:"secondary",depressed:"",block:""},on:{click:e.send}},[e._v("Confirmar")])],1)},st=[],lt={props:{loading:{type:Boolean,default:!1}},data:()=>({rules:{required:je["d"]}}),methods:{send(){const e=this.$refs.form;if(e.validate()){const t=Object.fromEntries(new FormData(e.$el).entries());this.$emit("send",t)}}}},nt=lt,ot=Object(m["a"])(nt,it,st,!1,null,null,null),rt=ot.exports;f()(ot,{VBtn:b["a"],VForm:Ae["a"],VTextField:Fe["a"]});var dt={data:()=>({loading:!1}),created(){(this.$auth.on||this.installed)&&this.$router.replace("/")},methods:{send(e){this.loading=!0,this.$rest("setup").post({data:e}).then(()=>{this.installed=!0,this.$router.push("/entrar")}).finally(()=>this.loading=!1)}},components:{SetupForm:rt}},ut=dt,ct=(a("e403"),Object(m["a"])(ut,tt,at,!1,null,null,null)),mt=ct.exports;f()(ct,{VCard:x["a"],VSheet:Ce["a"]});var pt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("module-template",{attrs:{title:"Módulos"},scopedSlots:e._u([{key:"toolbar",fn:function(){return[a("toolbar-button",{attrs:{tip:"Menu",icon:"fas fa-bars",dark:""},on:{click:function(t){e.dialogMenu=!0}}}),a("toolbar-button",{attrs:{to:e.$route.path+"/adicionar",tip:"Adicionar",icon:"fas fa-plus",dark:""}})]},proxy:!0}])},[a("v-data-table",{attrs:{headers:e.headers,items:e.items,loading:e.loading,height:"calc(100vh - 114px)","sort-by":"id","loading-text":"Carregado dados.","no-data-text":"Não há registros.","no-results-text":"Não há registros.","sort-desc":"","fixed-header":"","disable-pagination":"","hide-default-footer":"",dark:""},on:{"click:row":function(t){return e.$router.push(e.$route.path+"/"+t.id)}},scopedSlots:e._u([{key:"item.action",fn:function(t){var i=t.item;return[a("v-btn",{attrs:{disabled:0==i.removable,color:"red",icon:"",small:""},on:{click:function(t){return t.stopPropagation(),e.remove(i.id)}}},[a("v-icon",{attrs:{small:""}},[e._v("fas fa-trash")])],1)]}},{key:"item.menuTitle",fn:function(t){var i=t.item;return[a("div",[a("span",[e._v(e._s(i.menuTitle))]),a("v-btn",{attrs:{color:"blue",icon:"",small:""},on:{click:function(t){return t.stopPropagation(),e.editMenuTitle(i)}}},[a("v-icon",{attrs:{small:""}},[e._v("fas fa-exchange-alt")])],1)],1)]}}])}),a("v-dialog",{attrs:{"max-width":"400",persistent:""},model:{value:e.dialogConfirm,callback:function(t){e.dialogConfirm=t},expression:"dialogConfirm"}},[a("v-card",{attrs:{dark:""}},[a("v-card-title",{staticClass:"d-flex justify-center"},[e._v("Confirmar remoção")]),a("v-card-text",[a("p",[e._v("Ao excluir um módulo, será excluído todos os posts e outros e registros vinculados à ele.")]),a("p",{staticClass:"mb-0"},[e._v("Tem certeza que deseja continuar?")])]),a("v-card-actions",{staticClass:"d-flex justify-space-between"},[a("v-btn",{staticClass:"text-none",attrs:{color:"secondary",text:""},on:{click:function(t){return e.$emit("cancel")}}},[e._v("Cancelar")]),a("v-btn",{staticClass:"text-none",attrs:{color:"secondary",depressed:""},on:{click:function(t){return e.$emit("confirm")}}},[e._v("Confirmar")])],1)],1)],1),a("menu-config-list",{attrs:{menus:e.menus},model:{value:e.dialogMenu,callback:function(t){e.dialogMenu=t},expression:"dialogMenu"}}),a("menu-edit",{attrs:{menus:e.menus,"module-item":e.moduleItem},model:{value:e.dialogEditMenu,callback:function(t){e.dialogEditMenu=t},expression:"dialogEditMenu"}})],1)},ft=[],vt=a("e3c9"),ht=a("fe48"),gt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-dialog",{attrs:{value:e.value,"max-width":"500px"},on:{input:function(t){return e.$emit("input",t)}}},[a("v-card",{staticClass:"pa-4",attrs:{dark:""}},[a("div",{staticClass:"title mb-4 d-flex flex-column flex-sm-row justify-space-between"},[a("div",[e._v("Menu")]),a("div",[a("v-btn",{staticClass:"mr-2 text-none",attrs:{color:"secondary",disabled:!e.selecteds.length,depressed:"",small:""},on:{click:e.remove}},[a("v-icon",{attrs:{left:"",small:""}},[e._v("fas fa-trash")]),a("span",[e._v("Remover")])],1),a("v-btn",{staticClass:"text-none",attrs:{color:"secondary",depressed:"",small:""},on:{click:function(t){e.addDialog=!0}}},[a("v-icon",{attrs:{left:"",small:""}},[e._v("fas fa-plus")]),a("span",[e._v("Adicionar")])],1)],1)]),e.menus.length?a("v-data-table",{attrs:{headers:e.headers,items:e.menus,"mobile-breakpoint":0,"no-data-text":"Não há registros.","sort-by":"id","sort-desc":"","show-select":"","disable-pagination":"","hide-default-footer":""},scopedSlots:e._u([{key:"item.title",fn:function(t){var i=t.item;return[a("v-edit-dialog",{staticClass:"primary lighten-4",attrs:{"return-value":e.editMenuTitle,dark:""},on:{save:function(t){return e.editTitle(i.id)},"update:returnValue":function(t){e.editMenuTitle=t},"update:return-value":function(t){e.editMenuTitle=t}},scopedSlots:e._u([{key:"input",fn:function(){return[a("v-text-field",{attrs:{value:i.title,rules:[e.rules.required],label:"Renomear","single-line":"",counter:""},on:{input:function(t){return e.editMenuTitle=t}}})]},proxy:!0}],null,!0)},[e._v(e._s(i.title))])]}}],null,!1,3157211870),model:{value:e.selecteds,callback:function(t){e.selecteds=t},expression:"selecteds"}}):a("div",{staticClass:"pt-8 pb-4 text-body-2 text-center font-weight-bold"},[e._v("Nenhum menu foi adicionada.")])],1),e.value?a("v-overlay",{model:{value:e.loading,callback:function(t){e.loading=t},expression:"loading"}},[a("loading")],1):e._e(),a("add",{model:{value:e.addDialog,callback:function(t){e.addDialog=t},expression:"addDialog"}})],1)},bt=[],xt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-dialog",{attrs:{value:e.value,"max-width":"330px"},on:{input:function(t){return e.$emit("input",t)}}},[a("v-card",{staticClass:"pa-4",attrs:{dark:""}},[a("div",{staticClass:"title mb-4 text-center"},[e._v("Adicionar menu")]),a("v-text-field",{staticClass:"mb-3",attrs:{label:"Título",outlined:"",dense:"","hide-details":""},model:{value:e.addMenuTitle,callback:function(t){e.addMenuTitle=t},expression:"addMenuTitle"}}),a("v-btn",{staticClass:"text-none",attrs:{disabled:!e.addMenuTitle,color:"secondary",block:"",depressed:""},on:{click:e.add}},[e._v("Adicionar")])],1),e.value?a("v-overlay",{model:{value:e.loading,callback:function(t){e.loading=t},expression:"loading"}},[a("loading")],1):e._e()],1)},yt=[],_t={props:{value:Boolean},data:()=>({loading:!1,addMenuTitle:null}),methods:{add(){this.loading=!0,this.$rest("modulesMenu").post({data:{title:this.addMenuTitle}}).then(e=>this.$emit("add",e)).finally(()=>{this.addMenuTitle=null,this.addDialog=!1,this.loading=!1})}},components:{Loading:G["a"]}},kt=_t,Ct=a("169a"),It=a("a797"),$t=Object(m["a"])(kt,xt,yt,!1,null,null,null),wt=$t.exports;f()($t,{VBtn:b["a"],VCard:x["a"],VDialog:Ct["a"],VOverlay:It["a"],VTextField:Fe["a"]});var Vt={props:{value:Boolean,menus:Array},data:()=>({addDialog:!1,loading:!1,headers:[{text:"Título",value:"title",align:"left"}],editMenuTitle:null,rules:{required:je["d"]},selecteds:[]}),methods:{remove(){this.loading=!0,Promise.all(this.selecteds.map(({id:e})=>this.$rest("modulesMenu").delete({id:e}))).finally(()=>{this.selecteds=[],this.loading=!1})},editTitle(e){const t=this.menus.find(({id:t})=>t==e).title;this.editMenuTitle&&t!==this.editMenuTitle&&(this.loading=!0,this.$rest("modulesMenu").put({id:e,prop:"title",data:{value:this.editMenuTitle}}).then(()=>this.loading=!1))}},components:{Loading:G["a"],Add:wt}},Tt=Vt,St=a("8fea"),Ot=a("7679"),jt=Object(m["a"])(Tt,gt,bt,!1,null,null,null),Dt=jt.exports;f()(jt,{VBtn:b["a"],VCard:x["a"],VDataTable:St["a"],VDialog:Ct["a"],VEditDialog:Ot["a"],VIcon:_["a"],VOverlay:It["a"],VTextField:Fe["a"]});var Et=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-dialog",{attrs:{value:e.value,"max-width":"330px"},on:{input:function(t){return e.$emit("input",t)}}},[a("v-card",{staticClass:"pa-4",attrs:{dark:""}},[a("div",{staticClass:"title mb-4 text-center"},[e._v("Definir menu")]),a("v-select",{staticClass:"mb-3",attrs:{items:e.menusSelect,label:"Título",outlined:"",dense:"","hide-details":""},model:{value:e.menuSelected,callback:function(t){e.menuSelected=t},expression:"menuSelected"}}),a("v-btn",{staticClass:"text-none",attrs:{disabled:e.loading||e.sameValue,color:"secondary",block:"",depressed:""},on:{click:e.save}},[e._v("Salvar")])],1),e.value?a("v-overlay",{model:{value:e.loading,callback:function(t){e.loading=t},expression:"loading"}},[a("loading")],1):e._e()],1)},At=[],Ft={props:{value:Boolean,menus:Array,moduleItem:Object},data:()=>({loading:!1,menuSelected:null}),computed:{menusSelect(){const e=this.$rest("modulesMenu").list.map(({id:e,title:t})=>({text:t,value:e}));return e.unshift({text:"(Nenhum)",value:null}),e},sameValue(){return!!this.moduleItem&&this.moduleItem.menuId===this.menuSelected}},methods:{save(){this.loading=!0,this.$rest("modules").put({id:this.moduleItem.id,prop:"menu",data:{value:this.menuSelected}}).then(()=>{this.loading=!1,this.menuSelected?(this.moduleItem.menuTitle=this.menus.find(({id:e})=>this.menuSelected==e).title,this.moduleItem.menuId=this.menuSelected):(this.moduleItem.menuTitle=null,this.moduleItem.menuId=null),this.$emit("input",!1)})}},components:{Loading:G["a"]}},Nt=Ft,qt=a("b974"),Lt=Object(m["a"])(Nt,Et,At,!1,null,null,null),Bt=Lt.exports;f()(Lt,{VBtn:b["a"],VCard:x["a"],VDialog:Ct["a"],VOverlay:It["a"],VSelect:qt["a"]});var Mt={data:()=>({loading:!1,headers:[{text:"Id",value:"id",align:"left"},{text:"Nome",value:"name"},{text:"View",value:"viewName"},{text:"Menu",value:"menuTitle"},{text:"",value:"action",align:"right"}],dialogConfirm:!1,dialogMenu:!1,dialogEditMenu:!1,moduleItem:null}),computed:{items(){return this.$rest("modules").list},sm(){return this.$vuetify.breakpoint.smAndDown},menus(){return this.$rest("modulesMenu").list}},methods:{remove(e){this.confirmation().then(()=>this.$rest("modules").delete({id:e}))},confirmation(){return this.dialogConfirm=!0,new Promise((e,t)=>{this.$once("confirm",()=>{this.dialogConfirm=!1,e()}),this.$once("cancel",()=>{this.dialogConfirm=!1,t()})})},editMenuTitle(e){this.dialogEditMenu=!0,this.moduleItem=e}},created(){1==this.$store.state.user.type?(this.loading=!0,this.$rest("modulesMenu").get(),this.$rest("modules").get().finally(()=>this.loading=!1)):this.$router.replace("/error404")},components:{ToolbarButton:vt["a"],ModuleTemplate:ht["a"],MenuConfigList:Dt,MenuEdit:Bt}},Pt=Mt,Rt=a("99d9"),Ut=Object(m["a"])(Pt,pt,ft,!1,null,null,null),Kt=Ut.exports;f()(Ut,{VBtn:b["a"],VCard:x["a"],VCardActions:Rt["a"],VCardText:Rt["b"],VCardTitle:Rt["c"],VDataTable:St["a"],VDialog:Ct["a"],VIcon:_["a"]});var zt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("module-template",{attrs:{title:"Adicionar módulo"}},[a("v-card",{staticClass:"pa-4 pb-0 rounded-t-0",attrs:{outlined:"",dark:""}},[a("v-form",{ref:"form",staticClass:"pt-4"},[a("v-row",[a("v-col",{staticClass:"py-0",attrs:{cols:"12",sm:"6",md:"12",lg:"3"}},[a("v-text-field",{attrs:{rules:[e.rules.required],label:"Nome",outlined:"",dense:""},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}})],1),a("v-col",{staticClass:"py-0",attrs:{cols:"12",sm:"6",md:"4",lg:"3"}},[a("v-select",{attrs:{items:e.views,rules:[e.rules.required],label:"Tipo",outlined:"",dense:""},model:{value:e.viewSelected,callback:function(t){e.viewSelected=t},expression:"viewSelected"}})],1),a("v-col",{staticClass:"py-0",attrs:{cols:"12",sm:"6",md:"4",lg:"3"}},[a("v-text-field",{attrs:{rules:[e.rules.required],"append-icon":e.icon,label:"Ícone",outlined:"",dense:""},model:{value:e.icon,callback:function(t){e.icon=t},expression:"icon"}})],1),a("v-col",{staticClass:"py-0",attrs:{cols:"12",sm:"6",md:"4",lg:"3"}},[a("v-text-field",{attrs:{rules:[e.rules.required,e.rules.alphaNumUnderline],label:"Chave",outlined:"",dense:""},model:{value:e.key,callback:function(t){e.key=t},expression:"key"}})],1)],1),e.viewSelected?a(e.viewSelected+"-add",{ref:"view",tag:"component"}):e._e(),e.viewSelected&&"custom"!==e.viewSelected?a("div",{staticClass:"d-flex justify-end py-4"},[a("v-btn",{staticClass:"text-none",attrs:{color:"secondary",depressed:"",loading:e.loading,disabled:e.loading},on:{click:e.add}},[e._v("Adicionar")])],1):e._e()],1)],1)],1)},Ht=[],Jt=a("eeaf"),Zt=a("ba07"),Wt=a("c680");const Gt={custom:Jt["default"],table:Zt["default"],item:Wt["default"]},Xt={},Yt={};a("32ee").keys().map(e=>{const t=e.match(/^\.\/[^/]+$/)[0].slice(2);t in Xt||t in Yt||(Xt[t]=[],Yt[t]=[]),Xt[t]=()=>a("ef14")(`./${t}/_module/add/Index.vue`),Yt[t]=()=>a("0a85")(`./${t}/_module/edit/Index.vue`)});let Qt=[];for(let zi in Gt)Qt="custom"===zi?[...Qt,...Gt[zi].flatMap(({routes:e})=>e)]:[...Qt,...Gt[zi].routes];Qt=Object.fromEntries(Qt.map(({component:e})=>[e.name,e]));var ea={name:"ModuleAdd",data:()=>({name:null,icon:null,key:null,viewSelected:null,rules:{required:je["d"],alphaNumUnderline:je["a"]},loading:!1}),computed:{views(){return this.$rest("modulesViews").list.map(({key:e,name:t})=>({text:t,value:e}))}},methods:{add(){const e=this.$refs.form,t=this.$refs.view;let a=null,i=null;if(e&&(a=e.validate()),t&&(i=t.validate()),!a||!i)return;const s=this.$rest("modulesViews").list.find(({key:e})=>e===this.viewSelected).id;this.loading=!0,this.$rest("modules").post({data:{name:this.name,icon:this.icon,key:this.key,viewId:s,...t.data}}).then(()=>this.$router.push("/modules")).finally(()=>{this.loading=!1})}},beforeCreate(){this.$rest("modulesViews").get()},created(){1==this.$store.state.user.type||this.$router.replace("/error404")},components:{ModuleTemplate:ht["a"],...Object.fromEntries(Object.entries(Xt).map(e=>(e[0]=e[0].toLowerCase()+"-add",e)))}},ta=ea,aa=(a("c8fe"),a("62ad")),ia=a("0fd9"),sa=Object(m["a"])(ta,zt,Ht,!1,null,null,null),la=sa.exports;f()(sa,{VBtn:b["a"],VCard:x["a"],VCol:aa["a"],VForm:Ae["a"],VRow:ia["a"],VSelect:qt["a"],VTextField:Fe["a"]});var na=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("module-template",{attrs:{title:'Alterar módulo "'+e.module.name+'"'}},[a("v-card",{staticClass:"pa-4 pb-0 rounded-t-0",attrs:{outlined:"",dark:""}},[a("v-form",{ref:"form",staticClass:"pt-4"},[a("v-row",[a("v-col",{staticClass:"py-0",attrs:{cols:"12",sm:"6",md:"12",lg:"3"}},[a("v-text-field",{attrs:{value:e.module.name,rules:[e.rules.required],loading:e.updating.name,label:"Nome",outlined:"",dense:""},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.updateProperty(t,"name")},blur:function(t){return e.updateProperty(t,"name")}}})],1),a("v-col",{staticClass:"py-0",attrs:{cols:"12",sm:"6",md:"4",lg:"3"}},[a("v-text-field",{attrs:{value:e.module.icon,rules:[e.rules.required],loading:e.updating.icon,label:"Ícone",outlined:"",dense:""},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.updateProperty(t,"icon")},blur:function(t){return e.updateProperty(t,"icon")}}})],1)],1)],1),e.loaded?a(e.module.viewKey+"-edit",{tag:"component",attrs:{data:e.module}}):a("v-sheet",{staticClass:"d-flex justify-center align-center py-8",attrs:{width:"100%",color:"transparent"}},[a("loading")],1)],1)],1)},oa=[],ra={data:()=>({rules:{required:je["d"]},loaded:!1,updating:{name:!1,icon:!1}}),computed:{modules(){return this.$rest("modules").list},moduleId(){return this.$route.params.module},module(){return this.modules.find(({id:e})=>e==this.moduleId)||{}}},methods:{updateProperty({target:{value:e}},t){if(this.module[t]===e)return!1;this.updating[t]=!0,this.$rest("modules").put({id:this.moduleId,data:{value:e},prop:t}).finally(()=>{this.updating[t]=!1})}},created(){1==this.$store.state.user.type?(this.loaded=!1,this.$rest("modules").get({id:this.moduleId}).finally(()=>this.loaded=!0)):this.$router.replace("/error404")},components:{ModuleTemplate:ht["a"],Loading:G["a"],...Object.fromEntries(Object.entries(Yt).map(e=>(e[0]=e[0].toLowerCase()+"-edit",e)))}},da=ra,ua=Object(m["a"])(da,na,oa,!1,null,null,null),ca=ua.exports;f()(ua,{VCard:x["a"],VCol:aa["a"],VForm:Ae["a"],VRow:ia["a"],VSheet:Ce["a"],VTextField:Fe["a"]});var ma=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("module-template",{attrs:{title:"Contas"},scopedSlots:e._u([{key:"toolbar",fn:function(){return[a("toolbar-button",{attrs:{to:e.$route.path+"/adicionar",tip:"Adicionar",icon:"fas fa-plus",dark:""}})]},proxy:!0}])},[a("v-data-table",{attrs:{headers:e.headers,items:e.accounts,loading:e.loading,height:"calc(100vh - 114px)","sort-by":"id","loading-text":"Carregado dados.","no-data-text":"Não há registros.","no-results-text":"Não há registros.","sort-desc":"","fixed-header":"","disable-pagination":"","hide-default-footer":"",dark:""},on:{"click:row":function(t){return e.$router.push(e.$route.path+"/"+t.id)}},scopedSlots:e._u([{key:"item.action",fn:function(t){var i=t.item;return[a("v-btn",{attrs:{disabled:i.id==e.userId,color:"red",icon:"",small:""},on:{click:function(t){return t.stopPropagation(),e.remove(i.id)}}},[a("v-icon",{attrs:{small:""}},[e._v("fas fa-trash")])],1)]}}])})],1)},pa=[],fa={name:"AccountList",data:()=>({loading:!1,headers:[{text:"Id",value:"id",align:"left"},{text:"Nome",value:"name"},{text:"E-mail",value:"email"},{text:"",value:"action",align:"right"}]}),computed:{accounts(){return this.$rest("accounts").list},userId(){return this.$store.state.user.id},sm(){return this.$vuetify.breakpoint.smAndDown}},methods:{remove(e){this.$rest("accounts").delete({id:e})}},created(){1==this.$store.state.user.type?(this.loading=!0,this.$rest("accounts").get().finally(()=>this.loading=!1)):this.$router.replace("/error404")},components:{ToolbarButton:vt["a"],ModuleTemplate:ht["a"]}},va=fa,ha=Object(m["a"])(va,ma,pa,!1,null,null,null),ga=ha.exports;f()(ha,{VBtn:b["a"],VDataTable:St["a"],VIcon:_["a"]});var ba=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("module-template",{attrs:{title:"Contas / Adicionar",width:"800px","max-width":"100%"}},[a("v-card",{staticClass:"pa-4 rounded-t-0",attrs:{outlined:"",dark:""}},[a("v-form",{ref:"form",staticClass:"pt-4"},[a("v-row",[a("v-col",{staticClass:"py-0",attrs:{cols:"12",sm:"6"}},[a("v-text-field",{attrs:{label:"Nome",name:"name",rules:[e.rules.required],outlined:"",dense:""}})],1),a("v-col",{staticClass:"py-0",attrs:{cols:"12",sm:"6"}},[a("v-text-field",{attrs:{label:"E-mail",name:"email",rules:[e.rules.required,e.rules.email],outlined:"",dense:""}})],1)],1),a("v-text-field",{attrs:{label:"Senha",name:"password",rules:[e.rules.required],outlined:"",dense:""}}),a("div",{staticClass:"d-flex flex-wrap"},e._l(e.modules,(function(t,i){var s=t.id,l=t.name;return a("v-checkbox",{key:i,staticClass:"mx-2",attrs:{label:l,value:s},model:{value:e.permissions,callback:function(t){e.permissions=t},expression:"permissions"}})})),1),a("div",{staticClass:"d-flex justify-end"},[a("v-btn",{staticClass:"text-none",attrs:{color:"secondary",depressed:""},on:{click:e.send}},[e._v("Adicionar")])],1)],1)],1)],1)},xa=[],ya={name:"AccountAdd",data:()=>({rules:{required:je["d"],email:je["b"]},permissions:[]}),computed:{modules(){return this.$rest("modulesBasic").list}},methods:{send(){const e=this.$refs.form;if(e.validate()){const t=Object.fromEntries(new FormData(e.$el).entries());t.permissions=this.permissions,this.$rest("accounts").post({data:t}).then(()=>this.$router.push("/accounts"))}}},beforeCreate(){1==this.$store.state.user.type?this.$rest("modulesBasic").get():this.$router.replace("/error404")},components:{ModuleTemplate:ht["a"]}},_a=ya,ka=a("ac7c"),Ca=Object(m["a"])(_a,ba,xa,!1,null,null,null),Ia=Ca.exports;f()(Ca,{VBtn:b["a"],VCard:x["a"],VCheckbox:ka["a"],VCol:aa["a"],VForm:Ae["a"],VRow:ia["a"],VTextField:Fe["a"]});var $a=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("module-template",{attrs:{title:"Contas / Alterar",width:"800px"}},[a("v-card",{staticClass:"pa-4 rounded-t-0",attrs:{outlined:"",dark:""}},[a("v-form",{ref:"form",staticClass:"pt-4"},[a("v-row",[a("v-col",{staticClass:"py-0",attrs:{cols:"12",sm:"6"}},[a("v-text-field",{attrs:{value:e.account.name,rules:[e.rules.required],label:"Nome",name:"name",outlined:"",dense:""}})],1),a("v-col",{staticClass:"py-0",attrs:{cols:"12",sm:"6"}},[a("v-text-field",{attrs:{value:e.account.email,rules:[e.rules.required,e.rules.email],label:"E-mail",name:"email",outlined:"",dense:""}})],1)],1),a("v-text-field",{attrs:{label:"Senha",name:"password",outlined:"",dense:""}}),1!=e.account.type?a("div",{staticClass:"d-flex flex-wrap"},e._l(e.modules,(function(t,i){var s=t.id,l=t.name;return a("v-checkbox",{key:i,staticClass:"mx-2",attrs:{label:l,value:s},model:{value:e.permissions,callback:function(t){e.permissions=t},expression:"permissions"}})})),1):e._e(),a("div",{staticClass:"d-flex justify-end"},[a("v-btn",{staticClass:"text-none",attrs:{color:"secondary",depressed:""},on:{click:e.send}},[e._v("Salvar")])],1)],1)],1)],1)},wa=[],Va={name:"AccountItem",data:()=>({rules:{required:je["d"],email:je["b"]},permissions:[]}),computed:{accountId(){return parseInt(this.$route.params.account)},account(){return this.$rest("accounts").item},modules(){return this.$rest("modulesBasic").list}},methods:{send(){const e=this.$refs.form;if(e.validate()){const t=Object.fromEntries(new FormData(e.$el).entries());t.permissions=this.permissions,this.$rest("accounts").put({id:this.accountId,data:t}).then(()=>{this.accountId==this.$store.state.user.id&&this.$store.dispatch("setInfoUser",this.$rest("accounts").item),this.$rest("modules").get(),this.$router.push("/accounts")})}}},beforeCreate(){this.$rest("modulesBasic").get()},created(){1==this.$store.state.user.type?this.$rest("accounts").get({id:this.accountId}).then(({permissions:e})=>{this.permissions=e||[]}).catch(()=>this.$router.replace("/accounts")):this.$router.replace("/error404")},components:{ModuleTemplate:ht["a"]}},Ta=Va,Sa=Object(m["a"])(Ta,$a,wa,!1,null,null,null),Oa=Sa.exports;f()(Sa,{VBtn:b["a"],VCard:x["a"],VCheckbox:ka["a"],VCol:aa["a"],VForm:Ae["a"],VRow:ia["a"],VTextField:Fe["a"]});var ja=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("module-template",{attrs:{title:"E-mail","max-width":"400px"}},[a("v-card",{staticClass:"pa-4 pb-0 rounded-t-0",attrs:{outlined:"",dark:""}},[a("v-form",{ref:"form",staticClass:"pt-4 d-flex flex-column"},[a("v-text-field",{attrs:{value:e.configuration.user,rules:[e.rules.required,e.rules.email],disabled:e.loading,loading:e.loading,label:"Usuário",name:"user",type:"email",outlined:"",dense:""}}),a("v-text-field",{attrs:{value:e.configuration.password,rules:[e.rules.required],disabled:e.loading,loading:e.loading,label:"Senha",name:"password",type:"password",outlined:"",dense:""}}),a("v-text-field",{attrs:{value:e.configuration.name,rules:[e.rules.required],disabled:e.loading,loading:e.loading,label:"Nome",name:"name",outlined:"",dense:""}}),a("v-text-field",{attrs:{value:e.configuration.host,rules:[e.rules.required],disabled:e.loading,loading:e.loading,label:"Host",name:"host",outlined:"",dense:""}}),a("v-text-field",{attrs:{value:e.configuration.smtpPort,rules:[e.rules.required],disabled:e.loading,loading:e.loading,label:"Porta SMTP",name:"smtpPort",type:"number",outlined:"",dense:""}}),a("v-text-field",{attrs:{value:e.configuration.recipient,rules:[e.rules.required,e.rules.email],disabled:e.loading,loading:e.loading,label:"Destinatário",name:"recipient",outlined:"",dense:""}})],1),a("v-card-actions",[a("v-btn",{staticClass:"text-none ml-auto",attrs:{disabled:e.loading,loading:e.loading,color:"secondary",depressed:""},on:{click:e.submit}},[e._v("Salvar")])],1)],1)],1)},Da=[],Ea={data:()=>({rules:{required:je["d"],email:je["b"]},loading:!0}),computed:{configuration(){return this.$rest("configuration").item}},methods:{submit(){const e=this.$refs.form;e.validate()&&(this.loading=!0,this.$rest("configuration").put({id:"email",data:new FormData(e.$el)}).finally(()=>this.loading=!1))}},created(){1==this.$store.state.user.type?(this.loading=!0,this.$rest("configuration").get({id:"email",save:(e,t)=>e.item=t}).finally(()=>this.loading=!1)):this.$router.replace("/error404")},components:{ModuleTemplate:ht["a"]}},Aa=Ea,Fa=Object(m["a"])(Aa,ja,Da,!1,null,null,null),Na=Fa.exports;f()(Fa,{VBtn:b["a"],VCard:x["a"],VCardActions:Rt["a"],VForm:Ae["a"],VTextField:Fe["a"]});var qa=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("module-template",{staticClass:"page-tags",attrs:{title:"Tags","max-width":"800px"}},[a("v-card",{staticClass:"pa-4 pb-0 rounded-t-0",attrs:{outlined:"",dark:""}},[a("v-form",{ref:"form",staticClass:"pt-4 d-flex flex-column"},[a("v-textarea",{attrs:{value:e.configuration.analytics,disabled:e.loading,loading:e.loading,rows:10,label:"Analytics",name:"analytics",outlined:"",dense:""}}),a("v-textarea",{attrs:{value:e.configuration.ads,disabled:e.loading,loading:e.loading,rows:10,label:"Ads",name:"ads",outlined:"",dense:""}}),a("v-textarea",{attrs:{value:e.configuration.facebookPixel,disabled:e.loading,loading:e.loading,rows:10,label:"Facebook Pixel",name:"facebookPixel",outlined:"",dense:""}})],1),a("v-card-actions",[a("v-btn",{staticClass:"text-none ml-auto",attrs:{disabled:e.loading,loading:e.loading,color:"secondary",depressed:""},on:{click:e.submit}},[e._v("Salvar")])],1)],1)],1)},La=[],Ba={data:()=>({loading:!0}),computed:{configuration(){return this.$rest("configuration").item}},methods:{submit(){const e=this.$refs.form;e.validate()&&(this.loading=!0,this.$rest("configuration").put({id:"tags",data:new FormData(e.$el)}).finally(()=>this.loading=!1))}},created(){1==this.$store.state.user.type?(this.loading=!0,this.$rest("configuration").get({id:"tags",save:(e,t)=>e.item=t}).finally(()=>this.loading=!1)):this.$router.replace("/error404")},components:{ModuleTemplate:ht["a"]}},Ma=Ba,Pa=(a("d23a"),a("a844")),Ra=Object(m["a"])(Ma,qa,La,!1,null,null,null),Ua=Ra.exports;f()(Ra,{VBtn:b["a"],VCard:x["a"],VCardActions:Rt["a"],VForm:Ae["a"],VTextarea:Pa["a"]});var Ka=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-sheet",{staticClass:"d-flex justify-center align-center",attrs:{color:"transparent",height:"600px"}},[a("h3",{staticClass:"white--text"},[e._v("Error 404")])])},za=[],Ha={},Ja=Object(m["a"])(Ha,Ka,za,!1,null,null,null),Za=Ja.exports;f()(Ja,{VSheet:Ce["a"]});var Wa=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e.loading?a("v-sheet",{staticClass:"d-flex justify-center align-center",attrs:{height:"calc(100vh - 48px)",width:"100%",color:"transparent"}},[a("loading")],1):a(e.component,{tag:"component",attrs:{data:e.module}})],1)},Ga=[],Xa=a("bd11"),Ya=a.n(Xa),Qa={data:()=>({component:null,loading:!1,gettedModules:!1}),computed:{modules(){return this.$rest("modules").list},moduleKey(){return this.$route.params.module},module(){return this.modules.find(({key:e})=>e===this.moduleKey)},sub(){return this.$route.params.sub}},methods:{async get(){return this.loading=!0,this.gettedModules||await this.$rest("modules").get(),this.renderModule().then(()=>this.loading=!1)},mountRoutes(e,t){return e.map(e=>{let a={...e};return a.name=a.name.replace("{name}",t.name),a.path=a.path.replace("{key}",t.key),a})},async renderModule(){if(!this.module)return void this.$router.push("/error404");await this.$rest("modules").get({id:this.module.id});let e=[];if("custom"===this.module.viewKey){for(let t of Gt.custom)if(t.key===this.moduleKey){e=t.routes;break}}else e=this.mountRoutes(Gt[this.module.viewKey].routes,this.module);for(let{path:t,component:a}of e){const e=new RegExp(Ya()(t));if(e.test(this.$route.path)){this.component=a.name;break}}this.gettedModules=!0}},watch:{async moduleKey(){await this.get()},async sub(){await this.get()},async $route(){await this.renderModule()}},async created(){await this.get()},components:{Loading:G["a"],...Qt}},ei=Qa,ti=Object(m["a"])(ei,Wa,Ga,!1,null,null,null),ai=ti.exports;f()(ti,{VSheet:Ce["a"]}),i["default"].use(we["a"]);const ii="Painel de Administração",si=[{name:ii,path:"/",component:et},{name:"Instalar - "+ii,path:"/setup",component:mt},{name:"Entrar - "+ii,path:"/entrar",component:Pe},{name:"Contas",path:"/accounts",component:ga},{name:"Adicionar conta",path:"/accounts/adicionar",component:Ia},{name:"Alterar conta",path:"/accounts/:account",component:Oa},{name:"E-mail",path:"/email",component:Na},{name:"Tags",path:"/tags",component:Ua},{name:"Módulos",path:"/modules",component:Kt},{name:"Adicionar módulo",path:"/modules/adicionar",component:la},{name:"Alterar módulo",path:"/modules/:module",component:ca},{name:"Error404",path:"/error404",component:Za},{name:"Módulo - "+ii,path:"/:module",component:ai},{name:"Módulo - "+ii,path:"/:module/:sub",component:ai},{path:"*",beforeEnter:(e,t,a)=>{a("/error404")}}],li=new we["a"]({mode:"history",base:"/admin/",routes:si});li.afterEach(e=>{document.title=e.name,window.scrollTo(0,0)});var ni=li,oi={connectionStatusChange:({commit:e},{ok:t,error:a})=>{window.console.warn("VuexRest: ",{ok:t,error:a}),e("function",e=>{e.connectionOk=t,e.connectionError=a})},startRequest:({commit:e,dispatch:t,state:a})=>{a.connectionOk||t("connectionStatusChange",{ok:!0}),e("function",e=>{e.loading=!0})},endRequest:({commit:e},{status:t,error:a,success:i})=>{t&&window.console.warn("VuexRest: ",{status:t,error:a,success:i}),e("function",e=>{e.loading=!1,t&&(e.lastRequestStatus=t,e.lastRequestError=a,e.lastRequestSuccess=i)}),t&&window.setTimeout(()=>{e("function",e=>{e.lastRequestStatus=null,e.lastRequestError=null,e.lastRequestSuccess=null})},4e3)},setInfoUser({commit:e},t){e("function",e=>{for(let a in t)e.user[a]=t[a];e.user={...e.user}})}},ri={function:(e,t)=>t(e)};const di={state:{connectionOk:null,connectionError:null,loading:!1,lastRequestStatus:null,lastRequestError:null,lastRequestSuccess:null,user:{}},mutations:ri,actions:oi};i["default"].use(be["a"]);var ui=new be["a"].Store(di),ci=a("f309");i["default"].use(ci["a"]);var mi=new ci["a"]({icons:{iconfont:"fa"},theme:{options:{customProperties:!0},themes:{light:{primary:"#000000",secondary:"#e93751",accent:"#00a7bc"}}}}),pi=a("6930"),fi=a.n(pi);const vi=e=>{const t=e.observable({on:!1,checking:!0});e.prototype.$auth={login(e){return pe.post("/auth/login",e).then(({data:e})=>(window.localStorage.setItem("token",e.token),e))},checkIn:()=>{const e=window.localStorage.getItem("token");return window.sessionStorage.setItem("token",e),e?pe.post("/auth/check-in").then(({data:e})=>(t.checking=!1,t.on=!0,e)):(t.checking=!1,t.on=!1,Promise.reject())},logout:()=>pe.post("/auth/logout").finally(()=>{t.on=!1,window.localStorage.removeItem("token")}),get on(){return t.on},get checking(){return t.checking}}};i["default"].use(vi);var hi=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"grid-container",style:e.style},[e._t("default")],2)},gi=[];const bi={xl:"lgOnly",lg:"lgAndUp",md:"mdAndUp",sm:"smAndUp",xs:"xsOnly"},xi=new RegExp(`(${Object.keys(bi).join("|")})$`,"g"),yi={computed:{breakpoint(){const e={...bi};for(let t in e)e[t]=this.$vuetify.breakpoint[e[t]];return e},style(){const e={};for(let t in this.$props)if(this[t]){const a=t.toLowerCase().match(xi),i=a?t.slice(0,-2):t;a&&!this.breakpoint[a[0]]||(e[this.propsCSS[i]]=this[t])}return e}}},_i=e=>{const t={};for(let a of e){t[a]=String;for(let e in bi)t[`${a}-${e}`]=String}return t},ki={cols:"grid-template-cols",rows:"grid-template-rows",autoRows:"auto-rows",autoColumns:"auto-columns",gap:"gap",autoFlow:"auto-flow",justify:"justify-content",alignItems:"align-items",alignContent:"align-content"};var Ci={name:"grid-container",props:_i(Object.keys(ki)),data:()=>({propsCSS:ki}),mixins:[yi]},Ii=Ci,$i=(a("49b6"),Object(m["a"])(Ii,hi,gi,!1,null,null,null)),wi=$i.exports,Vi=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"grid-item",style:e.style},[e._t("default")],2)},Ti=[];const Si={colStart:"--col-start",colEnd:"--col-end",rowStart:"--row-start",rowEnd:"--row-end"};var Oi={name:"grid-item",props:_i(Object.keys(Si)),data:()=>({propsCSS:Si}),mixins:[yi]},ji=Oi,Di=(a("56be"),Object(m["a"])(ji,Vi,Ti,!1,null,null,null)),Ei=Di.exports,Ai=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"grid-list",style:e.style},[e._t("default")],2)},Fi=[];const Ni={gap:"gap",colWidth:"--col-width"};var qi={name:"grid-list",props:_i(Object.keys(Ni)),data:()=>({propsCSS:Ni}),mixins:[yi]},Li=qi,Bi=(a("8727"),Object(m["a"])(Li,Ai,Fi,!1,null,null,null)),Mi=Bi.exports,Pi=[wi,Ei,Mi];const Ri=e=>Pi.forEach(t=>e.component(t.name,t));i["default"].use(Ri),i["default"].use(fi.a);const Ui=location.origin,Ki=JSON.parse(document.getElementById("config").textContent);i["default"].config.productionTip=!1,i["default"].use(ge,{base:Ui+"/admin/rest"}),i["default"].mixin({data:()=>({server:Ui,files:Ui+"/admin",...Ki})}),new i["default"]({router:ni,vuetify:mi,store:ui,render:e=>e($e)}).$mount("#app")},"56f5":function(e,t,a){"use strict";a("c010")},"5c28":function(e,t,a){"use strict";a("17a9")},"5f42":function(e,t,a){"use strict";a.d(t,"d",(function(){return i})),a.d(t,"b",(function(){return s})),a.d(t,"a",(function(){return l})),a.d(t,"e",(function(){return n})),a.d(t,"c",(function(){return o}));const i=e=>!!e||"Requerido.",s=e=>!e||/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)||"E-mail inválido.",l=e=>!e||/^[a-z0-9_]+$/.test(e)||"Apenas caracteres alfanuméricos minúsculos e underline.",n=e=>!e||/^(https?:\/\/)?[-a-zA-Z0-9@:%._\\+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b([-a-zA-Z0-9()@:%_\\+.~#?&//=]*)$/.test(e)||"URL inválida.",o=e=>!![/^[0-9]*$/,/^[0-9]+(,|.)$/,/^[0-9]+(,|.)[0-9]{1}$/,/^[0-9]+(,|.)[0-9]{2}$/].find(t=>t.test(e))||"Preço inválido."},"60cb":function(e,t,a){},"67ec":function(e,t,a){"use strict";a.r(t),t["default"]=({value:e})=>e&&new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(e)},"6c6e":function(e,t,a){"use strict";a("dfcc")},7302:function(e,t,a){"use strict";a.r(t),t["default"]=({value:e})=>e&&new Date(e).toLocaleString("pt-BR",{dateStyle:"short",timeStyle:"short"})},7716:function(e,t,a){"use strict";a("13c2")},"7a50":function(e,t,a){"use strict";a("d2b0")},"7c32":function(e,t,a){"use strict";a("60cb")},"7c83":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-dialog",{attrs:{value:e.value,"max-width":"330px"},on:{input:function(t){return e.$emit("input",t)}}},[a("v-card",{staticClass:"pa-4",attrs:{dark:""}},[a("div",{staticClass:"title mb-4 text-center"},[e._v("Adicionar categoria")]),a("v-text-field",{staticClass:"mb-3",attrs:{label:"Título",outlined:"",dense:"","hide-details":""},model:{value:e.addCategoryTitle,callback:function(t){e.addCategoryTitle=t},expression:"addCategoryTitle"}}),a("v-btn",{staticClass:"text-none",attrs:{disabled:!e.addCategoryTitle,color:"secondary",block:"",depressed:""},on:{click:e.add}},[e._v("Adicionar")])],1),e.value?a("v-overlay",{model:{value:e.loading,callback:function(t){e.loading=t},expression:"loading"}},[a("loading")],1):e._e()],1)},s=[],l=a("9431"),n={props:{value:Boolean,fieldId:{type:Number,required:!0}},data:()=>({loading:!1,addCategoryTitle:null}),computed:{moduleId(){return this.$rest("modules").item.id}},methods:{add(){this.loading=!0,this.$rest("modulesCategories").post({data:{title:this.addCategoryTitle},params:{moduleId:this.moduleId,fieldId:this.fieldId}}).then(e=>this.$emit("add",e)).finally(()=>{this.addCategoryTitle=null,this.addDialog=!1,this.loading=!1})}},components:{Loading:l["a"]}},o=n,r=a("2877"),d=a("6544"),u=a.n(d),c=a("8336"),m=a("b0af"),p=a("169a"),f=a("a797"),v=a("8654"),h=Object(r["a"])(o,i,s,!1,null,null,null);t["default"]=h.exports;u()(h,{VBtn:c["a"],VCard:m["a"],VDialog:p["a"],VOverlay:f["a"],VTextField:v["a"]})},"7cc0":function(e,t,a){"use strict";a("ba22")},"7e53":function(e,t,a){},"7eba":function(e,t,a){"use strict";a("34ed")},"7ecb":function(e,t,a){var i={"./big-text/Index":"1b8a","./big-text/Index.vue":"1b8a","./category/Add":"7c83","./category/Add.vue":"7c83","./category/Index":"ed85","./category/Index.vue":"ed85","./category/List":"faaf","./category/List.vue":"faaf","./category/formatForDisplay":"cfa3","./category/formatForDisplay.js":"cfa3","./collection-with-key/Index":"edfc","./collection-with-key/Index.vue":"edfc","./collection-with-key/List":"ac83","./collection-with-key/List.vue":"ac83","./collection/Index":"4884","./collection/Index.vue":"4884","./collection/List":"b87b","./collection/List.vue":"b87b","./date/Index":"9b55","./date/Index.vue":"9b55","./date/formatForDisplay":"7302","./date/formatForDisplay.js":"7302","./email/Index":"f20f","./email/Index.vue":"f20f","./file/Index":"28eb","./file/Index.vue":"28eb","./file/List":"8dde","./file/List.vue":"8dde","./hidden/Index":"173c","./hidden/Index.vue":"173c","./image-file/Index":"a798","./image-file/Index.vue":"a798","./image-file/List":"56b4","./image-file/List.vue":"56b4","./medium-text/Index":"ff5f","./medium-text/Index.vue":"ff5f","./number/Index":"bce8","./number/Index.vue":"bce8","./password/Index":"beb4","./password/Index.vue":"beb4","./price/Index":"fc9e","./price/Index.vue":"fc9e","./price/formatForDisplay":"67ec","./price/formatForDisplay.js":"67ec","./read-only/Index":"dec4","./read-only/Index.vue":"dec4","./source-code/Index":"9310","./source-code/Index.vue":"9310","./subcategory/Index":"ddc9","./subcategory/Index.vue":"ddc9","./subcategory/list/Add":"9d3e","./subcategory/list/Add.vue":"9d3e","./subcategory/list/Index":"9bc7","./subcategory/list/Index.vue":"9bc7","./subcategory/list/SelectFieldCategory":"f96c","./subcategory/list/SelectFieldCategory.vue":"f96c","./switch-boolean/Index":"0850","./switch-boolean/Index.vue":"0850","./tags/Add":"cf92","./tags/Add.vue":"cf92","./tags/Index":"30e9","./tags/Index.vue":"30e9","./tags/List":"81ec","./tags/List.vue":"81ec","./tags/formatForDisplay":"d088","./tags/formatForDisplay.js":"d088","./tiny-text/Index":"1e7e","./tiny-text/Index.vue":"1e7e","./url/Index":"47a6","./url/Index.vue":"47a6"};function s(e){return Promise.resolve().then((function(){if(!a.o(i,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}var s=i[e];return a(s)}))}s.keys=function(){return Object.keys(i)},s.id="7ecb",e.exports=s},"81ec":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-dialog",{attrs:{value:e.value,"max-width":"500px"},on:{input:function(t){return e.$emit("input",t)}}},[a("v-card",{staticClass:"pa-4",attrs:{dark:""}},[a("div",{staticClass:"title mb-4 d-flex flex-column flex-sm-row justify-space-between"},[a("div",[e._v("Tags")]),a("div",[a("v-btn",{staticClass:"mr-2 text-none",attrs:{color:"secondary",disabled:!e.selecteds.length,depressed:"",small:""},on:{click:e.remove}},[a("v-icon",{attrs:{left:"",small:""}},[e._v("fas fa-trash")]),a("span",[e._v("Remover")])],1),a("v-btn",{staticClass:"text-none",attrs:{color:"secondary",depressed:"",small:""},on:{click:function(t){e.addDialog=!0}}},[a("v-icon",{attrs:{left:"",small:""}},[e._v("fas fa-plus")]),a("span",[e._v("Adicionar")])],1)],1)]),e.tags.length?a("v-data-table",{attrs:{headers:e.headers,items:e.tags,"mobile-breakpoint":0,"no-data-text":"Não há registros.","sort-by":"id","sort-desc":"","show-select":"","disable-pagination":"","hide-default-footer":""},scopedSlots:e._u([{key:"item.title",fn:function(t){var i=t.item;return[a("v-edit-dialog",{staticClass:"primary lighten-4",attrs:{"return-value":e.editTagTitle,dark:""},on:{save:function(t){return e.editTitle(i.id)},"update:returnValue":function(t){e.editTagTitle=t},"update:return-value":function(t){e.editTagTitle=t}},scopedSlots:e._u([{key:"input",fn:function(){return[a("v-text-field",{attrs:{value:i.title,rules:[e.rules.required],label:"Renomear","single-line":"",counter:""},on:{input:function(t){return e.editTagTitle=t}}})]},proxy:!0}],null,!0)},[e._v(e._s(i.title))])]}}],null,!1,1356063838),model:{value:e.selecteds,callback:function(t){e.selecteds=t},expression:"selecteds"}}):a("div",{staticClass:"pt-8 pb-4 text-body-2 text-center font-weight-bold"},[e._v("Nenhuma categoria foi adicionada.")])],1),e.value?a("v-overlay",{model:{value:e.loading,callback:function(t){e.loading=t},expression:"loading"}},[a("loading")],1):e._e(),a("add",{attrs:{"field-id":e.fieldId},model:{value:e.addDialog,callback:function(t){e.addDialog=t},expression:"addDialog"}})],1)},s=[],l=a("cf92"),n=a("9431"),o=a("5f42"),r={props:{value:Boolean,fieldId:{type:Number,required:!0},tags:{type:Array,default:()=>[]}},data:()=>({addDialog:!1,loading:!1,headers:[{text:"Título",value:"title",align:"left"}],editTagTitle:null,rules:{required:o["d"]},selecteds:[]}),computed:{moduleKey(){return this.$rest("modules").item.key},moduleId(){return this.$rest("modules").item.id},itemId(){return this.$route.params.sub||1}},methods:{remove(){this.loading=!0,Promise.all(this.selecteds.map(({id:e})=>this.$rest("modulesTags").delete({id:e,params:{moduleId:this.moduleId}}))).finally(()=>{this.selecteds=[],this.loading=!1})},editTitle(e){const t=this.tags.find(({id:t})=>t==e).title;this.editTagTitle&&t!==this.editTagTitle&&(this.loading=!0,this.$rest("modulesTags").put({id:e,prop:"title",data:{value:this.editTagTitle},params:{moduleId:this.moduleId}}).then(()=>this.loading=!1))}},components:{Loading:n["a"],Add:l["default"]}},d=r,u=a("2877"),c=a("6544"),m=a.n(c),p=a("8336"),f=a("b0af"),v=a("8fea"),h=a("169a"),g=a("7679"),b=a("132d"),x=a("a797"),y=a("8654"),_=Object(u["a"])(d,i,s,!1,null,null,null);t["default"]=_.exports;m()(_,{VBtn:p["a"],VCard:f["a"],VDataTable:v["a"],VDialog:h["a"],VEditDialog:g["a"],VIcon:b["a"],VOverlay:x["a"],VTextField:y["a"]})},"838b":function(e,t,a){},"85ec":function(e,t,a){},8727:function(e,t,a){"use strict";a("2dae")},8876:function(e,t,a){"use strict";a("f728")},"88cf":function(e,t,a){"use strict";t["a"]=Object.fromEntries(a("f66d").keys().filter(e=>/\.\/[^]+\/Index.vue/.test(e)).map(e=>[e.replace(/\.\/([^./]+)\/Index.vue/,"$1").toLowerCase().replace(/[^a-z]/g,"").concat("field"),()=>a("7ecb")("./"+e.slice(2))]))},8909:function(e,t,a){},"8dde":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-dialog",{attrs:{value:e.value,"max-width":"880px"},on:{input:function(t){return e.$emit("input",t)}}},[a("v-card",{staticClass:"pa-4",attrs:{dark:""}},[a("div",{staticClass:"title mb-4 d-flex flex-column flex-sm-row justify-space-between"},[a("div",[e._v("Arquivos")]),a("div",[a("v-btn",{staticClass:"mr-2 text-none",attrs:{color:"secondary",disabled:!e.selecteds.length,depressed:"",small:""},on:{click:e.remove}},[a("v-icon",{attrs:{left:"",small:""}},[e._v("fas fa-trash")]),a("span",[e._v("Remover")])],1),a("v-btn",{staticClass:"text-none",attrs:{color:"secondary",depressed:"",small:""},on:{click:function(t){return e.$refs.file.$refs.input.click()}}},[a("v-icon",{attrs:{left:"",small:""}},[e._v("fas fa-upload")]),a("span",[e._v("Enviar")])],1)],1)]),e.files.length?a("v-data-table",{attrs:{headers:e.headers,items:e.files,"mobile-breakpoint":0,"no-data-text":"Não há registros.","sort-by":"id","sort-desc":"","show-select":"","disable-pagination":"","hide-default-footer":""},scopedSlots:e._u([{key:"item.title",fn:function(t){var i=t.item;return[a("v-edit-dialog",{staticClass:"primary lighten-4",attrs:{"return-value":e.editFileTitle,dark:""},on:{save:function(t){return e.editTitle(i.id)},"update:returnValue":function(t){e.editFileTitle=t},"update:return-value":function(t){e.editFileTitle=t}},scopedSlots:e._u([{key:"input",fn:function(){return[a("v-text-field",{attrs:{value:i.title,rules:[e.rules.required],label:"Renomear","single-line":"",counter:""},on:{input:function(t){return e.editFileTitle=t}}})]},proxy:!0}],null,!0)},[e._v(e._s(i.title))])]}},{key:"item.action",fn:function(t){var i=t.item;return[i.path===e.highlightedFile?a("v-btn",{attrs:{color:"yellow",icon:"",small:""},on:{click:function(t){return e.highlight(i.id)}}},[a("v-icon",{attrs:{small:""}},[e._v("fas fa-star")])],1):a("v-btn",{attrs:{color:"yellow",icon:"",small:""},on:{click:function(t){return e.highlight(i.id)}}},[a("v-icon",{attrs:{small:""}},[e._v("far fa-star")])],1)]}}],null,!1,2027906049),model:{value:e.selecteds,callback:function(t){e.selecteds=t},expression:"selecteds"}}):a("div",{staticClass:"pt-8 pb-4 text-body-2 text-center font-weight-bold"},[e._v("Nenhum arquivo foi enviado.")])],1),a("v-overlay",{model:{value:e.uploading,callback:function(t){e.uploading=t},expression:"uploading"}},[a("v-progress-circular",{staticClass:"font-weight-bold accent--text",attrs:{value:e.progress,size:120,rotate:-90,width:12,color:"secondary"}},[e._v(e._s(e.progress)+"%")])],1),a("v-overlay",{model:{value:e.loading,callback:function(t){e.loading=t},expression:"loading"}},[a("loading")],1),a("v-text-field",{ref:"file",staticClass:"ma-0 pa-0",attrs:{name:e.inputName,type:"file",multiple:"","hide-details":"",hidden:""},model:{value:e.file,callback:function(t){e.file=t},expression:"file"}})],1)},s=[],l=a("9431"),n=a("5f42"),o={props:{value:Boolean,inputName:{type:String,required:!0},highlightedFile:String,fieldId:{type:Number,required:!0}},data:()=>({file:null,uploading:!1,progress:0,loading:!1,files:[],selecteds:[],headers:[{text:"Título",value:"title",align:"left"},{text:"",value:"action",align:"right",sortable:!1}],editFileTitle:null,rules:{required:n["d"]}}),computed:{moduleKey(){return this.$rest("modules").item.key},moduleId(){return this.$rest("modules").item.id},itemId(){return this.$route.params.sub||1}},methods:{get(){return this.$rest("modulesFiles").get({id:this.itemId,params:{moduleId:this.moduleId,fieldId:this.fieldId}}).then(e=>this.files=e)},remove(){this.loading=!0,Promise.all(this.selecteds.map(({id:e})=>this.$rest("modulesFiles").delete({id:e,params:{moduleId:this.moduleId}}))).finally(()=>{this.selecteds=[],this.get().then(()=>this.loading=!1)})},highlight(e){this.loading=!0;const t=this.files.find(({id:t})=>t==e)["path"],a={};a[this.inputName]=t,this.$rest(this.moduleKey).put({id:this.itemId,prop:this.inputName,data:a}).then(()=>this.$rest(this.moduleKey).get({id:this.itemId}).then(()=>{this.selecteds=[],this.loading=!1}))},editTitle(e){const t=this.files.find(({id:t})=>t==e).title;this.editFileTitle&&t!==this.editFileTitle&&(this.loading=!0,this.$rest("modulesFiles").put({id:e,prop:"title",data:{value:this.editFileTitle},params:{moduleId:this.moduleId}}).then(()=>this.get().then(()=>{this.loading=!1})))}},watch:{async file(){const e=this.$refs.file.$refs.input.files,t=({loaded:e,total:t})=>this.progress=new Intl.NumberFormat("pt-BR",{maximumFractionDigits:0}).format(e/t*100);this.uploading=!0;for(const a of e)await this.$rest("modulesFiles").upload({file:a,prop:"file",data:{title:a.name},params:{itemId:this.itemId,moduleId:this.moduleId,fieldId:this.fieldId},onUploadProgress:t}).then(({file:e,title:t,id:a})=>{this.progress=0,this.files.push({path:e,title:t,id:a})});this.$refs.file.$refs.input.value="",this.uploading=!1}},created(){this.get()},components:{Loading:l["a"]}},r=o,d=(a("22b7"),a("2877")),u=a("6544"),c=a.n(u),m=a("8336"),p=a("b0af"),f=a("8fea"),v=a("169a"),h=a("7679"),g=a("132d"),b=a("a797"),x=a("490a"),y=a("8654"),_=Object(d["a"])(r,i,s,!1,null,null,null);t["default"]=_.exports;c()(_,{VBtn:m["a"],VCard:p["a"],VDataTable:f["a"],VDialog:v["a"],VEditDialog:h["a"],VIcon:g["a"],VOverlay:b["a"],VProgressCircular:x["a"],VTextField:y["a"]})},"917e":function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-tooltip",{attrs:{top:e.top,right:e.right,left:e.left,bottom:e.bottom},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on,s=t.attrs;return[a("div",e._g(e._b({},"div",s,!1),i),[e._t("default")],2)]}}],null,!0)},[a("span",[e._v(e._s(e.tip))])])},s=[],l={props:{tip:{type:String,default:""},top:{type:Boolean,default:!1},right:{type:Boolean,default:!1},bottom:{type:Boolean,default:!1},left:{type:Boolean,default:!1}}},n=l,o=a("2877"),r=a("6544"),d=a.n(r),u=a("3a2f"),c=Object(o["a"])(n,i,s,!1,null,null,null);t["a"]=c.exports;d()(c,{VTooltip:u["a"]})},9310:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("grid-item",{staticClass:"field-source-code",attrs:{"col-end":"2"}},[a("v-textarea",{staticClass:"rounded-0",attrs:{label:e.label,value:e.value,name:e.name,rows:10,dense:"",outlined:"",dark:""}})],1)},s=[],l=a("d803"),n={mixins:[l["a"]]},o=n,r=(a("7716"),a("2877")),d=a("6544"),u=a.n(d),c=a("a844"),m=Object(r["a"])(o,i,s,!1,null,null,null);t["default"]=m.exports;u()(m,{VTextarea:c["a"]})},9431:function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("svg",{staticClass:"mrx-loading",attrs:{viewBox:"0 0 105 76"}},[a("path",{attrs:{d:"M104.4,0 L46,35.6 L105,50.6 L62.4,35.6 z M0.6,76 L59,40.3 L0,25.3 L42.6,40.3 z"}})])},s=[],l=(a("7eba"),a("2877")),n={},o=Object(l["a"])(n,i,s,!1,null,null,null);t["a"]=o.exports},"9b55":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("grid-item",{staticClass:"field-date",attrs:{"col-end":"2","col-end-sm":"1"}},[a("v-text-field",{attrs:{label:e.label,value:e._f("toDateTimeHTML")(e.value),name:e.name,type:"datetime-local",dense:"",outlined:"",dark:""}})],1)},s=[],l=a("d803");const n=["getFullYear","getMonth","getDate"],o=[...n,"getHours"],r=[...o,"getMinutes"],d=e=>{if("string"===typeof e)return new Date(e);if(e instanceof Date)return e;throw new Error(e+" não é um objeto data ou uma string.")},u=(new Intl.RelativeTimeFormat("pt-BR",{numeric:"auto"}),e=>d(e).toLocaleString().replace(/(\d{2})\/(\d{2})\/(\d{4}) (.+)/,"$3-$2-$1T$4").slice(0,-3));var c={filters:{toDateTimeHTML:e=>e&&u(new Date(Date.now()))},mixins:[l["a"]]},m=c,p=(a("ae64"),a("2877")),f=a("6544"),v=a.n(f),h=a("8654"),g=Object(p["a"])(m,i,s,!1,null,null,null);t["default"]=g.exports;v()(g,{VTextField:h["a"]})},"9bc7":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("template-dialog-any",{attrs:{value:e.value,title:"Subcategorias","max-width":"500px"},on:{input:function(t){return e.$emit("input",t)}},scopedSlots:e._u([{key:"actions",fn:function(){return[a("template-dialog-header-button",{attrs:{disabled:!e.tableSelecteds.length,icon:"fas fa-trash"},on:{click:e.removeItem}},[e._v("Remover")]),a("template-dialog-header-button",{attrs:{icon:"fas fa-plus"},on:{click:function(t){e.addDialog=!0}}},[e._v("Adicionar")])]},proxy:!0}])},[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6"}},[a("select-field-category",{attrs:{value:e.fieldCategory,"field-id":e.fieldId,"module-id":e.moduleId,items:e.fieldsCategory}})],1),a("v-col",{attrs:{cols:"12",sm:"6"}},[a("v-select",{attrs:{items:e.categories,label:"Campo",outlined:"",dense:"","hide-details":""},model:{value:e.selectedCategory,callback:function(t){e.selectedCategory=t},expression:"selectedCategory"}})],1)],1),e.items.length?a("v-data-table",{attrs:{headers:e.tableHeaders,items:e.items,"mobile-breakpoint":0,loading:e.loading,search:e.selectedCategory,"custom-filter":e.filterItems,"no-data-text":"Não há registros.","no-results-text":"Não há registros.","sort-by":"id","sort-desc":"","show-select":"","disable-pagination":"","hide-default-footer":""},scopedSlots:e._u([{key:"item.title",fn:function(t){var i=t.item;return[a("v-edit-dialog",{staticClass:"primary lighten-4",attrs:{"return-value":e.itemTitle,dark:""},on:{save:function(t){return e.updateItemTitle(i.id)},"update:returnValue":function(t){e.itemTitle=t},"update:return-value":function(t){e.itemTitle=t}},scopedSlots:e._u([{key:"input",fn:function(){return[a("v-text-field",{attrs:{value:i.title,rules:[e.rules.required],label:"Renomear","single-line":"",counter:""},on:{input:function(t){return e.itemTitle=t}}})]},proxy:!0}],null,!0)},[e._v(e._s(i.title))])]}}],null,!1,4059704134),model:{value:e.tableSelecteds,callback:function(t){e.tableSelecteds=t},expression:"tableSelecteds"}}):a("div",{staticClass:"pt-8 pb-4 text-body-2 text-center font-weight-bold"},[e._v("Nenhuma categoria foi adicionada.")]),a("add",{attrs:{"field-id":e.fieldId,"module-id":e.moduleId,categories:e.categories},model:{value:e.addDialog,callback:function(t){e.addDialog=t},expression:"addDialog"}})],1)},s=[],l=a("dee3"),n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-btn",{staticClass:"text-none",attrs:{disabled:e.disabled,color:"secondary",depressed:"",small:""},on:{click:function(t){return e.$emit("click",t)}}},[a("v-icon",{attrs:{left:"",small:""}},[e._v(e._s(e.icon))]),a("span",[e._t("default")],2)],1)},o=[],r={props:{icon:{type:String,required:!0},disabled:Boolean}},d=r,u=a("2877"),c=a("6544"),m=a.n(c),p=a("8336"),f=a("132d"),v=Object(u["a"])(d,n,o,!1,null,null,null),h=v.exports;m()(v,{VBtn:p["a"],VIcon:f["a"]});var g=a("f96c"),b=a("9d3e"),x=a("5f42"),y={props:{value:Boolean,moduleId:{type:Number,required:!0},fieldId:{type:Number,required:!0},fieldCategory:{type:Number,required:!0},items:{type:Array,default:()=>[]}},data:()=>({addDialog:!1,loading:!1,tableSelecteds:[],tableHeaders:[{text:"Título",value:"title",align:"left"}],itemTitle:null,rules:{required:x["d"]},selectedCategory:null}),computed:{fieldsCategory(){const e=this.$rest("modules").item.fields.filter(({typeKey:e})=>"category"===e).map(({id:e,name:t})=>({text:t,value:parseInt(e)}));return e.unshift({text:"",value:""}),e},categories(){return this.$rest("modulesCategories").getters.filterByProperty("fieldId",this.fieldCategory).map(({id:e,title:t})=>({text:t,value:e}))}},methods:{removeItem(){this.loading=!0,Promise.all(this.tableSelecteds.map(({id:e})=>this.$rest("modulesSubcategories").delete({id:e,params:{moduleId:this.moduleId}}))).finally(()=>{this.tableSelecteds=[],this.loading=!1})},updateItemTitle(e){const t=this.items.find(({id:t})=>t==e).title;this.itemTitle&&t!==this.itemTitle&&(this.loading=!0,this.$rest("modulesSubcategories").put({id:e,prop:"title",data:{value:this.itemTitle},params:{moduleId:this.moduleId}}).then(()=>this.$parent.get().then(()=>this.loading=!1)))},filterItems(e,t,{categoryId:a}){return a===t}},components:{TemplateDialogAny:l["a"],TemplateDialogHeaderButton:h,SelectFieldCategory:g["default"],Add:b["default"]}},_=y,k=a("62ad"),C=a("8fea"),I=a("7679"),$=a("0fd9"),w=a("b974"),V=a("8654"),T=Object(u["a"])(_,i,s,!1,null,null,null);t["default"]=T.exports;m()(T,{VCol:k["a"],VDataTable:C["a"],VEditDialog:I["a"],VRow:$["a"],VSelect:w["a"],VTextField:V["a"]})},"9d3e":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("template-dialog-any",{attrs:{value:e.value,title:"Adicionar subcategoria","max-width":"330px",simple:""},on:{input:function(t){return e.$emit("input",t)}}},[a("v-select",{staticClass:"mb-3",attrs:{items:e.categories,disabled:e.loading,label:"Categoria",outlined:"",dense:"","hide-details":""},model:{value:e.category,callback:function(t){e.category=t},expression:"category"}}),a("v-text-field",{staticClass:"mb-3",attrs:{disabled:e.loading,label:"Título",outlined:"",dense:"","hide-details":""},model:{value:e.title,callback:function(t){e.title=t},expression:"title"}}),a("v-btn",{staticClass:"text-none",attrs:{disabled:!e.title||!e.category||e.loading,loading:e.loading,color:"secondary",block:"",depressed:""},on:{click:e.add}},[e._v("Adicionar")])],1)},s=[],l=a("dee3"),n={props:{value:Boolean,moduleId:{type:Number,required:!0},fieldId:{type:Number,required:!0},categories:{type:Array,required:!0}},data:()=>({loading:!1,category:null,title:null}),methods:{add(){this.loading=!0,this.$rest("modulesSubcategories").post({data:{title:this.title},params:{moduleId:this.moduleId,fieldId:this.fieldId,categoryId:this.category}}).finally(()=>{this.title=null,this.loading=!1})}},components:{TemplateDialogAny:l["a"]}},o=n,r=a("2877"),d=a("6544"),u=a.n(d),c=a("8336"),m=a("b974"),p=a("8654"),f=Object(r["a"])(o,i,s,!1,null,null,null);t["default"]=f.exports;u()(f,{VBtn:c["a"],VSelect:m["a"],VTextField:p["a"]})},"9f72":function(e,t,a){"use strict";a("ee89")},a798:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("grid-item",{staticClass:"mb-2",attrs:{"row-end":"4","col-end":"2","col-end-sm":"1"}},[a("div",{staticClass:"grey--text text--lighten-1 font-weight-bold text-caption"},[e._v(e._s(e.label))]),a("tooltip",{attrs:{tip:e.label,top:""}},[a("v-img",{directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"cursor-pointer grey d-flex align-center rounded-lg",attrs:{src:e.files.replace("/admin","")+e.value,"aspect-ratio":19/9,contain:""},on:{click:function(t){e.dialog=!0}}},[a("div",{staticClass:"d-flex justify-center align-center"},[a("v-sheet",{staticClass:"d-flex flex-column justify-center align-center primary rounded-circle",attrs:{height:"80",width:"80"}},[a("v-icon",{staticClass:"d-block mx-auto",attrs:{size:30}},[e._v("fas fa-file-image")]),a("div",{staticClass:"text-caption font-weight-bold mt-1"},[e._v("Enviar")])],1)],1)])],1),a("list",{attrs:{"input-name":e.name,"highlighted-image":e.value,"field-id":e.fieldId},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}})],1)},s=[],l=a("917e"),n=a("56b4"),o=a("d803"),r={props:{fieldId:{type:Number,required:!0}},data:()=>({dialog:!1}),mixins:[o["a"]],components:{Tooltip:l["a"],List:n["default"]}},d=r,u=a("2877"),c=a("6544"),m=a.n(c),p=a("132d"),f=a("adda"),v=a("8dd9"),h=a("269a"),g=a.n(h),b=a("5607"),x=Object(u["a"])(d,i,s,!1,null,null,null);t["default"]=x.exports;m()(x,{VIcon:p["a"],VImg:f["a"],VSheet:v["a"]}),g()(x,{Ripple:b["a"]})},ac83:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-dialog",{attrs:{value:e.value,"max-width":"800px"},on:{input:function(t){return e.$emit("input",t)}}},[a("v-card",{staticClass:"pa-4",attrs:{dark:""}},[a("div",{staticClass:"title mb-4 d-flex flex-column flex-sm-row justify-space-between"},[a("div",[e._v("Coleção com chave")]),a("div",[a("v-btn",{staticClass:"mr-2 text-none",attrs:{color:"secondary",disabled:!e.selecteds.length,depressed:"",small:""},on:{click:e.remove}},[a("v-icon",{attrs:{left:"",small:""}},[e._v("fas fa-trash")]),a("span",[e._v("Remover")])],1),a("v-btn",{staticClass:"text-none",attrs:{color:"secondary",depressed:"",small:""},on:{click:e.add}},[a("v-icon",{attrs:{left:"",small:""}},[e._v("fas fa-plus")]),a("span",[e._v("Adicionar")])],1)],1)]),e.mappedItems.length?a("v-form",{ref:"form"},[a("v-data-table",{attrs:{headers:e.headers,items:e.mappedItems,"mobile-breakpoint":0,"no-data-text":"Não há registros.","show-select":"","disable-pagination":"","hide-default-footer":""},scopedSlots:e._u([{key:"item.item",fn:function(t){var i=t.item;return[a("div",{staticClass:"field-collectionwithkey-list-item mt-1 py-2"},[a("v-textarea",{attrs:{value:i.value[0],rows:1,outlined:"",dense:""},on:{input:function(t){return e.items_[i.id][0]=t}}}),a("v-icon",{staticClass:"px-1",attrs:{"x-small":""}},[e._v("fas fa-equals")]),a("v-textarea",{attrs:{value:i.value[1],rows:1,outlined:"",dense:""},on:{input:function(t){return e.items_[i.id][1]=t}}})],1)]}}],null,!1,2128599175),model:{value:e.selecteds,callback:function(t){e.selecteds=t},expression:"selecteds"}})],1):a("div",{staticClass:"pt-8 pb-4 text-body-2 text-center font-weight-bold"},[e._v("Nenhum item foi adicionado.")]),a("v-btn",{staticClass:"text-none mt-2",attrs:{color:"secondary",block:"",depressed:""},on:{click:e.save}},[e._v("Salvar")])],1),a("v-overlay",{model:{value:e.loading,callback:function(t){e.loading=t},expression:"loading"}},[a("loading")],1)],1)},s=[],l=a("9431"),n={props:{value:Boolean,inputName:{type:String,required:!0},items:{type:Object,required:!0}},data:()=>({loading:!1,items_:[],selecteds:[],headers:[{text:"Item",value:"item",align:"left"}]}),computed:{moduleKey(){return this.$rest("modules").item.key},itemId(){return this.$route.params.sub||1},mappedItems(){return this.items_.map((e,t)=>({id:t,value:e}))}},methods:{add(){this.items_.push(["",""])},remove(){this.selecteds.map(({id:e})=>{this.items_.splice(this.items_.findIndex(t=>t.id==e),1)}),this.selecteds=[]},save(){const e=this.$refs.form;if(!e.validate())return;const t=JSON.stringify(Object.fromEntries(this.items_));this.loading=!0,this.$rest(this.moduleKey).put({id:this.itemId,prop:this.inputName,data:{value:t}}).then(()=>this.$emit("saved")).finally(()=>{this.items_=Object.entries(JSON.parse(t)),this.selecteds=[],this.loading=!1})}},watch:{items(){this.items_=Object.entries(this.items)}},mounted(){this.items_=Object.entries(this.items)},components:{Loading:l["a"]}},o=n,r=(a("5c28"),a("2877")),d=a("6544"),u=a.n(d),c=a("8336"),m=a("b0af"),p=a("8fea"),f=a("169a"),v=a("4bd4"),h=a("132d"),g=a("a797"),b=a("a844"),x=Object(r["a"])(o,i,s,!1,null,null,null);t["default"]=x.exports;u()(x,{VBtn:c["a"],VCard:m["a"],VDataTable:p["a"],VDialog:f["a"],VForm:v["a"],VIcon:h["a"],VOverlay:g["a"],VTextarea:b["a"]})},ae64:function(e,t,a){"use strict";a("eb0f")},b83f:function(e,t,a){var i={"./category/formatForDisplay.js":"cfa3","./date/formatForDisplay.js":"7302","./price/formatForDisplay.js":"67ec","./tags/formatForDisplay.js":"d088"};function s(e){var t=l(e);return a(t)}function l(e){if(!a.o(i,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return i[e]}s.keys=function(){return Object.keys(i)},s.resolve=l,e.exports=s,s.id="b83f"},b87b:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-dialog",{attrs:{value:e.value,"max-width":"800px"},on:{input:function(t){return e.$emit("input",t)}}},[a("v-card",{staticClass:"pa-4",attrs:{dark:""}},[a("div",{staticClass:"title mb-4 d-flex flex-column flex-sm-row justify-space-between"},[a("div",[e._v("Coleção")]),a("div",[a("v-btn",{staticClass:"mr-2 text-none",attrs:{color:"secondary",disabled:!e.selecteds.length,depressed:"",small:""},on:{click:e.remove}},[a("v-icon",{attrs:{left:"",small:""}},[e._v("fas fa-trash")]),a("span",[e._v("Remover")])],1),a("v-btn",{staticClass:"text-none",attrs:{color:"secondary",depressed:"",small:""},on:{click:e.add}},[a("v-icon",{attrs:{left:"",small:""}},[e._v("fas fa-plus")]),a("span",[e._v("Adicionar")])],1)],1)]),e.mappedItems.length?a("v-form",{ref:"form"},[a("v-data-table",{attrs:{headers:e.headers,items:e.mappedItems,"mobile-breakpoint":0,"no-data-text":"Não há registros.","show-select":"","disable-pagination":"","hide-default-footer":""},scopedSlots:e._u([{key:"item.item",fn:function(t){var i=t.item;return[a("v-textarea",{staticClass:"field-collection-list-item mt-1 py-2",attrs:{value:i.value,rows:1,outlined:"",dense:"","auto-grow":""},on:{input:function(t){return e.items_[i.id]=t}}})]}}],null,!1,2664504402),model:{value:e.selecteds,callback:function(t){e.selecteds=t},expression:"selecteds"}})],1):a("div",{staticClass:"pt-8 pb-4 text-body-2 text-center font-weight-bold"},[e._v("Nenhum item foi adicionado.")]),a("v-btn",{staticClass:"text-none mt-2",attrs:{color:"secondary",block:"",depressed:""},on:{click:e.save}},[e._v("Salvar")])],1),a("v-overlay",{model:{value:e.loading,callback:function(t){e.loading=t},expression:"loading"}},[a("loading")],1)],1)},s=[],l=a("9431"),n={props:{value:Boolean,inputName:{type:String,required:!0},items:{type:Array,required:!0}},data:()=>({loading:!1,items_:[],selecteds:[],headers:[{text:"Item",value:"item",align:"left"}]}),computed:{moduleKey(){return this.$rest("modules").item.key},itemId(){return this.$route.params.sub||1},mappedItems(){return this.items_.map((e,t)=>({id:t,value:e}))}},methods:{add(){this.items_.push("")},remove(){this.selecteds.map(({id:e})=>{this.items_.splice(this.items_.findIndex(t=>t.id==e),1)}),this.selecteds=[]},save(){const e=this.$refs.form;if(!e.validate())return;const t=JSON.stringify(this.items_);this.loading=!0,this.$rest(this.moduleKey).put({id:this.itemId,prop:this.inputName,data:{value:t}}).then(()=>this.$emit("saved")).finally(()=>{this.selecteds=[],this.loading=!1})}},watch:{items(){this.items_=this.items}},mounted(){this.items_=this.items},components:{Loading:l["a"]}},o=n,r=(a("7c32"),a("2877")),d=a("6544"),u=a.n(d),c=a("8336"),m=a("b0af"),p=a("8fea"),f=a("169a"),v=a("4bd4"),h=a("132d"),g=a("a797"),b=a("a844"),x=Object(r["a"])(o,i,s,!1,null,null,null);t["default"]=x.exports;u()(x,{VBtn:c["a"],VCard:m["a"],VDataTable:p["a"],VDialog:f["a"],VForm:v["a"],VIcon:h["a"],VOverlay:g["a"],VTextarea:b["a"]})},ba07:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("module-template",{attrs:{title:e.data.name},scopedSlots:e._u([{key:"toolbar",fn:function(){return[a("toolbar-button",{attrs:{disabled:!e.selecteds.length,tip:"Remover",icon:"fas fa-trash",dark:""},on:{click:e.remove}}),a("toolbar-button",{attrs:{tip:"Adicionar",icon:"fas fa-plus",dark:""},on:{click:e.add}}),a("print-button")]},proxy:!0}])},[a("div",[a("div",{staticClass:"pa-2 primary lighten-1 module-search"},[a("v-text-field",{attrs:{"append-icon":"fas fa-search",label:"Pesquisar","single-line":"","hide-details":"",dense:"",outlined:"",dark:""},on:{"click:append":function(t){return e.get(1)},keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.get(1)}},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),a("v-data-table",{attrs:{headers:e.headers,items:e.items,loading:e.loading,"server-items-length":e.totalItems,"items-per-page":100,height:"calc(100vh - 226px)","sort-by":"id","loading-text":"Carregado dados.","no-data-text":"Não há registros.","no-results-text":"Não há registros.","show-select":"","sort-desc":"","fixed-header":"",dark:""},on:{"click:row":function(t){return e.$router.push(e.$route.path+"/"+t.id)},"update:page":e.changePage},scopedSlots:e._u([{key:"item.action",fn:function(t){var i=t.item;return[a("div",{staticClass:"d-flex justify-end"},[parseInt(i.active)?a("v-btn",{attrs:{color:"green",icon:"",small:""},on:{click:function(t){return t.stopPropagation(),e.toggleActive(i.id,!1)}}},[a("v-icon",{attrs:{small:""}},[e._v("fas fa-eye")])],1):a("v-btn",{attrs:{color:"blue",icon:"",small:""},on:{click:function(t){return t.stopPropagation(),e.toggleActive(i.id,!0)}}},[a("v-icon",{attrs:{small:""}},[e._v("fas fa-eye-slash")])],1)],1)]}}]),model:{value:e.selecteds,callback:function(t){e.selecteds=t},expression:"selecteds"}})],1),a("v-overlay",{attrs:{absolute:""},model:{value:e.loading,callback:function(t){e.loading=t},expression:"loading"}},[a("loading")],1)],1)},s=[],l=a("e3c9"),n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("toolbar-button",{attrs:{tip:"Imprimir",icon:"fas fa-print",dark:""},on:{click:e.print}})},o=[],r={components:{ToolbarButton:l["a"]},methods:{print(){window.print()}}},d=r,u=a("2877"),c=Object(u["a"])(d,n,o,!1,null,null,null),m=c.exports,p=a("fe48");const f=a("b83f").keys().filter(e=>/\.\/[^]+\/formatForDisplay.js/.test(e)),v=f.map(e=>e.replace(/\.\/([^./]+)\/formatForDisplay.js/,"$1")),h=f.map(e=>a("7ecb")("./"+e.slice(2)).then(e=>e.default));var g=Promise.all(h).then(e=>Object.fromEntries(e.map((e,t)=>[v[t],e]))),b=a("9431"),x={name:"TableList",props:{data:Object},data:()=>({loading:!0,search:"",selecteds:[],totalItems:0,items:[]}),computed:{viewOptions(){return this.data.viewOptions},fields(){return this.data.fields},headers(){if(!this.viewOptions.listHeaders||!this.fields)return[];const e=this.viewOptions.listHeaders.map(e=>({text:this.fields.find(({key:t})=>t==e).name,value:e,align:"left",sortable:!1}));return e.unshift({text:"Id",value:"id",align:"left",sortable:!1,filterable:!1}),e.push({text:"",value:"action",align:"right",sortable:!1,filterable:!1}),e},sm(){return this.$vuetify.breakpoint.smAndDown}},methods:{get(e=1,t=100){return this.$rest(this.data.key).get({params:{fields:"id,active,"+this.data.viewOptions.listHeaders.join(","),itemsPerPage:t,page:e,search:this.search,returnTotalItems:1},save:async(e,{list:t,totalItems:a})=>{this.totalItems=parseInt(a),e.list=t;const i=await g;this.items=[];for(let s of t){const e={};let t;for(let a in s)if(t=this.fields.find(e=>e.key===a),t){const l=i[t.typeKey.replace(/([A-Z])/g,"-$1").toLowerCase()];e[a]=l?await l({component:this,value:s[a],moduleId:this.data.id}):s[a]}else e[a]=s[a];this.items.push(e)}this.loading=!1}}).catch(()=>this.$router.replace("/"))},add(){this.loading=!0,this.$rest(this.data.key).post().then(({id:e})=>this.$router.push(this.$route.path+"/"+e)).finally(()=>this.loading=!1)},remove(){this.loading=!0,Promise.all(this.selecteds.map(({id:e})=>this.$rest(this.data.key).delete({id:e}).then(()=>{this.items.splice(this.items.findIndex(t=>t.id==e),1),this.loading=!1}))).finally(()=>this.loading=!1)},toggleActive(e,t){this.$rest(this.data.key).put({id:e,prop:"active",data:{value:0|t}}).then(()=>this.items.find(t=>t.id==e).active=0|t)},changePage(e){this.loading=!0,this.get(e).finally(()=>{this.loading=!1})}},created(){this.loading=!0,this.get()},components:{ToolbarButton:l["a"],PrintButton:m,ModuleTemplate:p["a"],Loading:b["a"]}},y=x,_=a("6544"),k=a.n(_),C=a("8336"),I=a("8fea"),$=a("132d"),w=a("a797"),V=a("8654"),T=Object(u["a"])(y,i,s,!1,null,null,null),S=T.exports;k()(T,{VBtn:C["a"],VDataTable:I["a"],VIcon:$["a"],VOverlay:w["a"],VTextField:V["a"]});var O=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("module-template",{attrs:{title:e.data.name+" / Alterar",width:"800px","max-width":"100%"},scopedSlots:e._u([{key:"toolbar",fn:function(){return[a("toolbar-button",{attrs:{tip:"Começo/Fim",icon:"fas fa-calendar-alt"},on:{click:function(t){e.rangeDateActiveDialog=!0}}}),a("v-dialog",{attrs:{"max-width":"330px"},model:{value:e.rangeDateActiveDialog,callback:function(t){e.rangeDateActiveDialog=t},expression:"rangeDateActiveDialog"}},[a("v-card",{staticClass:"pa-4",attrs:{dark:""}},[a("div",{staticClass:"title mb-4 text-center"},[e._v("Alterar período ativo")]),a("v-form",{ref:"rangeDateActiveForm",staticClass:"table-module-edit-rangedateactived"},[a("v-text-field",{staticClass:"mb-3",attrs:{label:"Começo",type:"datetime-local",name:"showFrom",outlined:"",dense:"","hide-details":""}}),a("v-text-field",{staticClass:"mb-3",attrs:{label:"Fim",type:"datetime-local",name:"showUp",outlined:"",dense:"","hide-details":""}})],1),a("v-btn",{staticClass:"text-none",attrs:{color:"secondary",loading:e.updatingRangeDateActived,disabled:e.updatingRangeDateActived,block:"",depressed:""},on:{click:e.setRangeDateActived}},[e._v("Alterar")])],1)],1)]},proxy:!0}])},[a("v-card",{staticClass:"pa-4 rounded-t-0",attrs:{outlined:"",dark:""}},[a("v-form",{ref:"form"},[a("div",{staticClass:"table-module-edit-form"},e._l(e.data.fields,(function(t,i){var s=t.id,l=t.name,n=t.key,o=t.typeKey,r=t.options;return a(o.toLowerCase()+"field",{key:i,tag:"component",attrs:{value:e.item[n]||"",label:l,name:n,"field-id":parseInt(s),"field-options":r}})})),1),a("div",{staticClass:"d-flex justify-end"},[a("v-btn",{staticClass:"text-none",attrs:{color:"secondary",depressed:""},on:{click:e.send}},[e._v(e._s(e.isPublished?"Alterar":"Publicar"))])],1)])],1)],1)},j=[],D=a("88cf"),E={name:"TableAdd",props:{data:Object},data:()=>({rangeDateActiveDialog:!1,updatingRangeDateActived:!1}),computed:{itemId(){return this.$route.params.sub},item(){return this.$rest(this.data.key).item},isPublished(){return this.item.alteredAt&&parseInt(this.item.active)}},methods:{send(){const e=this.$refs.form;if(e.validate()){const t=Object.fromEntries(new FormData(e.$el).entries());for(let e in t)"object"===typeof t[e]&&delete t[e];this.isPublished||(t.active=1),this.$rest(this.data.key).put({id:this.itemId,data:t}).then(()=>this.$router.push("/"+this.data.key))}},setRangeDateActived(){this.updatingRangeDateActived=!0;const e=Object.fromEntries(new FormData(this.$refs.rangeDateActiveForm.$el).entries());this.$rest(this.data.key).put({id:this.itemId,data:e}).finally(()=>this.updatingRangeDateActived=!1)}},created(){this.$rest(this.data.key).get({id:this.itemId}).catch(()=>this.$router.replace("/"+this.data.key))},components:{ModuleTemplate:p["a"],ToolbarButton:l["a"],...D["a"]}},A=E,F=(a("fa0e"),a("b0af")),N=a("169a"),q=a("4bd4"),L=Object(u["a"])(A,O,j,!1,null,null,null),B=L.exports;k()(L,{VBtn:C["a"],VCard:F["a"],VDialog:N["a"],VForm:q["a"],VTextField:V["a"]});t["default"]={routes:[{name:"{name}",path:"/{key}",component:S},{name:"{name} / Alterar",path:"/{key}/:sub",component:B}]}},ba22:function(e,t,a){},bce8:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("grid-item",{attrs:{"col-end":"2","col-end-sm":"1"}},[a("v-text-field",{attrs:{label:e.label,value:e.value,name:e.name,type:"number",dense:"",outlined:"",dark:""}})],1)},s=[],l=a("d803"),n={mixins:[l["a"]]},o=n,r=a("2877"),d=a("6544"),u=a.n(d),c=a("8654"),m=Object(r["a"])(o,i,s,!1,null,null,null);t["default"]=m.exports;u()(m,{VTextField:c["a"]})},beb4:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("grid-item",{attrs:{"col-end":"2","col-end-sm":"1"}},[a("v-text-field",{attrs:{label:e.label,value:e.value,name:e.name,dense:"",outlined:"",dark:""}})],1)},s=[],l=a("d803"),n={mixins:[l["a"]]},o=n,r=a("2877"),d=a("6544"),u=a.n(d),c=a("8654"),m=Object(r["a"])(o,i,s,!1,null,null,null);t["default"]=m.exports;u()(m,{VTextField:c["a"]})},c010:function(e,t,a){},c680:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("module-template",{attrs:{title:e.data.name+" / Alterar",width:"800px","max-width":"100%"}},[a("v-card",{staticClass:"pa-4 rounded-t-0",attrs:{outlined:"",dark:""}},[a("v-form",{ref:"form"},[a("div",{staticClass:"item-module-add-form"},e._l(e.data.fields,(function(t,i){var s=t.id,l=t.name,n=t.key,o=t.typeKey,r=t.options;return a(o.toLowerCase()+"field",{key:i,tag:"component",attrs:{value:e.item[n]||"",label:l,name:n,"field-id":parseInt(s),"field-options":r}})})),1),a("div",{staticClass:"d-flex justify-end"},[a("v-btn",{staticClass:"text-none",attrs:{color:"secondary",depressed:""},on:{click:e.send}},[e._v("Alterar")])],1)])],1)],1)},s=[],l=a("fe48"),n=a("88cf"),o={name:"ItemIndex",props:{data:Object},data:()=>({itemId:1}),computed:{item(){return this.$rest(this.data.key).item}},methods:{send(){const e=this.$refs.form;if(e.validate()){const t=Object.fromEntries(new FormData(e.$el).entries());for(let e in t)"object"===typeof t[e]&&delete t[e];this.$rest(this.data.key).put({id:this.itemId,data:t}).then(()=>this.$router.push("/"))}}},created(){this.$rest(this.data.key).get({save:(e,t)=>e.item=t}).catch(()=>this.$router.replace("/"))},components:{ModuleTemplate:l["a"],...n["a"]}},r=o,d=(a("9f72"),a("2877")),u=a("6544"),c=a.n(u),m=a("8336"),p=a("b0af"),f=a("4bd4"),v=Object(d["a"])(r,i,s,!1,null,null,null),h=v.exports;c()(v,{VBtn:m["a"],VCard:p["a"],VForm:f["a"]});t["default"]={routes:[{name:"{name} / Alterar",path:"/{key}",component:h}]}},c8fe:function(e,t,a){"use strict";a("dac9")},cf92:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-dialog",{attrs:{value:e.value,"max-width":"330px"},on:{input:function(t){return e.$emit("input",t)}}},[a("v-card",{staticClass:"pa-4",attrs:{dark:""}},[a("div",{staticClass:"title mb-4 text-center"},[e._v("Adicionar tag")]),a("v-text-field",{staticClass:"mb-3",attrs:{label:"Título",outlined:"",dense:"","hide-details":""},model:{value:e.addTagTitle,callback:function(t){e.addTagTitle=t},expression:"addTagTitle"}}),a("v-btn",{staticClass:"text-none",attrs:{disabled:!e.addTagTitle,color:"secondary",block:"",depressed:""},on:{click:e.add}},[e._v("Adicionar")])],1),e.value?a("v-overlay",{model:{value:e.loading,callback:function(t){e.loading=t},expression:"loading"}},[a("loading")],1):e._e()],1)},s=[],l=a("9431"),n={props:{value:Boolean,fieldId:{type:Number,required:!0}},data:()=>({loading:!1,addTagTitle:null}),computed:{moduleId(){return this.$rest("modules").item.id}},methods:{add(){this.loading=!0,this.$rest("modulesTags").post({data:{title:this.addTagTitle},params:{moduleId:this.moduleId,fieldId:this.fieldId}}).then(e=>this.$emit("add",e)).finally(()=>{this.addTagTitle=null,this.addDialog=!1,this.loading=!1})}},components:{Loading:l["a"]}},o=n,r=a("2877"),d=a("6544"),u=a.n(d),c=a("8336"),m=a("b0af"),p=a("169a"),f=a("a797"),v=a("8654"),h=Object(r["a"])(o,i,s,!1,null,null,null);t["default"]=h.exports;u()(h,{VBtn:c["a"],VCard:m["a"],VDialog:p["a"],VOverlay:f["a"],VTextField:v["a"]})},cfa3:function(e,t,a){"use strict";a.r(t),t["default"]=async({component:e,value:t,moduleId:a})=>{let i=e.$rest("modulesCategories").list.find(({id:e})=>e==t);return i?Promise.resolve(i.title):e.$rest("modulesCategories").get({params:{moduleId:a},keepCache:!0}).then(e=>{const a=e.find(({id:e})=>e==t);return a?a.title:""})}},d088:function(e,t,a){"use strict";a.r(t),t["default"]=async({component:e,value:t,moduleId:a})=>{let i=e.$rest("modulesTags").list.find(({id:e})=>e==t);return i?Promise.resolve(i.title):e.$rest("modulesTags").get({params:{moduleId:a},keepCache:!0}).then(e=>{const a=e.find(({id:e})=>e==t);return a?a.title:""})}},d0a1:function(e,t,a){},d23a:function(e,t,a){"use strict";a("e406")},d2b0:function(e,t,a){},d803:function(e,t,a){"use strict";t["a"]={props:{label:{type:String,required:!0},value:String,name:{type:String,required:!0}}}},dac9:function(e,t,a){},db65:function(e,t,a){"use strict";a("46ae")},ddc9:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("grid-item",{attrs:{"col-end":"2","col-end-sm":"1"}},[a("div",{staticClass:"d-flex"},[a("v-select",{attrs:{label:e.label,name:e.name,items:e.itemsSelect,dense:"",outlined:"",dark:""},model:{value:e.value_,callback:function(t){e.value_=t},expression:"value_"}}),a("v-btn",{staticClass:"ml-1",attrs:{icon:"",small:""},on:{click:function(t){e.listDialog=!0}}},[a("v-icon",{attrs:{small:""}},[e._v("fas fa-cog")])],1)],1),a("list",{attrs:{"module-id":e.moduleId,"field-id":e.fieldId,items:e.items,"field-category":parseInt(e.fieldOptions.category)},model:{value:e.listDialog,callback:function(t){e.listDialog=t},expression:"listDialog"}})],1)},s=[],l=a("917e"),n=a("9bc7"),o=a("d803"),r={props:{fieldId:{type:Number,required:!0},fieldOptions:{type:Object,required:!0}},data:()=>({listDialog:!1,value_:null}),computed:{moduleKey(){return this.$route.params.module},moduleId(){return parseInt(this.$rest("modules").item.id)},savedSelectedCategory(){if(!this.fieldOptions.category)return null;const e=this.$rest("modules").item.fields.find(({id:e})=>e==this.fieldOptions.category);return e?this.$parent.$children.find(({name:t})=>t===e.key).value:null},selectedCategory(){if(!this.fieldOptions.category)return null;const e=this.$rest("modules").item.fields.find(({id:e})=>e==this.fieldOptions.category);return e?this.$parent.$children.find(({name:t})=>t===e.key).value_:null},items(){return this.selectedCategory?this.$rest("modulesSubcategories").getters.filterByProperty("fieldId",this.fieldId).filter(({categoryId:e})=>e==this.selectedCategory):[]},itemsSelect(){const e=this.items.map(({title:e,id:t})=>({text:e,value:t}));return e.unshift({text:"",value:""}),e}},watch:{value(e){this.value_=e},selectedCategory(e){e!==this.savedSelectedCategory?this.value_=null:this.value_=this.value}},mounted(){this.value_=this.value},created(){this.$rest("modulesSubcategories").get({params:{moduleId:this.moduleId,fieldId:this.fieldId},keepCache:!0})},mixins:[o["a"]],components:{Tooltip:l["a"],List:n["default"]}},d=r,u=a("2877"),c=a("6544"),m=a.n(c),p=a("8336"),f=a("132d"),v=a("b974"),h=Object(u["a"])(d,i,s,!1,null,null,null);t["default"]=h.exports;m()(h,{VBtn:p["a"],VIcon:f["a"],VSelect:v["a"]})},dec4:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("grid-item",{attrs:{"col-end":"2","col-end-sm":"1"}},[a("v-text-field",{attrs:{label:e.label,value:e.value,readonly:"",dense:"",outlined:"",dark:""}})],1)},s=[],l=a("d803"),n={mixins:[l["a"]]},o=n,r=a("2877"),d=a("6544"),u=a.n(d),c=a("8654"),m=Object(r["a"])(o,i,s,!1,null,null,null);t["default"]=m.exports;u()(m,{VTextField:c["a"]})},dee3:function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-dialog",{attrs:{value:e.value,"max-width":e.maxWidth},on:{input:function(t){return e.$emit("input",t)}}},[e.loading?e._e():a("v-card",{staticClass:"pa-4",attrs:{dark:""}},[a("div",{staticClass:"title mb-4 d-flex flex-column flex-sm-row",class:e.simple?"justify-center":"justify-space-between"},[a("div",[e._v(e._s(e.title))]),e.simple?e._e():a("div",{staticClass:"field-dialog-actions d-flex"},[e._t("actions")],2)]),e._t("default")],2),e.value?a("v-overlay",{model:{value:e.loading,callback:function(t){e.loading=t},expression:"loading"}},[a("loading")],1):e._e()],1)},s=[],l=a("9431"),n={props:{value:Boolean,maxWidth:[String,Number],title:String,loading:Boolean,simple:{type:Boolean,value:!1}},components:{Loading:l["a"]}},o=n,r=(a("db65"),a("2877")),d=a("6544"),u=a.n(d),c=a("b0af"),m=a("169a"),p=a("a797"),f=Object(r["a"])(o,i,s,!1,null,null,null);t["a"]=f.exports;u()(f,{VCard:c["a"],VDialog:m["a"],VOverlay:p["a"]})},dfcc:function(e,t,a){},e3c9:function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("tooltip",{attrs:{tip:e.tip,top:""}},[e.sm?a("v-btn",e._g(e._b({attrs:{icon:"",exact:"",small:""}},"v-btn",e.$attrs,!1),e.$listeners),[a("v-icon",{attrs:{small:""}},[e._v(e._s(e.icon))])],1):a("v-btn",e._g(e._b({staticClass:"toolbar-button-desktop",attrs:{text:"",exact:"",small:""}},"v-btn",e.$attrs,!1),e.$listeners),[a("v-icon",{attrs:{small:""}},[e._v(e._s(e.icon))])],1)],1)],1)},s=[],l=a("917e"),n={props:{icon:{type:String,required:!0},tip:{type:String,default:""}},computed:{sm(){return this.$vuetify.breakpoint.smAndDown}},components:{Tooltip:l["a"]}},o=n,r=(a("8876"),a("2877")),d=a("6544"),u=a.n(d),c=a("8336"),m=a("132d"),p=Object(r["a"])(o,i,s,!1,null,null,null);t["a"]=p.exports;u()(p,{VBtn:c["a"],VIcon:m["a"]})},e403:function(e,t,a){"use strict";a("8909")},e406:function(e,t,a){},e8db:function(e,t,a){"use strict";a("24b6")},eb0f:function(e,t,a){},ed85:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("grid-item",{attrs:{"col-end":"2","col-end-sm":"1"}},[a("div",{staticClass:"d-flex"},[a("v-select",{attrs:{label:e.label,name:e.name,items:e.categoriesSelect,dense:"",outlined:"",dark:""},model:{value:e.value_,callback:function(t){e.value_=t},expression:"value_"}}),a("v-btn",{staticClass:"ml-1",attrs:{icon:"",small:""},on:{click:function(t){e.listDialog=!0}}},[a("v-icon",{attrs:{small:""}},[e._v("fas fa-cog")])],1)],1),a("list",{attrs:{"field-id":e.fieldId,categories:e.categories},model:{value:e.listDialog,callback:function(t){e.listDialog=t},expression:"listDialog"}})],1)},s=[],l=a("917e"),n=a("faaf"),o=a("d803"),r={props:{fieldId:{type:Number,required:!0}},data:()=>({listDialog:!1,value_:null}),computed:{moduleId(){return this.$rest("modules").item.id},itemId(){return this.$route.params.sub},categories(){return this.$rest("modulesCategories").getters.filterByProperty("fieldId",this.fieldId)},categoriesSelect(){const e=this.categories.map(({title:e,id:t})=>({text:e,value:t}));return e.unshift({text:"",value:""}),e}},watch:{value(e){this.value_=e}},created(){this.$rest("modulesCategories").get({params:{moduleId:this.moduleId},keepCache:!0})},mounted(){this.value_=this.value},mixins:[o["a"]],components:{Tooltip:l["a"],List:n["default"]}},d=r,u=a("2877"),c=a("6544"),m=a.n(c),p=a("8336"),f=a("132d"),v=a("b974"),h=Object(u["a"])(d,i,s,!1,null,null,null);t["default"]=h.exports;m()(h,{VBtn:p["a"],VIcon:f["a"],VSelect:v["a"]})},edfc:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("grid-item",{staticClass:"mb-2",attrs:{"row-end":"2","col-end":"2","col-end-sm":"1"}},[a("div",{staticClass:"grey--text text--lighten-1 font-weight-bold text-caption d-flex align-center mb-1"},[e._v(e._s(e.label))]),a("tooltip",{attrs:{tip:e.label,top:""}},[a("v-responsive",{directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"grey d-flex align-center rounded-lg primary cursor-pointer",attrs:{"aspect-ratio":38/9},on:{click:function(t){e.listDialog=!0}}},[a("div",{staticClass:"d-flex justify-center align-center"},[a("div",{staticClass:"d-flex flex-column"},[a("v-icon",{staticClass:"d-block mx-auto",attrs:{size:30}},[e._v("fas fa-layer-group")]),a("div",{staticClass:"text-caption font-weight-bold mt-1"},[e._v("Alterar")])],1)])])],1),a("list",{attrs:{items:e.parsedValue,"input-name":e.name},on:{saved:function(t){e.listDialog=!1}},model:{value:e.listDialog,callback:function(t){e.listDialog=t},expression:"listDialog"}})],1)},s=[],l=a("917e"),n=a("ac83"),o=a("d803"),r={props:{fieldId:{type:Number,required:!0}},data:()=>({listDialog:!1}),computed:{moduleId(){return parseInt(this.$rest("modules").item.id)},parsedValue(){return JSON.parse(this.value||"{}")}},beforeCreate(){this.$rest("modulesFieldsTypes").get()},mixins:[o["a"]],components:{Tooltip:l["a"],List:n["default"]}},d=r,u=a("2877"),c=a("6544"),m=a.n(c),p=a("132d"),f=a("6b53"),v=a("269a"),h=a.n(v),g=a("5607"),b=Object(u["a"])(d,i,s,!1,null,null,null);t["default"]=b.exports;m()(b,{VIcon:p["a"],VResponsive:f["a"]}),h()(b,{Ripple:g["a"]})},ee89:function(e,t,a){},eeaf:function(e,t,a){"use strict";a.r(t),t["default"]=[]},ef14:function(e,t,a){var i={"./custom/_module/add/Index.vue":["c5f3","chunk-2d217535"],"./item/_module/add/Index.vue":["d9d7","chunk-7404710a"],"./table/_module/add/Index.vue":["3667","chunk-6f1d9f6d"]};function s(e){if(!a.o(i,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=i[e],s=t[0];return a.e(t[1]).then((function(){return a(s)}))}s.keys=function(){return Object.keys(i)},s.id="ef14",e.exports=s},f20f:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("grid-item",{attrs:{"col-end":"2","col-end-sm":"1"}},[a("v-text-field",{attrs:{label:e.label,value:e.value,name:e.name,dense:"",outlined:"",dark:""}})],1)},s=[],l=a("d803"),n={mixins:[l["a"]]},o=n,r=a("2877"),d=a("6544"),u=a.n(d),c=a("8654"),m=Object(r["a"])(o,i,s,!1,null,null,null);t["default"]=m.exports;u()(m,{VTextField:c["a"]})},f66d:function(e,t,a){var i={"./big-text/Index.vue":"1b8a","./category/Add.vue":"7c83","./category/Index.vue":"ed85","./category/List.vue":"faaf","./collection-with-key/Index.vue":"edfc","./collection-with-key/List.vue":"ac83","./collection/Index.vue":"4884","./collection/List.vue":"b87b","./date/Index.vue":"9b55","./email/Index.vue":"f20f","./file/Index.vue":"28eb","./file/List.vue":"8dde","./hidden/Index.vue":"173c","./image-file/Index.vue":"a798","./image-file/List.vue":"56b4","./medium-text/Index.vue":"ff5f","./number/Index.vue":"bce8","./password/Index.vue":"beb4","./price/Index.vue":"fc9e","./read-only/Index.vue":"dec4","./source-code/Index.vue":"9310","./subcategory/Index.vue":"ddc9","./subcategory/list/Add.vue":"9d3e","./subcategory/list/Index.vue":"9bc7","./subcategory/list/SelectFieldCategory.vue":"f96c","./switch-boolean/Index.vue":"0850","./tags/Add.vue":"cf92","./tags/Index.vue":"30e9","./tags/List.vue":"81ec","./tiny-text/Index.vue":"1e7e","./url/Index.vue":"47a6"};function s(e){var t=l(e);return a(t)}function l(e){if(!a.o(i,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return i[e]}s.keys=function(){return Object.keys(i)},s.resolve=l,e.exports=s,s.id="f66d"},f728:function(e,t,a){},f96c:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-select",{attrs:{items:e.items,loading:e.loading,label:"Campo",outlined:"",dense:"","hide-details":""},on:{change:function(t){return e.update(t)}},model:{value:e.value_,callback:function(t){e.value_=t},expression:"value_"}})},s=[],l={props:{moduleId:{type:Number,required:!0},fieldId:{type:Number,required:!0},value:Number,items:{type:Array,default:()=>[]}},data:()=>({value_:null,loading:!1}),methods:{update(e){this.loading=!0,this.$rest("modules-fields").put({id:this.fieldId,prop:"options",data:{value:e},params:{moduleId:this.moduleId,option:"category"},save:!1}).finally(()=>this.loading=!1)}},mounted(){this.value_=this.value}},n=l,o=a("2877"),r=a("6544"),d=a.n(r),u=a("b974"),c=Object(o["a"])(n,i,s,!1,null,null,null);t["default"]=c.exports;d()(c,{VSelect:u["a"]})},fa0e:function(e,t,a){"use strict";a("7e53")},faaf:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-dialog",{attrs:{value:e.value,"max-width":"500px"},on:{input:function(t){return e.$emit("input",t)}}},[a("v-card",{staticClass:"pa-4",attrs:{dark:""}},[a("div",{staticClass:"title mb-4 d-flex flex-column flex-sm-row justify-space-between"},[a("div",[e._v("Categorias")]),a("div",[a("v-btn",{staticClass:"mr-2 text-none",attrs:{color:"secondary",disabled:!e.selecteds.length,depressed:"",small:""},on:{click:e.remove}},[a("v-icon",{attrs:{left:"",small:""}},[e._v("fas fa-trash")]),a("span",[e._v("Remover")])],1),a("v-btn",{staticClass:"text-none",attrs:{color:"secondary",depressed:"",small:""},on:{click:function(t){e.addDialog=!0}}},[a("v-icon",{attrs:{left:"",small:""}},[e._v("fas fa-plus")]),a("span",[e._v("Adicionar")])],1)],1)]),e.categories.length?a("v-data-table",{attrs:{headers:e.headers,items:e.categories,"mobile-breakpoint":0,"no-data-text":"Não há registros.","sort-by":"id","sort-desc":"","show-select":"","disable-pagination":"","hide-default-footer":""},scopedSlots:e._u([{key:"item.title",fn:function(t){var i=t.item;return[a("v-edit-dialog",{staticClass:"primary lighten-4",attrs:{"return-value":e.editCategoryTitle,dark:""},on:{save:function(t){return e.editTitle(i.id)},"update:returnValue":function(t){e.editCategoryTitle=t},"update:return-value":function(t){e.editCategoryTitle=t}},scopedSlots:e._u([{key:"input",fn:function(){return[a("v-text-field",{attrs:{value:i.title,rules:[e.rules.required],label:"Renomear","single-line":"",counter:""},on:{input:function(t){return e.editCategoryTitle=t}}})]},proxy:!0}],null,!0)},[e._v(e._s(i.title))])]}}],null,!1,307675390),model:{value:e.selecteds,callback:function(t){e.selecteds=t},expression:"selecteds"}}):a("div",{staticClass:"pt-8 pb-4 text-body-2 text-center font-weight-bold"},[e._v("Nenhuma categoria foi adicionada.")])],1),e.value?a("v-overlay",{model:{value:e.loading,callback:function(t){e.loading=t},expression:"loading"}},[a("loading")],1):e._e(),a("add",{attrs:{"field-id":e.fieldId},model:{value:e.addDialog,callback:function(t){e.addDialog=t},expression:"addDialog"}})],1)},s=[],l=a("7c83"),n=a("9431"),o=a("5f42"),r={props:{value:Boolean,fieldId:{type:Number,required:!0},categories:{type:Array,default:()=>[]}},data:()=>({addDialog:!1,loading:!1,headers:[{text:"Título",value:"title",align:"left"}],editCategoryTitle:null,rules:{required:o["d"]},selecteds:[]}),computed:{moduleKey(){return this.$rest("modules").item.key},moduleId(){return this.$rest("modules").item.id},itemId(){return this.$route.params.sub||1}},methods:{remove(){this.loading=!0,Promise.all(this.selecteds.map(({id:e})=>this.$rest("modulesCategories").delete({id:e,params:{moduleId:this.moduleId}}))).finally(()=>{this.selecteds=[],this.loading=!1})},editTitle(e){const t=this.categories.find(({id:t})=>t==e).title;this.editCategoryTitle&&t!==this.editCategoryTitle&&(this.loading=!0,this.$rest("modulesCategories").put({id:e,prop:"title",data:{value:this.editCategoryTitle},params:{moduleId:this.moduleId}}).then(()=>this.loading=!1))}},components:{Loading:n["a"],Add:l["default"]}},d=r,u=a("2877"),c=a("6544"),m=a.n(c),p=a("8336"),f=a("b0af"),v=a("8fea"),h=a("169a"),g=a("7679"),b=a("132d"),x=a("a797"),y=a("8654"),_=Object(u["a"])(d,i,s,!1,null,null,null);t["default"]=_.exports;m()(_,{VBtn:p["a"],VCard:f["a"],VDataTable:v["a"],VDialog:h["a"],VEditDialog:g["a"],VIcon:b["a"],VOverlay:x["a"],VTextField:y["a"]})},fc9e:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("grid-item",{attrs:{"col-end":"2","col-end-sm":"1"}},[a("v-text-field",{attrs:{label:e.label,value:e.value,name:e.name,rules:[e.rules.price],"append-icon":"fas fa-dollar-sign",type:"number",step:".01",min:"0.00",max:"9999999999.99",dense:"",outlined:"",dark:""}})],1)},s=[],l=a("d803"),n=a("5f42"),o={data:()=>({rules:{price:n["c"]}}),mixins:[l["a"]]},r=o,d=a("2877"),u=a("6544"),c=a.n(u),m=a("8654"),p=Object(d["a"])(r,i,s,!1,null,null,null);t["default"]=p.exports;c()(p,{VTextField:m["a"]})},fdbe:function(e,t,a){},fe48:function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-sheet",{staticClass:"mx-auto module-page pa-2",attrs:{width:e.width,"max-width":e.maxWidth,color:"transparent"}},[a("v-toolbar",{staticClass:"elevation-0 rounded-t",attrs:{color:"accent darken-1",width:"100%",dark:"",dense:""}},[a("h4",[e._v(e._s(e.title))]),a("v-spacer"),a("div",{staticClass:"module-page-toolbar"},[e._t("toolbar"),e.prev&&!e.sm?a("toolbar-button",{attrs:{to:e.prev,tip:"Voltar",icon:"fas fa-undo-alt",dark:""}}):e._e()],2)],1),e._t("default")],2)},s=[],l=a("e3c9"),n={props:{title:{type:String,required:!0},width:{type:String,default:"100%"},maxWidth:{type:String,default:"100%"}},computed:{sm(){return this.$vuetify.breakpoint.smAndDown},prev(){const e=this.$route.path;return/^\/[^/]+\/.+/.test(e)&&e.replace(/(\/[^/]+)(.*)$/,"$1")}},beforeCreate(){this.$rest("modules").get({keepCache:!0})},components:{ToolbarButton:l["a"]}},o=n,r=(a("6c6e"),a("2877")),d=a("6544"),u=a.n(d),c=a("8dd9"),m=a("2fa4"),p=a("71d9"),f=Object(r["a"])(o,i,s,!1,null,null,null);t["a"]=f.exports;u()(f,{VSheet:c["a"],VSpacer:m["a"],VToolbar:p["a"]})},ff5f:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("grid-item",{attrs:{"col-end":"2"}},[a("v-textarea",{attrs:{label:e.label,value:e.value,name:e.name,counter:"300",dense:"",outlined:"",dark:""}})],1)},s=[],l=a("d803"),n={mixins:[l["a"]]},o=n,r=a("2877"),d=a("6544"),u=a.n(d),c=a("a844"),m=Object(r["a"])(o,i,s,!1,null,null,null);t["default"]=m.exports;u()(m,{VTextarea:c["a"]})}});
//# sourceMappingURL=index.44bcd484.js.map