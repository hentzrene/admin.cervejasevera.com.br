(function(e){function t(t){for(var s,n,r=t[0],o=t[1],d=t[2],c=0,m=[];c<r.length;c++)n=r[c],Object.prototype.hasOwnProperty.call(i,n)&&i[n]&&m.push(i[n][0]),i[n]=0;for(s in o)Object.prototype.hasOwnProperty.call(o,s)&&(e[s]=o[s]);u&&u(t);while(m.length)m.shift()();return l.push.apply(l,d||[]),a()}function a(){for(var e,t=0;t<l.length;t++){for(var a=l[t],s=!0,r=1;r<a.length;r++){var o=a[r];0!==i[o]&&(s=!1)}s&&(l.splice(t--,1),e=n(n.s=a[0]))}return e}var s={},i={app:0},l=[];function n(t){if(s[t])return s[t].exports;var a=s[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=e,n.c=s,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)n.d(a,s,function(t){return e[t]}.bind(null,s));return a},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],o=r.push.bind(r);r.push=t,r=r.slice();for(var d=0;d<r.length;d++)t(r[d]);var u=o;l.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"031b":function(e,t,a){},"034f":function(e,t,a){"use strict";a("85ec")},"094c":function(e,t,a){"use strict";a("fdbe")},"0da2":function(e,t,a){"use strict";a("aa56")},"191b":function(e,t,a){},"1a44":function(e,t,a){"use strict";a("7233")},"1a5a":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("grid-item",{attrs:{"col-end":"2","col-end-sm":"1"}},[a("v-text-field",{attrs:{label:e.label,value:e._f("toDateTimeHTML")(e.value),name:e.name,type:"datetime-local",dense:"",outlined:"",dark:""}})],1)},i=[],l=a("d803");const n=["getFullYear","getMonth","getDate"],r=[...n,"getHours"],o=[...r,"getMinutes"],d=e=>{if("string"===typeof e)return new Date(e);if(e instanceof Date)return e;throw new Error(e+" não é um objeto data ou uma string.")},u=(new Intl.RelativeTimeFormat("pt-BR",{numeric:"auto"}),e=>d(e).toLocaleString().replace(/(\d{2})\/(\d{2})\/(\d{4}) (.+)/,"$3-$2-$1T$4").slice(0,-3));var c={filters:{toDateTimeHTML:e=>u(new Date(e||null))},mixins:[l["a"]]},m=c,p=a("2877"),f=a("6544"),v=a.n(f),h=a("8654"),g=Object(p["a"])(m,s,i,!1,null,null,null);t["default"]=g.exports;v()(g,{VTextField:h["a"]})},"1cfd":function(e,t,a){"use strict";a("191b")},2162:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-dialog",{attrs:{value:e.value,"max-width":"880px"},on:{input:function(t){return e.$emit("input",t)}}},[a("v-card",{staticClass:"pa-4",attrs:{dark:""}},[a("div",{staticClass:"title mb-4 d-flex flex-column flex-sm-row justify-space-between"},[a("div",[e._v("Arquivos")]),a("div",[a("v-btn",{staticClass:"mr-2 text-none",attrs:{color:"secondary",disabled:!e.selecteds.length,depressed:"",small:""},on:{click:e.remove}},[a("v-icon",{attrs:{left:"",small:""}},[e._v("fas fa-trash")]),a("span",[e._v("Remover")])],1),a("v-btn",{staticClass:"text-none",attrs:{color:"secondary",depressed:"",small:""},on:{click:function(t){return e.$refs.file.$refs.input.click()}}},[a("v-icon",{attrs:{left:"",small:""}},[e._v("fas fa-upload")]),a("span",[e._v("Enviar")])],1)],1)]),e.files.length?a("v-data-table",{attrs:{headers:e.headers,items:e.files,"mobile-breakpoint":0,"no-data-text":"Não há registros.","sort-by":"id","sort-desc":"","show-select":"","disable-pagination":"","hide-default-footer":""},scopedSlots:e._u([{key:"item.title",fn:function(t){var s=t.item;return[a("v-edit-dialog",{staticClass:"primary lighten-4",attrs:{"return-value":e.editFileTitle,dark:""},on:{save:function(t){return e.editTitle(s.id)},"update:returnValue":function(t){e.editFileTitle=t},"update:return-value":function(t){e.editFileTitle=t}},scopedSlots:e._u([{key:"input",fn:function(){return[a("v-text-field",{attrs:{value:s.title,rules:[e.rules.required],label:"Renomear","single-line":"",counter:""},on:{input:function(t){return e.editFileTitle=t}}})]},proxy:!0}],null,!0)},[e._v(e._s(s.title))])]}},{key:"item.action",fn:function(t){var s=t.item;return[s.path===e.highlightedFile?a("v-btn",{attrs:{color:"yellow",icon:"",small:""},on:{click:function(t){return e.highlight(s.id)}}},[a("v-icon",{attrs:{small:""}},[e._v("fas fa-star")])],1):a("v-btn",{attrs:{color:"yellow",icon:"",small:""},on:{click:function(t){return e.highlight(s.id)}}},[a("v-icon",{attrs:{small:""}},[e._v("far fa-star")])],1)]}}],null,!1,2027906049),model:{value:e.selecteds,callback:function(t){e.selecteds=t},expression:"selecteds"}}):a("div",{staticClass:"pa-4 text-body-2 text-center font-weight-bold"},[e._v("Nenhum arquivo foi enviado.")])],1),a("v-overlay",{model:{value:e.uploading,callback:function(t){e.uploading=t},expression:"uploading"}},[a("v-progress-circular",{staticClass:"font-weight-bold accent--text",attrs:{value:e.progress,size:120,rotate:-90,width:12,color:"secondary"}},[e._v(e._s(e.progress)+"%")])],1),a("v-overlay",{model:{value:e.loading,callback:function(t){e.loading=t},expression:"loading"}},[a("v-progress-circular",{attrs:{size:50,color:"secondary",indeterminate:""}})],1),a("v-text-field",{ref:"file",staticClass:"ma-0 pa-0",attrs:{name:e.inputName,type:"file",multiple:"","hide-details":"",hidden:""},model:{value:e.file,callback:function(t){e.file=t},expression:"file"}})],1)},i=[],l=a("5f42"),n={props:{value:Boolean,inputName:{type:String,required:!0},highlightedFile:String,fieldId:{type:Number,required:!0}},data:()=>({file:null,uploading:!1,progress:0,loading:!1,files:[],selecteds:[],headers:[{text:"Título",value:"title",align:"left"},{text:"",value:"action",align:"right",sortable:!1}],editFileTitle:null,rules:{required:l["c"]}}),computed:{moduleKey(){return this.$rest("modules").item.key},moduleId(){return this.$rest("modules").item.id},itemId(){return this.$route.params.sub}},methods:{get(){return this.$rest("modulesFiles").get({id:this.itemId,params:{moduleId:this.moduleId,fieldId:this.fieldId}}).then(e=>this.files=e)},remove(){this.loading=!0,Promise.all(this.selecteds.map(({id:e})=>this.$rest("modulesFiles").delete({id:e,params:{moduleId:this.moduleId}}))).finally(()=>{this.selecteds=[],this.get().then(()=>this.loading=!1)})},highlight(e){this.loading=!0;const t=this.files.find(({id:t})=>t==e)["path"],a={};a[this.inputName]=t,this.$rest(this.moduleKey).put({id:this.itemId,prop:this.inputName,data:a}).then(()=>this.$rest(this.moduleKey).get({id:this.itemId}).then(()=>{this.selecteds=[],this.loading=!1}))},editTitle(e){const t=this.files.find(({id:t})=>t==e).title;this.editFileTitle&&t!==this.editFileTitle&&(this.loading=!0,this.$rest("modulesFiles").put({id:e,prop:"title",data:{value:this.editFileTitle},params:{moduleId:this.moduleId}}).then(()=>this.get().then(()=>{this.loading=!1})))}},watch:{async file(){const e=this.$refs.file.$refs.input.files,t=({loaded:e,total:t})=>this.progress=new Intl.NumberFormat("pt-BR",{maximumFractionDigits:0}).format(e/t*100);this.uploading=!0;for(const a of e)await this.$rest("modulesFiles").upload({file:a,prop:"file",data:{title:a.name},params:{itemId:this.itemId,moduleId:this.moduleId,fieldId:this.fieldId},onUploadProgress:t}).then(({file:e,title:t,id:a})=>{this.progress=0,this.files.push({path:e,title:t,id:a})});this.$refs.file.$refs.input.value="",this.uploading=!1}},created(){this.get()}},r=n,o=(a("9802"),a("2877")),d=a("6544"),u=a.n(d),c=a("8336"),m=a("b0af"),p=a("8fea"),f=a("169a"),v=a("7679"),h=a("132d"),g=a("a797"),y=a("490a"),b=a("8654"),x=Object(o["a"])(r,s,i,!1,null,null,null);t["default"]=x.exports;u()(x,{VBtn:c["a"],VCard:m["a"],VDataTable:p["a"],VDialog:f["a"],VEditDialog:v["a"],VIcon:h["a"],VOverlay:g["a"],VProgressCircular:y["a"],VTextField:b["a"]})},"231e":function(e,t,a){"use strict";a("f459")},"290f":function(e,t,a){},"2da8":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-dialog",{attrs:{value:e.value,"max-width":"330px"},on:{input:function(t){return e.$emit("input",t)}}},[a("v-card",{staticClass:"pa-4",attrs:{dark:""}},[a("div",{staticClass:"title mb-4 text-center"},[e._v("Adicionar categoria")]),a("v-text-field",{staticClass:"mb-3",attrs:{label:"Título",outlined:"",dense:"","hide-details":""},model:{value:e.addCategoryTitle,callback:function(t){e.addCategoryTitle=t},expression:"addCategoryTitle"}}),a("v-btn",{staticClass:"text-none",attrs:{disabled:!e.addCategoryTitle,color:"secondary",block:"",depressed:""},on:{click:e.add}},[e._v("Adicionar")])],1),e.value?a("v-overlay",{model:{value:e.loading,callback:function(t){e.loading=t},expression:"loading"}},[a("v-progress-circular",{attrs:{size:50,color:"secondary",indeterminate:""}})],1):e._e()],1)},i=[],l={props:{value:Boolean,fieldId:{type:Number,required:!0}},data:()=>({loading:!1,addCategoryTitle:null}),computed:{moduleId(){return this.$rest("modules").item.id}},methods:{add(){this.loading=!0,this.$rest("modulesCategories").post({data:{title:this.addCategoryTitle},params:{moduleId:this.moduleId,fieldId:this.fieldId}}).then(e=>this.$emit("add",e)).finally(()=>{this.addCategoryTitle=null,this.addDialog=!1,this.loading=!1})}}},n=l,r=a("2877"),o=a("6544"),d=a.n(o),u=a("8336"),c=a("b0af"),m=a("169a"),p=a("a797"),f=a("490a"),v=a("8654"),h=Object(r["a"])(n,s,i,!1,null,null,null);t["default"]=h.exports;d()(h,{VBtn:u["a"],VCard:c["a"],VDialog:m["a"],VOverlay:p["a"],VProgressCircular:f["a"],VTextField:v["a"]})},"2dae":function(e,t,a){},"3a51":function(e,t,a){"use strict";a("73e2")},"41b2":function(e,t,a){},"49b6":function(e,t,a){"use strict";a("031b")},"4a9d":function(e,t,a){},"56be":function(e,t,a){"use strict";a("838b")},"56d7":function(e,t,a){"use strict";a.r(t);var s=a("2b0e"),i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app",[e.checking?a("v-sheet",{staticClass:"d-flex justify-center align-center",attrs:{color:"transparent",height:"100%",width:"100%"}},[a("v-progress-circular",{attrs:{size:50,color:"secondary",indeterminate:""}})],1):[["/admin/error404","/admin/entrar","/admin/setup"].includes(e.$route.path)?e._e():a("main-nav"),a("v-main",[a("router-view")],1)],a("float-alert",{attrs:{value:e.lastRequestError,color:"red"}},[a("span",[e._v(e._s(e.lastRequestError))])]),a("float-alert",{attrs:{value:e.lastRequestSuccess,color:"green"}},[a("span",[e._v(e._s(e.lastRequestSuccess))])])],2)},l=[],n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("app-bar",{on:{toggledrawer:function(t){e.drawer=!e.drawer}}}),a("navigation-drawer",{model:{value:e.drawer,callback:function(t){e.drawer=t},expression:"drawer"}})],1)},r=[],o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app-bar",{attrs:{color:"primary lighten-2",fixed:"",app:"",dense:""}},[e.sm?a("router-link",{staticClass:"h-100 white--text",attrs:{to:"/"}},[a("img",{staticClass:"py-1",attrs:{src:"/admin/img/logo.svg",height:"100%",contain:""}})]):e._e(),a("v-spacer"),a("v-menu",{attrs:{"close-on-content-click":!1,"min-width":"200px",rounded:"","offset-y":"",bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var s=t.on;return[a("v-btn",e._g({attrs:{icon:"","x-large":""}},s),[a("v-avatar",{attrs:{color:"accent",size:"42"}},[a("span",{staticClass:"white--text"},[e._v(e._s(e.userInitial))])])],1)]}}])},[a("v-card",[a("v-list-item-content",{staticClass:"justify-center pb-0 primary lighten-2 white--text"},[a("div",{staticClass:"mx-auto text-center"},[a("v-avatar",{staticClass:"mb-2",attrs:{color:"accent"}},[a("span",{staticClass:"white--text"},[e._v(e._s(e.userInitial))])]),a("h4",[e._v(e._s(e.user.name))]),a("p",{staticClass:"caption mt-1"},[e._v(e._s(e.user.email))]),a("v-divider"),a("v-btn",{staticClass:"text-none",attrs:{loading:e.loading,color:"white",depressed:"",text:"",block:"",tile:""},on:{click:e.logout}},[a("v-icon",{attrs:{left:""}},[e._v("fas fa-sign-out-alt")]),a("span",[e._v("Sair")])],1)],1)])],1)],1),e.sm?a("v-app-bar-nav-icon",{attrs:{color:"grey lighten-2"},on:{click:function(){return e.$emit("toggledrawer")}}}):e._e()],1)},d=[],u={data:()=>({loading:!1}),computed:{sm(){return this.$vuetify.breakpoint.smAndDown},user(){return this.$store.state.user},userInitial(){return this.user.name.slice(0,1)}},methods:{logout(){this.loading=!0,this.$auth.logout().then(()=>this.$router.push("/admin/entrar")).finally(()=>this.loading=!1)}}},c=u,m=a("2877"),p=a("6544"),f=a.n(p),v=a("40dc"),h=a("5bc1"),g=a("8212"),y=a("8336"),b=a("b0af"),x=a("ce7e"),k=a("132d"),_=a("5d23"),C=a("e449"),$=a("2fa4"),w=Object(m["a"])(c,o,d,!1,null,null,null),I=w.exports;f()(w,{VAppBar:v["a"],VAppBarNavIcon:h["a"],VAvatar:g["a"],VBtn:y["a"],VCard:b["a"],VDivider:x["a"],VIcon:k["a"],VListItemContent:_["a"],VMenu:C["a"],VSpacer:$["a"]});var V=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-navigation-drawer",{attrs:{value:e.value,temporary:e.sm,permanent:!e.sm,color:"primary lighten-2",width:"240px",fixed:"",app:"",dark:""},on:{input:function(){return e.$emit("input")}}},[a("div",{staticClass:"pa-4 align-content-center"},[a("router-link",{staticClass:"white--text h-100",attrs:{to:"/"}},[a("img",{staticClass:"logo",attrs:{src:"/admin/img/logo.svg",contain:""}})])],1),a("v-divider"),a("v-list-item-group",{staticClass:"mt-2",model:{value:e.current,callback:function(t){e.current=t},expression:"current"}},[a("v-list",{attrs:{dense:"",nav:""}},[e._l(e.nav,(function(t,s){var i=t.text,l=t.to,n=t.icon,r=t.items;return[r?a("v-list-group",{key:s,attrs:{"prepend-icon":n,"no-action":"",color:"black"},scopedSlots:e._u([{key:"activator",fn:function(){return[a("v-list-item",{staticClass:"pa-0"},[a("v-list-item-title",{staticClass:"body-2"},[e._v(e._s(i))])],1)]},proxy:!0}],null,!0)},e._l(r,(function(t,s){var i=t.to,l=t.text;return a("v-list-item",{key:s,attrs:{to:i,link:""}},[a("v-list-item-content",[a("v-list-item-title",{staticClass:"body-2"},[e._v(e._s(l))])],1)],1)})),1):a("v-list-item",{key:s,attrs:{to:l,link:""}},[a("v-list-item-icon",[a("v-icon",[e._v(e._s(n))])],1),a("v-list-item-content",[a("v-list-item-title",{staticClass:"body-2"},[e._v(e._s(i))])],1)],1)]}))],2)],1)],1)},O=[],T={props:{value:Boolean},data(){return{current:this.$route.path}},computed:{nav(){return[{text:"Início",to:"/",icon:"fas fa-home"},...this.modules.map(({name:e,key:t,icon:a})=>({text:e,to:"/admin/"+t,icon:a}))]},modules(){return this.$rest("modules").list},sm(){return this.$vuetify.breakpoint.smAndDown}}},j=T,q=(a("56f5"),a("8860")),E=a("56b0"),F=a("da13"),S=a("1baa"),L=a("34c3"),A=a("f774"),H=Object(m["a"])(j,V,O,!1,null,null,null),D=H.exports;f()(H,{VDivider:x["a"],VIcon:k["a"],VList:q["a"],VListGroup:E["a"],VListItem:F["a"],VListItemContent:_["a"],VListItemGroup:S["a"],VListItemIcon:L["a"],VListItemTitle:_["b"],VNavigationDrawer:A["a"]});var P={data:()=>({drawer:!1}),components:{AppBar:I,NavigationDrawer:D}},B=P,N=Object(m["a"])(B,n,r,!1,null,null,null),R=N.exports,M=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-snackbar",{attrs:{value:e.value&&e.visible,color:e.color,top:"",timeout:e.timeout}},[a("v-icon",{attrs:{color:"white",left:"",size:"16"}},[e._v("fas fa-info-circle")]),a("span",[e._t("default")],2),a("v-spacer")],1)},K=[],U={props:{timeout:{type:Number,default:4e3},value:{default:!1},color:{type:String,default:"red"}},data:()=>({visible:null}),watch:{value(e){e?(this.visible=!0,this.timetoutId=window.setTimeout(()=>this.visible=!1,this.timeout)):(window.clearInterval(this.timetoutId),this.visible=!1),this.$emit("input")}},mounted(){this.value?this.visible=!0:this.visible=!1}},z=U,G=a("2db4"),W=Object(m["a"])(z,M,K,!1,null,null,null),J=W.exports;f()(W,{VIcon:k["a"],VSnackbar:G["a"],VSpacer:$["a"]});var Z=a("bc3a"),Y=a.n(Z);const Q={getByProperty:e=>(t,a)=>e.list.find(e=>e[t]==a),getById:e=>t=>Q.getByProperty(e)("id",t),filterByProperty:e=>(t,a)=>e.list.filter(e=>e[t]==a)};var X=Q;const ee={updateList:(e,t)=>{Array.isArray(t)?e.list=t:window.console.warn("VuexRest: a mutação updateList deve ter um array como seu parâmetro de dados.")},refreshItem:(e,t)=>{const a=e.list.find(e=>e.id==t);a&&(e.item=a)},updateItem:(e,{id:t,data:a})=>{e.itemId=t,e.item=a;const s=e.list.find(e=>e.id==t);if(s)for(let i in a)s[i]=a[i];else e.list.push({...a,id:t})},setProperty:(e,{id:t,prop:a,data:s})=>{const i=e.list.find(e=>e.id==t);i&&(i[a]=s)},remove:(e,t)=>e.list.splice(e.list.findIndex(e=>e.id==t),1),function:(e,t)=>t(e)};var te=ee;const ae=e=>e.replace(/[A-Z]/g,e=>"-"+e.toLocaleLowerCase());var se=ae;const ie=(e,{id:t,prop:a,params:s})=>{let i="/"+e;return s=s&&new URLSearchParams(s).toString(),t&&(i+="/"+t),a&&(i+="/"+se(a)),s&&(i+="?"+s),i},le={get:async({state:e,commit:t},{id:a,params:s,save:i=!0})=>{a&&t("refreshItem",a);const l=ie(e.group,{id:a,params:s}),{data:n}=await me.get(l);return n&&(i&&"function"===typeof i?t("function",e=>i(e,n)):a?t("updateItem",{id:a,data:n}):t("updateList",n)),n},post:async({state:e,commit:t},{data:a,params:s,save:i=!0})=>{let l=ie(e.group,{data:a,params:s});a&&"object"!==typeof a&&(a={value:a});const n=await me.post(l,a);return i&&"function"===typeof i?t("function",e=>i(e)):n.data&&t("updateList",n.data),n.data},put:async({state:e,commit:t},{id:a,prop:s,data:i,params:l,save:n=!0})=>{if(a&&s){let t=e.list.find(e=>e.id==a);if(t&&(t=t[s]),i==t)return}else if(a){const t=e.list.find(e=>e.id==a);if(i==t)return}let r=ie(e.group,{id:a,prop:s,params:l});return i instanceof FormData?i=Object.fromEntries(i.entries()):"object"!==typeof i&&(i={value:i}),await me.put(r,i),n&&"function"===typeof n?t("function",e=>n(e)):a&&s?t("setProperty",{id:a,prop:s,data:"object"===typeof i?i.value:i}):a&&t("updateItem",{id:a,data:i}),!0},upload:async({state:e,commit:t},{id:a,prop:s,file:i,params:l,data:n,onUploadProgress:r,save:o=!0})=>{let d=ie(e.group,{id:a,prop:s,params:l});const u={onUploadProgress:r},c=new FormData;c.append(s,i);for(let p in n)c.append(p,n[p]);const m=await me.post(d,c,u);return m.data.file?o&&"function"===typeof o?t("function",e=>o(e,m.data)):a&&s?t("setProperty",{id:a,prop:s,data:m.data.file}):a&&t("updateItem",{id:a,data:m.data.file}):window.console.warn(`VuexRest: a requisição para a rota "${d}" não teve como resposta um\n        objeto json com a propiedade file especificando a url para o caminho\n        do arquivo que foi feito upload.`),m.data},delete:async({state:e,commit:t},{id:a,params:s,save:i=!0})=>{const l=ie(e.group,{id:a,params:s});return await me.delete(l),i&&"function"===typeof i?t("function",e=>i(e)):a&&t("remove",a),!0}};var ne=le;const re=e=>({namespaced:!0,state:{list:[],itemId:null,item:{},group:e||""},getters:X,mutations:te,actions:ne}),oe={id:"A propiedade options.id deve ser um número ou uma string.",prop:"A propiedade options.prop deve ser uma string.",data:"A propiedade options.data deve ser um objeto.",params:"A propiedade options.params deve ser um objeto.",file:"A propiedade options.params deve ser um objeto File.",onUploadProgress:"A propiedade options.onUploadProgress deve ser uma função.",save:"A propiedade options.save deve ser booleana ou uma função."},de={id:e=>"string"===typeof e||"number"===typeof e,prop:e=>"string"===typeof e,data:e=>"object"===typeof e,params:e=>"object"===typeof e,file:e=>e instanceof File,onUploadProgress:e=>"function"===typeof e,save:e=>"boolean"===typeof e||"function"===typeof e},ue=e=>{if("object"!==typeof e)throw new TypeError("O parâmetro <options> deve ser um objeto.");for(let t in e)if(!de[t](e[t]))throw new TypeError(oe[t])};var ce=ue;const me=Y.a.create(),pe=Object.keys(X),fe=Object.keys(ne),ve={install:(e,{base:t})=>{me.defaults.baseURL=t||"/",e.prototype.$rest=function(e){if("string"!==typeof e)throw new TypeError("O parâmetro <module> deve ser uma string.");const t=this.$store,a=(a,s)=>(ce(s||{}),t.dispatch(`${"_rest_"+e}/${a}`,s||{}));t.hasModule("_rest_"+e)||t.registerModule("_rest_"+e,re(se(e)));const{item:s,list:i}=t.state["_rest_"+e],l={item:s,list:i,getters:{}};for(let n of pe)l.getters[n]=t.getters[`${"_rest_"+e}/${n}`];for(let n of fe)l[n]=e=>a(n,e);return l}}};var he=ve,ge=a("2f62"),ye={data:()=>({checking:!0}),computed:{...Object(ge["b"])(["lastRequestError","lastRequestSuccess"])},beforeCreate(){me.interceptors.request.use(e=>(this.$store.dispatch("startRequest"),e.headers["Authorization"]=localStorage.getItem("token")||"",e),e=>this.$store.dispatch("connectionStatusChange",{ok:!1,error:e})&&Promise.reject(e)),me.interceptors.response.use(e=>this.$store.dispatch("endRequest",e.data)&&e,e=>303===e.response.status?(this.$router.push(new URL(e.response.data.redirect).pathname),this.$store.dispatch("endRequest",{})):this.$store.dispatch("endRequest",e.response.data)&&Promise.reject(e))},created(){if(this.installed){if(!this.$auth.on){this.checking=!0;const e=window.localStorage.getItem("token"),t=["/entrar"].includes(this.$route.path);e?this.$auth.checkIn().then(e=>{this.$store.dispatch("setInfoUser",e),t&&this.$router.replace("/admin")}).catch(()=>!t&&this.$router.replace("/admin/entrar")).finally(()=>this.checking=!1):t?this.checking=!1:(this.checking=!1,this.$router.replace("/admin/entrar"))}}else"/admin/setup"!==this.$route.path&&this.$router.replace("/admin/setup"),this.checking=!1},components:{MainNav:R,FloatAlert:J}},be=ye,xe=(a("034f"),a("7496")),ke=a("f6c4"),_e=a("490a"),Ce=a("8dd9"),$e=Object(m["a"])(be,i,l,!1,null,null,null),we=$e.exports;f()($e,{VApp:xe["a"],VMain:ke["a"],VProgressCircular:_e["a"],VSheet:Ce["a"]});var Ie=a("8c4f"),Ve=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-sheet",{staticClass:"d-flex justify-center align-center pa-3",attrs:{color:"transparent",height:"100%"}},[a("v-card",{staticClass:"pa-4",attrs:{height:"max-content",width:"320px",color:"primary lighten-2",outlined:""}},[a("img",{staticClass:"page-login-logo mb-3",attrs:{src:"/admin/img/logo.svg"}}),a("div",{staticClass:"title grey--text text--lighten-3 text-center mb-4"},[e._v("Painel de Administração")]),a("login-form",{attrs:{loading:e.loading},on:{send:e.send}})],1)],1)},Oe=[],Te=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-form",{ref:"form"},[a("v-text-field",{attrs:{rules:[e.rules.required,e.rules.email],loading:e.loading,type:"email",label:"E-mail",name:"email",dense:"",outlined:"",dark:""},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.send(t)}}}),a("v-text-field",{attrs:{rules:[e.rules.required],loading:e.loading,type:"password",label:"Senha",name:"password",dense:"",outlined:"",dark:""},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.send(t)}}}),a("v-btn",{staticClass:"text-none d-block ml-auto",attrs:{loading:e.loading,color:"secondary",depressed:"",block:""},on:{click:e.send}},[e._v("Entrar")])],1)},je=[],qe=a("5f42"),Ee={props:{loading:{type:Boolean,default:!1}},data:()=>({rules:{required:qe["c"],email:qe["a"]}}),methods:{send(){const e=this.$refs.form;if(e.validate()){const t=Object.fromEntries(new FormData(e.$el).entries());this.$emit("send",t)}}}},Fe=Ee,Se=a("4bd4"),Le=a("8654"),Ae=Object(m["a"])(Fe,Te,je,!1,null,null,null),He=Ae.exports;f()(Ae,{VBtn:y["a"],VForm:Se["a"],VTextField:Le["a"]});var De={data:()=>({loading:!1}),created(){this.$auth.on&&this.$router.replace("/admin")},methods:{send(e){this.loading=!0,this.$auth.login(e).then(e=>{this.$store.dispatch("setInfoUser",e),this.$router.push("/admin")}).finally(()=>this.loading=!1)}},components:{LoginForm:He}},Pe=De,Be=(a("094c"),Object(m["a"])(Pe,Ve,Oe,!1,null,null,null)),Ne=Be.exports;f()(Be,{VCard:b["a"],VSheet:Ce["a"]});var Re=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-sheet",{staticClass:"mx-auto pa-4 d-flex align-center",attrs:{color:"transparent","max-width":"480px",height:"100%"}},[a("grid-list",{attrs:{"col-width":"100px",gap:"16px"}},e._l(e.modules,(function(e,t){var s=e.name,i=e.icon,l=e.key;return a("v-responsive",{key:t,attrs:{"aspect-ratio":1,width:"100px"}},[a("module-card",{attrs:{to:"/admin/"+l,title:s,icon:i}})],1)})),1)],1)},Me=[],Ke=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-card",{staticClass:"d-flex align-center flex-column justify-center",attrs:{to:e.to,height:"100%",color:"primary lighten-1",outlined:""}},[a("v-icon",{attrs:{size:"52",color:"grey lighten-3"}},[e._v(e._s(e.icon))]),a("span",{staticClass:"font-weight-bold mt-2 grey--text text--lighten-5"},[e._v(e._s(e.title))])],1)},Ue=[],ze={props:{title:{type:String,required:!0},to:{type:String,required:!0},icon:{type:String,required:!0}}},Ge=ze,We=Object(m["a"])(Ge,Ke,Ue,!1,null,null,null),Je=We.exports;f()(We,{VCard:b["a"],VIcon:k["a"]});var Ze={computed:{modules(){return this.$rest("modules").list}},beforeCreate(){this.$rest("modules").get()},components:{ModuleCard:Je}},Ye=Ze,Qe=a("6b53"),Xe=Object(m["a"])(Ye,Re,Me,!1,null,null,null),et=Xe.exports;f()(Xe,{VResponsive:Qe["a"],VSheet:Ce["a"]});var tt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-sheet",{staticClass:"d-flex justify-center align-center pa-3",attrs:{color:"transparent",height:"100%"}},[a("v-card",{staticClass:"pa-4",attrs:{height:"max-content",width:"320px",color:"primary lighten-2",outlined:""}},[a("img",{staticClass:"page-login-logo mb-3",attrs:{src:"/admin/img/logo.svg"}}),a("div",{staticClass:"title grey--text text--lighten-3 text-center mb-4"},[e._v("Configurar Banco de Dados")]),a("setup-form",{attrs:{loading:e.loading},on:{send:e.send}})],1)],1)},at=[],st=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-form",{ref:"form"},[a("v-text-field",{attrs:{rules:[e.rules.required],loading:e.loading,value:"localhost",type:"text",label:"HOST",name:"host",dense:"",outlined:"",dark:""}}),a("v-text-field",{attrs:{rules:[e.rules.required],loading:e.loading,type:"text",label:"BANCO DE DADOS",name:"database",dense:"",outlined:"",dark:""}}),a("v-text-field",{attrs:{rules:[e.rules.required],loading:e.loading,type:"text",label:"USUÁRIO",name:"user",dense:"",outlined:"",dark:""}}),a("v-text-field",{attrs:{rules:[e.rules.required],loading:e.loading,type:"password",label:"SENHA",name:"password",dense:"",outlined:"",dark:""}}),a("v-btn",{staticClass:"text-none d-block ml-auto",attrs:{loading:e.loading,color:"secondary",depressed:"",block:""},on:{click:e.send}},[e._v("Confirmar")])],1)},it=[],lt={props:{loading:{type:Boolean,default:!1}},data:()=>({rules:{required:qe["c"]}}),methods:{send(){const e=this.$refs.form;if(e.validate()){const t=Object.fromEntries(new FormData(e.$el).entries());this.$emit("send",t)}}}},nt=lt,rt=Object(m["a"])(nt,st,it,!1,null,null,null),ot=rt.exports;f()(rt,{VBtn:y["a"],VForm:Se["a"],VTextField:Le["a"]});var dt={data:()=>({loading:!1}),created(){(this.$auth.on||this.installed)&&this.$router.replace("/admin")},methods:{send(e){this.loading=!0,this.$rest("setup").post({data:e}).then(()=>{this.installed=!0,this.$router.push("/admin/entrar")}).finally(()=>this.loading=!1)}},components:{SetupForm:ot}},ut=dt,ct=(a("e403"),Object(m["a"])(ut,tt,at,!1,null,null,null)),mt=ct.exports;f()(ct,{VCard:b["a"],VSheet:Ce["a"]});var pt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-sheet",{staticClass:"d-flex justify-center align-center",attrs:{color:"transparent",height:"600px"}},[a("h3",{staticClass:"white--text"},[e._v("Error 404")])])},ft=[],vt={},ht=Object(m["a"])(vt,pt,ft,!1,null,null,null),gt=ht.exports;f()(ht,{VSheet:Ce["a"]});var yt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e.loading?a("v-sheet",{staticClass:"d-flex justify-center align-center",attrs:{height:"calc(100vh - 48px)",width:"100%",color:"transparent"}},[a("v-progress-circular",{attrs:{size:50,color:"secondary",indeterminate:""}})],1):a(e.component,{tag:"component",attrs:{data:e.module}})],1)},bt=[],xt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("module-template",{attrs:{title:"Contas"},scopedSlots:e._u([{key:"toolbar",fn:function(){return[a("toolbar-button",{attrs:{to:e.$route.path+"/adicionar",title:"Adicionar",icon:"fas fa-plus",dark:""}})]},proxy:!0}])},[a("v-data-table",{attrs:{headers:e.headers,items:e.accounts,loading:e.loading,height:"calc(100vh - 114px)","sort-by":"id","loading-text":"Carregado dados.","no-data-text":"Não há registros.","no-results-text":"Não há registros.","sort-desc":"","fixed-header":"","disable-pagination":"","hide-default-footer":"",dark:""},on:{"click:row":function(t){return e.$router.push(e.$route.path+"/"+t.id)}},scopedSlots:e._u([{key:"item.action",fn:function(t){var s=t.item;return[a("v-btn",{attrs:{disabled:s.id==e.userId,color:"red",icon:"",small:""},on:{click:function(t){return t.stopPropagation(),e.remove(s.id)}}},[a("v-icon",{attrs:{small:""}},[e._v("fas fa-trash")])],1)]}}])})],1)},kt=[],_t=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e.sm?a("tooltip",{attrs:{tip:e.title,top:""}},[a("v-btn",e._g(e._b({attrs:{icon:"",exact:"",small:""}},"v-btn",e.$attrs,!1),e.$listeners),[a("v-icon",{attrs:{small:""}},[e._v(e._s(e.icon))])],1)],1):a("v-btn",e._g(e._b({attrs:{text:"",exact:"",small:""}},"v-btn",e.$attrs,!1),e.$listeners),[a("v-icon",{attrs:{small:"",left:""}},[e._v(e._s(e.icon))]),a("span",[e._v(e._s(e.title))])],1)],1)},Ct=[],$t=a("917e"),wt={props:{icon:{type:String,required:!0},title:{type:String,required:!0}},computed:{sm(){return this.$vuetify.breakpoint.smAndDown}},components:{Tooltip:$t["a"]}},It=wt,Vt=Object(m["a"])(It,_t,Ct,!1,null,null,null),Ot=Vt.exports;f()(Vt,{VBtn:y["a"],VIcon:k["a"]});var Tt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-sheet",{staticClass:"mx-auto module-page pa-2",attrs:{width:e.width,"max-width":e.maxWidth,color:"transparent"}},[a("v-toolbar",{staticClass:"elevation-0 rounded-t",attrs:{color:"accent darken-1",width:"100%",dark:"",dense:""}},[a("h4",[e._v(e._s(e.title))]),a("v-spacer"),a("div",{staticClass:"module-page-toolbar"},[e._t("toolbar"),e.prev&&!e.sm?a("toolbar-button",{attrs:{to:e.prev,title:"Voltar",icon:"fas fa-undo-alt",dark:""}}):e._e()],2)],1),e._t("default")],2)},jt=[],qt={props:{title:{type:String,required:!0},width:{type:String,default:"100%"},maxWidth:{type:String,default:"100%"}},computed:{sm(){return this.$vuetify.breakpoint.smAndDown},prev(){const e=this.$route.path;return/^\/admin\/[^/]+\/.+/.test(e)&&e.replace(/\/admin\/[^/]+$/,"")}},components:{ToolbarButton:Ot}},Et=qt,Ft=(a("6c6e"),a("71d9")),St=Object(m["a"])(Et,Tt,jt,!1,null,null,null),Lt=St.exports;f()(St,{VSheet:Ce["a"],VSpacer:$["a"],VToolbar:Ft["a"]});var At={name:"AccountList",data:()=>({loading:!1,headers:[{text:"Id",value:"id",align:"left"},{text:"Nome",value:"name"},{text:"E-mail",value:"email"},{text:"",value:"action",align:"right"}]}),computed:{accounts(){return this.$rest("accounts").list},userId(){return this.$store.state.user.id},sm(){return this.$vuetify.breakpoint.smAndDown}},methods:{remove(e){this.$rest("accounts").delete({id:e})}},created(){this.loading=!0,this.$rest("accounts").get().finally(()=>this.loading=!1)},components:{ToolbarButton:Ot,ModuleTemplate:Lt}},Ht=At,Dt=a("8fea"),Pt=Object(m["a"])(Ht,xt,kt,!1,null,null,null),Bt=Pt.exports;f()(Pt,{VBtn:y["a"],VDataTable:Dt["a"],VIcon:k["a"]});var Nt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("module-template",{attrs:{title:"Contas / Adicionar",width:"800px","max-width":"100%"}},[a("v-card",{staticClass:"pa-4 rounded-t-0",attrs:{outlined:"",dark:""}},[a("v-form",{ref:"form"},[a("v-row",[a("v-col",{staticClass:"py-0",attrs:{cols:"12",sm:"6"}},[a("v-text-field",{attrs:{label:"Nome",name:"name",rules:[e.rules.required],outlined:"",dense:""}})],1),a("v-col",{staticClass:"py-0",attrs:{cols:"12",sm:"6"}},[a("v-text-field",{attrs:{label:"E-mail",name:"email",rules:[e.rules.required,e.rules.email],outlined:"",dense:""}})],1)],1),a("v-text-field",{attrs:{label:"Senha",name:"password",rules:[e.rules.required],outlined:"",dense:""}}),a("div",{staticClass:"d-flex flex-wrap"},e._l(e.modules,(function(t,s){var i=t.id,l=t.name;return a("v-checkbox",{key:s,staticClass:"mx-2",attrs:{label:l,value:i},model:{value:e.permissions,callback:function(t){e.permissions=t},expression:"permissions"}})})),1),a("div",{staticClass:"d-flex justify-end"},[a("v-btn",{staticClass:"text-none",attrs:{color:"secondary",depressed:""},on:{click:e.send}},[e._v("Adicionar")])],1)],1)],1)],1)},Rt=[],Mt={name:"AccountAdd",data:()=>({rules:{required:qe["c"],email:qe["a"]},permissions:[]}),computed:{modules(){return this.$rest("modulesBasic").list}},methods:{send(){const e=this.$refs.form;if(e.validate()){const t=Object.fromEntries(new FormData(e.$el).entries());t.permissions=this.permissions,this.$rest("accounts").post({data:t}).then(()=>this.$router.push("/admin/accounts"))}}},beforeCreate(){this.$rest("modulesBasic").get()},components:{ModuleTemplate:Lt}},Kt=Mt,Ut=a("ac7c"),zt=a("62ad"),Gt=a("0fd9"),Wt=Object(m["a"])(Kt,Nt,Rt,!1,null,null,null),Jt=Wt.exports;f()(Wt,{VBtn:y["a"],VCard:b["a"],VCheckbox:Ut["a"],VCol:zt["a"],VForm:Se["a"],VRow:Gt["a"],VTextField:Le["a"]});var Zt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("module-template",{attrs:{title:"Contas / Alterar",width:"800px"}},[a("v-card",{staticClass:"pa-4 rounded-t-0",attrs:{outlined:"",dark:""}},[a("v-form",{ref:"form"},[a("v-row",[a("v-col",{staticClass:"py-0",attrs:{cols:"12",sm:"6"}},[a("v-text-field",{attrs:{value:e.account.name,rules:[e.rules.required],label:"Nome",name:"name",outlined:"",dense:""}})],1),a("v-col",{staticClass:"py-0",attrs:{cols:"12",sm:"6"}},[a("v-text-field",{attrs:{value:e.account.email,rules:[e.rules.required,e.rules.email],label:"E-mail",name:"email",outlined:"",dense:""}})],1)],1),a("v-text-field",{attrs:{label:"Senha",name:"password",outlined:"",dense:""}}),a("div",{staticClass:"d-flex flex-wrap"},e._l(e.modules,(function(t,s){var i=t.id,l=t.name;return a("v-checkbox",{key:s,staticClass:"mx-2",attrs:{label:l,value:i},model:{value:e.permissions,callback:function(t){e.permissions=t},expression:"permissions"}})})),1),a("div",{staticClass:"d-flex justify-end"},[a("v-btn",{staticClass:"text-none",attrs:{color:"secondary",depressed:""},on:{click:e.send}},[e._v("Salvar")])],1)],1)],1)],1)},Yt=[],Qt={name:"AccountItem",data:()=>({rules:{required:qe["c"],email:qe["a"]},permissions:[]}),computed:{accountId(){return parseInt(this.$route.params.sub)},account(){return this.$rest("accounts").item},modules(){return this.$rest("modulesBasic").list}},methods:{send(){const e=this.$refs.form;if(e.validate()){const t=Object.fromEntries(new FormData(e.$el).entries());t.permissions=this.permissions,this.$rest("accounts").put({id:this.accountId,data:t}).then(()=>{this.accountId==this.$store.state.user.id&&this.$store.dispatch("setInfoUser",this.$rest("accounts").item),this.$router.push("/admin/accounts")})}}},beforeCreate(){this.$rest("modulesBasic").get()},created(){this.$rest("accounts").get({id:this.accountId}).then(({permissions:e})=>{this.permissions=e}).catch(()=>this.$router.push("/admin/accounts"))},components:{ModuleTemplate:Lt}},Xt=Qt,ea=Object(m["a"])(Xt,Zt,Yt,!1,null,null,null),ta=ea.exports;f()(ea,{VBtn:y["a"],VCard:b["a"],VCheckbox:Ut["a"],VCol:zt["a"],VForm:Se["a"],VRow:Gt["a"],VTextField:Le["a"]});const aa="accounts";var sa={key:aa,routes:[{name:"Contas",path:"/admin/"+aa,component:Bt},{name:"Adicionar conta",path:`/admin/${aa}/adicionar`,component:Jt},{name:"Alterar conta",path:`/admin/${aa}/:account`,component:ta}]},ia=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("module-template",{attrs:{title:"Módulos"},scopedSlots:e._u([{key:"toolbar",fn:function(){return[a("toolbar-button",{attrs:{to:e.$route.path+"/adicionar",title:"Adicionar",icon:"fas fa-plus",dark:""}})]},proxy:!0}])},[a("v-data-table",{attrs:{headers:e.headers,items:e.items,loading:e.loading,height:"calc(100vh - 114px)","sort-by":"id","loading-text":"Carregado dados.","no-data-text":"Não há registros.","no-results-text":"Não há registros.","sort-desc":"","fixed-header":"","disable-pagination":"","hide-default-footer":"",dark:""},on:{"click:row":function(t){return e.$router.push(e.$route.path+"/"+t.id)}},scopedSlots:e._u([{key:"item.action",fn:function(t){var s=t.item;return[a("v-btn",{attrs:{disabled:0==s.removable,color:"red",icon:"",small:""},on:{click:function(t){return t.stopPropagation(),e.remove(s.id)}}},[a("v-icon",{attrs:{small:""}},[e._v("fas fa-trash")])],1)]}}])}),a("v-dialog",{attrs:{"max-width":"400",persistent:""},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-card",{attrs:{dark:""}},[a("v-card-title",{staticClass:"d-flex justify-center"},[e._v("Confirmar remoção")]),a("v-card-text",[a("p",[e._v("Ao excluir um módulo, será excluído todos os posts e outros e registros vinculados à ele.")]),a("p",{staticClass:"mb-0"},[e._v("Tem certeza que deseja continuar?")])]),a("v-card-actions",{staticClass:"d-flex justify-space-between"},[a("v-btn",{staticClass:"text-none",attrs:{color:"secondary",text:""},on:{click:function(t){return e.$emit("cancel")}}},[e._v("Cancelar")]),a("v-btn",{staticClass:"text-none",attrs:{color:"secondary",depressed:""},on:{click:function(t){return e.$emit("confirm")}}},[e._v("Confirmar")])],1)],1)],1)],1)},la=[],na={name:"ModuleList",data:()=>({loading:!1,headers:[{text:"Id",value:"id",align:"left"},{text:"Nome",value:"name"},{text:"View",value:"viewName"},{text:"",value:"action",align:"right"}],dialog:null}),computed:{items(){return this.$rest("modules").list},sm(){return this.$vuetify.breakpoint.smAndDown}},methods:{remove(e){this.confirmation().then(()=>this.$rest("modules").delete({id:e}))},confirmation(){return this.dialog=!0,new Promise((e,t)=>{this.$once("confirm",()=>{this.dialog=!1,e()}),this.$once("cancel",()=>{this.dialog=!1,t()})})}},created(){this.loading=!0,this.$rest("modules").get().finally(()=>this.loading=!1)},components:{ToolbarButton:Ot,ModuleTemplate:Lt}},ra=na,oa=a("99d9"),da=a("169a"),ua=Object(m["a"])(ra,ia,la,!1,null,null,null),ca=ua.exports;f()(ua,{VBtn:y["a"],VCard:b["a"],VCardActions:oa["a"],VCardText:oa["b"],VCardTitle:oa["c"],VDataTable:Dt["a"],VDialog:da["a"],VIcon:k["a"]});var ma=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("module-template",{attrs:{title:"Adicionar módulo"}},[a("v-card",{staticClass:"pa-4 pb-0 rounded-t-0",attrs:{outlined:"",dark:""}},[a("v-form",{ref:"form"},[a("v-row",[a("v-col",{staticClass:"py-0",attrs:{cols:"12",sm:"6",md:"12",lg:"3"}},[a("v-text-field",{attrs:{rules:[e.rules.required],label:"Nome",outlined:"",dense:""},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}})],1),a("v-col",{staticClass:"py-0",attrs:{cols:"12",sm:"6",md:"4",lg:"3"}},[a("v-select",{attrs:{items:e.views,rules:[e.rules.required],label:"Tipo",outlined:"",dense:""},model:{value:e.viewSelected,callback:function(t){e.viewSelected=t},expression:"viewSelected"}})],1),a("v-col",{staticClass:"py-0",attrs:{cols:"12",sm:"6",md:"4",lg:"3"}},[a("v-text-field",{attrs:{rules:[e.rules.required],label:"Ícone",outlined:"",dense:""},model:{value:e.icon,callback:function(t){e.icon=t},expression:"icon"}})],1),a("v-col",{staticClass:"py-0",attrs:{cols:"12",sm:"6",md:"4",lg:"3"}},[a("v-text-field",{attrs:{rules:[e.rules.required],label:"Chave",outlined:"",dense:""},model:{value:e.key,callback:function(t){e.key=t},expression:"key"}})],1)],1),e.viewSelected?a(e.viewSelected+"-add",{ref:"view",tag:"component"}):e._e(),e.viewSelected&&"custom"!==e.viewSelected?a("div",{staticClass:"d-flex justify-end py-4"},[a("v-btn",{staticClass:"text-none",attrs:{color:"secondary",depressed:""},on:{click:e.add}},[e._v("Adicionar")])],1):e._e()],1)],1)],1)},pa=[],fa=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pa-4 text-body-2 text-center font-weight-bold"},[e._v('Módulos do tipo "Customizado" apenas podem ser adicionados no código fonte.')])},va=[],ha={},ga=Object(m["a"])(ha,fa,va,!1,null,null,null),ya=ga.exports,ba=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-card",{attrs:{outlined:"",dark:""}},[a("div",{staticClass:"pa-4 text-body-2 text-center font-weight-bold"},[e._v('O módulo "'+e._s(e.data.name)+'" apenas pode ser alterado no código fonte.')])])},xa=[],ka={props:{data:{type:Object,required:!0}}},_a=ka,Ca=Object(m["a"])(_a,ba,xa,!1,null,null,null),$a=Ca.exports;f()(Ca,{VCard:b["a"]});var wa=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",[a("div",{staticClass:"d-flex align-center mb-2"},[a("div",{staticClass:"white--text font-weight-bold text-body-1"},[e._v("Campos")]),a("tooltip",{attrs:{tip:"Adicionar",top:""}},[a("v-btn",{staticClass:"ml-2",attrs:{color:"secondary",fab:"",depressed:"","x-small":""},on:{click:e.addField}},[a("v-icon",[e._v("fas fa-plus")])],1)],1)],1),e.fields.length?a("field-list",{ref:"fieldList",attrs:{items:e.fields},on:{changefieldkey:e.updateListHeaders}}):a("div",{staticClass:"pa-4 text-body-2 text-center font-weight-bold"},[e._v("Nenhum campo foi adicionado!")])],1),a("div",{staticClass:"mt-6"},[e._m(0),a("v-chip-group",{attrs:{column:"",multiple:""},model:{value:e.listHeaders,callback:function(t){e.listHeaders=t},expression:"listHeaders"}},e._l(e.fields,(function(t,s){var i=t.name,l=t.key;return a("v-chip",{key:s,attrs:{value:l,filter:"",outlined:""}},[e._v(e._s(i))])})),1),e.noListHeaders?a("div",{staticClass:"pt-8 text-body-2 text-center font-weight-bold red--text"},[e._v("Deve haver no mínimo um cabeçalho.")]):e._e()],1)])},Ia=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"d-flex align-center mb-2"},[a("div",{staticClass:"white--text font-weight-bold text-body-1"},[e._v("Cabeçalhos da lista")])])}],Va=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-card",{staticClass:"pa-3",attrs:{color:"primary","max-width":"400"}},[a("v-form",{ref:"form",staticClass:"field-item"},[a("div",{staticClass:"field-item-inputs d-flex"},[a("v-text-field",{attrs:{rules:[e.rules.required],label:"Nome",dense:"",solo:""},model:{value:e.data.name,callback:function(t){e.$set(e.data,"name",t)},expression:"data.name"}}),a("v-text-field",{attrs:{rules:[e.rules.required,e.rules.lowerCase],label:"Chave",dense:"",solo:""},on:{input:function(t){return e.$emit("changekey")}},model:{value:e.data.key,callback:function(t){e.$set(e.data,"key",t)},expression:"data.key"}}),a("v-select",{attrs:{items:e.types,rules:[e.rules.required],label:"Tipo",dense:"",solo:""},model:{value:e.data.type,callback:function(t){e.$set(e.data,"type",t)},expression:"data.type"}})],1),a("div",{staticClass:"field-item-switches d-flex"},[a("tooltip",{attrs:{tip:"Único",top:""}},[a("v-btn",{attrs:{icon:""},on:{click:function(t){e.data.unique=!e.data.unique}}},[a("v-icon",{attrs:{color:"cyan",disabled:!e.data.unique}},[e._v("fas fa-fingerprint")])],1)],1),a("tooltip",{attrs:{tip:"Privado",top:""}},[a("v-btn",{attrs:{icon:""},on:{click:function(t){e.data.private=!e.data.private}}},[a("v-icon",{attrs:{color:"green",disabled:!e.data.private}},[e._v("fas fa-shield-alt")])],1)],1)],1),a("div",{staticClass:"field-item-btns d-flex align-center justify-end"},[a("v-btn",{attrs:{color:"secondary darken-2",small:""},on:{click:function(t){return e.$emit("remove")}}},[a("v-icon",{attrs:{left:""}},[e._v("fas fa-trash")]),a("span",{staticClass:"text-none"},[e._v("Remover")])],1)],1)])],1)},Oa=[],Ta={props:{data:{type:Object,default:()=>({name:null,key:null,type:null,unique:!1,private:!1})},types:{type:Array,required:!0}},data:()=>({rules:{required:qe["c"],lowerCase:qe["b"]}}),computed:{},methods:{validate(){return this.$refs.form.validate()}},components:{Tooltip:$t["a"]}},ja=Ta,qa=(a("ea12"),a("b974")),Ea=Object(m["a"])(ja,Va,Oa,!1,null,null,null),Fa=Ea.exports;f()(Ea,{VBtn:y["a"],VCard:b["a"],VForm:Se["a"],VIcon:k["a"],VSelect:qa["a"],VTextField:Le["a"]});var Sa=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{ref:"fieldList",staticClass:"field-list d-flex flex-wrap"},e._l(e.items,(function(t,s){return a("field-item",{key:s,attrs:{types:e.fieldsTypes,data:t},on:{remove:function(t){return e.removeField(s)},changekey:function(t){return e.$emit("changefieldkey")}}})})),1),e.repeteadKey?a("div",{staticClass:"pt-8 text-body-2 text-center font-weight-bold red--text"},[e._v("Não pode existir alguma chave de campo repetida.")]):e._e()])},La=[],Aa={props:{items:{type:Array,default:()=>[]}},data:()=>({selected:null,repeteadKey:!1}),computed:{fieldsTypes(){return this.$rest("modulesFieldsTypes").list.map(({id:e,name:t})=>({text:t,value:e}))}},methods:{removeField(e){this.items.splice(e,1)},validate(){const e=[];if(this.$children.forEach(t=>e.push(t.validate())),e.includes(!1))return!1;const t=[];this.repeteadKey=!1;for(const{key:a}of this.items){if(t.includes(a))return this.repeteadKey=!0,!1;t.push(a)}return!0}},beforeCreate(){this.$rest("modulesFieldsTypes").get()},components:{FieldItem:Fa}},Ha=Aa,Da=(a("e028"),Object(m["a"])(Ha,Sa,La,!1,null,null,null)),Pa=Da.exports,Ba={data:()=>({fields:[],listHeaders:[],noListHeaders:null}),computed:{data(){return{fields:this.fields,viewOptions:{listHeaders:this.listHeaders}}},fieldsTypes(){return this.$rest("modulesFieldsTypes").list.map(({id:e,name:t})=>({text:t,value:e}))}},methods:{addField(){this.fields.push({name:null,key:null,type:null,unique:!1,private:!1})},validate(){const e=this.$refs.fieldList;return!!e&&(this.listHeaders.length?(this.noListHeaders=!1,e.validate()):(this.noListHeaders=!0,!1))},updateListHeaders(){for(let e of this.listHeaders)this.fields.find(({key:t})=>t===e)||this.listHeaders.splice(this.listHeaders.indexOf(e),1)}},watch:{listHeaders(e){e.length&&(this.noListHeaders=!1)}},beforeCreate(){this.$rest("modulesFieldsTypes").get()},components:{FieldItem:Fa,FieldList:Pa,Tooltip:$t["a"]}},Na=Ba,Ra=(a("6bdf"),a("cc20")),Ma=a("ef9a"),Ka=Object(m["a"])(Na,wa,Ia,!1,null,null,null),Ua=Ka.exports;f()(Ka,{VBtn:y["a"],VChip:Ra["a"],VChipGroup:Ma["a"],VIcon:k["a"]});var za=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",[a("div",{staticClass:"d-flex align-center mb-2"},[a("div",{staticClass:"white--text font-weight-bold text-body-1"},[e._v("Campos")]),a("tooltip",{attrs:{tip:"Adicionar",top:""}},[a("v-btn",{staticClass:"ml-2",attrs:{color:"secondary",fab:"",depressed:"","x-small":""},on:{click:function(t){e.addDialog=!0}}},[a("v-icon",[e._v("fas fa-plus")])],1)],1)],1),e.data.fields&&e.data.fields.length?a("field-list",{ref:"fieldList",attrs:{items:e.data.fields},on:{changefieldkey:e.updateListHeaders}}):a("div",{staticClass:"pa-4 text-body-2 text-center font-weight-bold"},[e._v("Nenhum campo foi adicionado!")])],1),a("div",{staticClass:"mt-6 mb-4"},[e._m(0),a("v-chip-group",{attrs:{column:"",multiple:""},model:{value:e.listHeaders,callback:function(t){e.listHeaders=t},expression:"listHeaders"}},[e._l(e.data.fields,(function(t,s){var i=t.name,l=t.key;return a("v-chip",{key:s,attrs:{value:l,filter:"",outlined:""}},[e._v(e._s(i))])})),a("v-btn",{attrs:{loading:e.sendingListHeaders,color:"secondary darken-1",fab:"",small:"",depressed:""},on:{click:e.sendListHeaders}},[a("v-icon",[e._v("fas fa-save")])],1)],2),e.noListHeaders?a("div",{staticClass:"pt-8 text-body-2 text-center font-weight-bold red--text"},[e._v("Deve haver no mínimo um cabeçalho.")]):e._e(),a("add-field",{attrs:{types:e.fieldsTypes},model:{value:e.addDialog,callback:function(t){e.addDialog=t},expression:"addDialog"}})],1)])},Ga=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"d-flex align-center mb-2"},[a("div",{staticClass:"white--text font-weight-bold text-body-1"},[e._v("Cabeçalhos da lista")])])}],Wa=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-card",{staticClass:"pa-3",attrs:{color:"primary","max-width":"400"}},[a("v-form",{ref:"form",staticClass:"field-item"},[a("div",{staticClass:"field-item-inputs d-flex align-center"},[a("v-text-field",{attrs:{value:e.data.name,loading:e.updating.name,disabled:e.updating.name||e.updating.typeId||e.removing,label:"Nome",dense:"",solo:"","hide-details":""},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.updateProperty(t.target.value,"name")},blur:function(t){return e.updateProperty(t.target.value,"name")}}}),a("v-select",{attrs:{value:e.data.typeId,items:e.types,loading:e.updating.typeId,disabled:e.updating.name||e.updating.typeId||e.removing,label:"Tipo",dense:"",solo:"","hide-details":""},on:{input:function(t){return e.updateProperty(t,"typeId")}}}),a("v-btn",{attrs:{loading:e.removing,color:"secondary darken-2",small:"",icon:""},on:{click:e.remove}},[a("v-icon",{attrs:{small:""}},[e._v("fas fa-trash")])],1)],1)])],1)},Ja=[],Za={props:{data:{type:Object,default:()=>({id:null,name:null,key:null,type:null,required:!1,unique:!1,private:!1})},types:{type:Array,required:!0}},data:()=>({rules:{required:qe["c"],lowerCase:qe["b"]},removing:!1,updating:{name:!1,typeId:!1}}),computed:{moduleId(){return this.$route.params.sub}},methods:{validate(){return this.$refs.form.validate()},remove(){this.removing=!0,this.$rest("modulesFields").delete({id:this.data.id,params:{moduleId:this.moduleId}}).then(()=>this.$emit("remove")).finally(()=>this.removing=!1)},updateProperty(e,t){if(this.data[t]===e)return!1;this.updating[t]=!0,this.$rest("modulesFields").put({id:this.data.id,data:{value:e},prop:t,params:{moduleId:this.moduleId}}).then(()=>this.data[t]=e).finally(()=>this.updating[t]=!1)}},components:{Tooltip:$t["a"]}},Ya=Za,Qa=(a("608b"),Object(m["a"])(Ya,Wa,Ja,!1,null,null,null)),Xa=Qa.exports;f()(Qa,{VBtn:y["a"],VCard:b["a"],VForm:Se["a"],VIcon:k["a"],VSelect:qa["a"],VTextField:Le["a"]});var es=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{ref:"fieldList",staticClass:"field-list d-flex flex-wrap"},e._l(e.items,(function(t,s){return a("field-item",{key:s,attrs:{types:e.fieldsTypes,data:t},on:{remove:function(t){return e.removeField(s)},changekey:function(t){return e.$emit("changefieldkey")}}})})),1),e.repeteadKey?a("div",{staticClass:"pt-8 text-body-2 text-center font-weight-bold red--text"},[e._v("Não pode existir alguma chave de campo repetida.")]):e._e()])},ts=[],as={props:{items:{type:Array,default:()=>[]}},data:()=>({selected:null,repeteadKey:!1}),computed:{fieldsTypes(){return this.$rest("modulesFieldsTypes").list.map(({id:e,name:t})=>({text:t,value:e}))}},methods:{removeField(e){this.items.splice(e,1)},validate(){const e=[];if(this.$children.forEach(t=>e.push(t.validate())),e.includes(!1))return!1;const t=[];this.repeteadKey=!1;for(const{key:a}of this.items){if(t.includes(a))return this.repeteadKey=!0,!1;t.push(a)}return!0}},beforeCreate(){this.$rest("modulesFieldsTypes").get()},components:{FieldItem:Xa}},ss=as,is=(a("1a44"),Object(m["a"])(ss,es,ts,!1,null,null,null)),ls=is.exports,ns=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-dialog",{attrs:{value:e.value,"max-width":"340px"},on:{input:function(t){return e.$emit("input",t)}}},[a("v-card",{staticClass:"pa-4",attrs:{dark:""}},[a("div",{staticClass:"title text-center mb-4"},[e._v("Adicionar campo")]),a("v-form",{ref:"form"},[a("v-row",[a("v-col",{staticClass:"py-0",attrs:{cols:"12",sm:"6"}},[a("v-text-field",{attrs:{rules:[e.rules.required],label:"Nome",dense:"",outlined:""},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}})],1),a("v-col",{staticClass:"py-0",attrs:{cols:"12",sm:"6"}},[a("v-text-field",{attrs:{rules:[e.rules.required,e.rules.lowerCase],label:"Chave",dense:"",outlined:""},on:{input:function(t){return e.$emit("changekey")}},model:{value:e.key,callback:function(t){e.key=t},expression:"key"}})],1),a("v-col",{staticClass:"py-0",attrs:{cols:"12",sm:"6"}},[a("v-select",{attrs:{items:e.types,rules:[e.rules.required],label:"Tipo",dense:"",outlined:""},model:{value:e.type,callback:function(t){e.type=t},expression:"type"}})],1),a("v-col",{staticClass:"py-0",attrs:{cols:"12",sm:"6"}},[a("div",{staticClass:"field-item-switches d-flex"},[a("tooltip",{attrs:{tip:"Único",top:""}},[a("v-btn",{attrs:{icon:""},on:{click:function(t){e.unique=!e.unique}}},[a("v-icon",{attrs:{color:"cyan",disabled:!e.unique}},[e._v("fas fa-fingerprint")])],1)],1),a("tooltip",{attrs:{tip:"Privado",top:""}},[a("v-btn",{attrs:{icon:""},on:{click:function(t){e.private=!e.private}}},[a("v-icon",{attrs:{color:"green",disabled:!e.private}},[e._v("fas fa-shield-alt")])],1)],1)],1)]),a("v-col",{staticClass:"py-0 mt-2 mt-sm-0",attrs:{cols:"12"}},[a("v-btn",{attrs:{loading:e.sending,color:"secondary darken-2",depressed:"",block:""},on:{click:e.send}},[a("span",{staticClass:"text-none"},[e._v("Adicionar")])])],1)],1)],1)],1)],1)},rs=[],os={props:{value:{type:Boolean,default:!1},types:{type:Array,required:!0}},data:()=>({rules:{required:qe["c"],lowerCase:qe["b"]},name:null,key:null,type:null,unique:!1,private:!1,sending:!1}),computed:{moduleId(){return this.$route.params.sub}},methods:{send(){const e=this.$refs.form;e.validate()&&(this.sending=!0,this.$rest("modulesFields").post({data:{name:this.name,key:this.key,type:this.type,unique:this.unique,private:this.private},params:{moduleId:this.moduleId}}).then(()=>this.$rest("modules").get({id:this.moduleId}).then(()=>{this.$emit("input",!1),this.sending=!1})).catch(()=>this.sending=!1))}},components:{Tooltip:$t["a"]}},ds=os,us=(a("3a51"),Object(m["a"])(ds,ns,rs,!1,null,null,null)),cs=us.exports;f()(us,{VBtn:y["a"],VCard:b["a"],VCol:zt["a"],VDialog:da["a"],VForm:Se["a"],VIcon:k["a"],VRow:Gt["a"],VSelect:qa["a"],VTextField:Le["a"]});var ms={props:{data:{type:Object,required:!0}},data:()=>({noListHeaders:null,sendingListHeaders:!1,addDialog:!1}),computed:{moduleId(){return this.$route.params.sub},fieldsTypes(){return this.$rest("modulesFieldsTypes").list.map(({id:e,name:t})=>({text:t,value:e}))},listHeaders:{get(){return this.data.viewOptions.listHeaders},set(e){this.data.viewOptions.listHeaders=e}}},methods:{validate(){const e=this.$refs.fieldList;return!!e&&(this.listHeaders.length?this.noListHeaders=!1:this.noListHeaders=!0,e.validate())},updateListHeaders(){for(let e of this.listHeaders)this.fields.find(({key:t})=>t===e)||this.listHeaders.splice(this.listHeaders.indexOf(e),1)},sendListHeaders(){this.sendingListHeaders=!0,this.$rest("modules").put({id:this.moduleId,data:{value:{listHeaders:this.data.viewOptions.listHeaders}},prop:"viewOptions"}).finally(()=>{this.sendingListHeaders=!1})}},watch:{listHeaders(e){e.length&&(this.noListHeaders=!1)}},components:{FieldItem:Xa,FieldList:ls,AddField:cs,Tooltip:$t["a"]}},ps=ms,fs=(a("0da2"),Object(m["a"])(ps,za,Ga,!1,null,null,null)),vs=fs.exports;f()(fs,{VBtn:y["a"],VChip:Ra["a"],VChipGroup:Ma["a"],VIcon:k["a"]});var hs=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",[a("div",{staticClass:"d-flex align-center mb-2"},[a("div",{staticClass:"white--text font-weight-bold text-body-1"},[e._v("Campos")]),a("tooltip",{attrs:{tip:"Adicionar",top:""}},[a("v-btn",{staticClass:"ml-2",attrs:{color:"secondary",fab:"",depressed:"","x-small":""},on:{click:e.addField}},[a("v-icon",[e._v("fas fa-plus")])],1)],1)],1),e.fields.length?a("field-list",{ref:"fieldList",attrs:{items:e.fields},on:{changefieldkey:e.updateListHeaders}}):a("div",{staticClass:"pa-4 text-body-2 text-center font-weight-bold"},[e._v("Nenhum campo foi adicionado!")])],1),a("div",{staticClass:"mt-6"},[e._m(0),a("v-chip-group",{attrs:{column:"",multiple:""},model:{value:e.listHeaders,callback:function(t){e.listHeaders=t},expression:"listHeaders"}},e._l(e.fields,(function(t,s){var i=t.name,l=t.key;return a("v-chip",{key:s,attrs:{value:l,filter:"",outlined:""}},[e._v(e._s(i))])})),1),e.noListHeaders?a("div",{staticClass:"pt-8 text-body-2 text-center font-weight-bold red--text"},[e._v("Deve haver no mínimo um cabeçalho.")]):e._e()],1)])},gs=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"d-flex align-center mb-2"},[a("div",{staticClass:"white--text font-weight-bold text-body-1"},[e._v("Cabeçalhos da lista")])])}],ys=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-card",{staticClass:"pa-3",attrs:{color:"primary","max-width":"400"}},[a("v-form",{ref:"form",staticClass:"field-item"},[a("div",{staticClass:"field-item-inputs d-flex"},[a("v-text-field",{attrs:{rules:[e.rules.required],label:"Nome",dense:"",solo:""},model:{value:e.data.name,callback:function(t){e.$set(e.data,"name",t)},expression:"data.name"}}),a("v-text-field",{attrs:{rules:[e.rules.required,e.rules.lowerCase],label:"Chave",dense:"",solo:""},on:{input:function(t){return e.$emit("changekey")}},model:{value:e.data.key,callback:function(t){e.$set(e.data,"key",t)},expression:"data.key"}}),a("v-select",{attrs:{items:e.types,rules:[e.rules.required],label:"Tipo",dense:"",solo:""},model:{value:e.data.type,callback:function(t){e.$set(e.data,"type",t)},expression:"data.type"}})],1),a("div",{staticClass:"field-item-switches d-flex"},[a("tooltip",{attrs:{tip:"Único",top:""}},[a("v-btn",{attrs:{icon:""},on:{click:function(t){e.data.unique=!e.data.unique}}},[a("v-icon",{attrs:{color:"cyan",disabled:!e.data.unique}},[e._v("fas fa-fingerprint")])],1)],1),a("tooltip",{attrs:{tip:"Privado",top:""}},[a("v-btn",{attrs:{icon:""},on:{click:function(t){e.data.private=!e.data.private}}},[a("v-icon",{attrs:{color:"green",disabled:!e.data.private}},[e._v("fas fa-shield-alt")])],1)],1)],1),a("div",{staticClass:"field-item-btns d-flex align-center justify-end"},[a("v-btn",{attrs:{color:"secondary darken-2",small:""},on:{click:function(t){return e.$emit("remove")}}},[a("v-icon",{attrs:{left:""}},[e._v("fas fa-trash")]),a("span",{staticClass:"text-none"},[e._v("Remover")])],1)],1)])],1)},bs=[],xs={props:{data:{type:Object,default:()=>({name:null,key:null,type:null,unique:!1,private:!1})},types:{type:Array,required:!0}},data:()=>({rules:{required:qe["c"],lowerCase:qe["b"]}}),computed:{},methods:{validate(){return this.$refs.form.validate()}},components:{Tooltip:$t["a"]}},ks=xs,_s=(a("9262"),Object(m["a"])(ks,ys,bs,!1,null,null,null)),Cs=_s.exports;f()(_s,{VBtn:y["a"],VCard:b["a"],VForm:Se["a"],VIcon:k["a"],VSelect:qa["a"],VTextField:Le["a"]});var $s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{ref:"fieldList",staticClass:"field-list d-flex flex-wrap"},e._l(e.items,(function(t,s){return a("field-item",{key:s,attrs:{types:e.fieldsTypes,data:t},on:{remove:function(t){return e.removeField(s)},changekey:function(t){return e.$emit("changefieldkey")}}})})),1),e.repeteadKey?a("div",{staticClass:"pt-8 text-body-2 text-center font-weight-bold red--text"},[e._v("Não pode existir alguma chave de campo repetida.")]):e._e()])},ws=[],Is={props:{items:{type:Array,default:()=>[]}},data:()=>({selected:null,repeteadKey:!1}),computed:{fieldsTypes(){return this.$rest("modulesFieldsTypes").list.map(({id:e,name:t})=>({text:t,value:e}))}},methods:{removeField(e){this.items.splice(e,1)},validate(){const e=[];if(this.$children.forEach(t=>e.push(t.validate())),e.includes(!1))return!1;const t=[];this.repeteadKey=!1;for(const{key:a}of this.items){if(t.includes(a))return this.repeteadKey=!0,!1;t.push(a)}return!0}},beforeCreate(){this.$rest("modulesFieldsTypes").get()},components:{FieldItem:Cs}},Vs=Is,Os=(a("bcd4"),Object(m["a"])(Vs,$s,ws,!1,null,null,null)),Ts=Os.exports,js={data:()=>({fields:[],listHeaders:[],noListHeaders:null}),computed:{data(){return{fields:this.fields,viewOptions:{listHeaders:this.listHeaders}}},fieldsTypes(){return this.$rest("modulesFieldsTypes").list.map(({id:e,name:t})=>({text:t,value:e}))}},methods:{addField(){this.fields.push({name:null,key:null,type:null,unique:!1,private:!1})},validate(){const e=this.$refs.fieldList;return!!e&&(this.listHeaders.length?(this.noListHeaders=!1,e.validate()):(this.noListHeaders=!0,!1))},updateListHeaders(){for(let e of this.listHeaders)this.fields.find(({key:t})=>t===e)||this.listHeaders.splice(this.listHeaders.indexOf(e),1)}},watch:{listHeaders(e){e.length&&(this.noListHeaders=!1)}},beforeCreate(){this.$rest("modulesFieldsTypes").get()},components:{FieldItem:Cs,FieldList:Ts,Tooltip:$t["a"]}},qs=js,Es=(a("af65"),Object(m["a"])(qs,hs,gs,!1,null,null,null)),Fs=Es.exports;f()(Es,{VBtn:y["a"],VChip:Ra["a"],VChipGroup:Ma["a"],VIcon:k["a"]});var Ss=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",[a("div",{staticClass:"d-flex align-center mb-2"},[a("div",{staticClass:"white--text font-weight-bold text-body-1"},[e._v("Campos")]),a("tooltip",{attrs:{tip:"Adicionar",top:""}},[a("v-btn",{staticClass:"ml-2",attrs:{color:"secondary",fab:"",depressed:"","x-small":""},on:{click:function(t){e.addDialog=!0}}},[a("v-icon",[e._v("fas fa-plus")])],1)],1)],1),e.data.fields&&e.data.fields.length?a("field-list",{ref:"fieldList",attrs:{items:e.data.fields},on:{changefieldkey:e.updateListHeaders}}):a("div",{staticClass:"pa-4 text-body-2 text-center font-weight-bold"},[e._v("Nenhum campo foi adicionado!")])],1),a("div",{staticClass:"mt-6 mb-4"},[e._m(0),a("v-chip-group",{attrs:{column:"",multiple:""},model:{value:e.listHeaders,callback:function(t){e.listHeaders=t},expression:"listHeaders"}},[e._l(e.data.fields,(function(t,s){var i=t.name,l=t.key;return a("v-chip",{key:s,attrs:{value:l,filter:"",outlined:""}},[e._v(e._s(i))])})),a("v-btn",{attrs:{loading:e.sendingListHeaders,color:"secondary darken-1",fab:"",small:"",depressed:""},on:{click:e.sendListHeaders}},[a("v-icon",[e._v("fas fa-save")])],1)],2),e.noListHeaders?a("div",{staticClass:"pt-8 text-body-2 text-center font-weight-bold red--text"},[e._v("Deve haver no mínimo um cabeçalho.")]):e._e(),a("add-field",{attrs:{types:e.fieldsTypes},model:{value:e.addDialog,callback:function(t){e.addDialog=t},expression:"addDialog"}})],1)])},Ls=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"d-flex align-center mb-2"},[a("div",{staticClass:"white--text font-weight-bold text-body-1"},[e._v("Cabeçalhos da lista")])])}],As=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-card",{staticClass:"pa-3",attrs:{color:"primary","max-width":"400"}},[a("v-form",{ref:"form",staticClass:"field-item"},[a("div",{staticClass:"field-item-inputs d-flex align-center"},[a("v-text-field",{attrs:{value:e.data.name,loading:e.updating.name,disabled:e.updating.name||e.updating.typeId||e.removing,label:"Nome",dense:"",solo:"","hide-details":""},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.updateProperty(t.target.value,"name")},blur:function(t){return e.updateProperty(t.target.value,"name")}}}),a("v-select",{attrs:{value:e.data.typeId,items:e.types,loading:e.updating.typeId,disabled:e.updating.name||e.updating.typeId||e.removing,label:"Tipo",dense:"",solo:"","hide-details":""},on:{input:function(t){return e.updateProperty(t,"typeId")}}}),a("v-btn",{attrs:{loading:e.removing,color:"secondary darken-2",small:"",icon:""},on:{click:e.remove}},[a("v-icon",{attrs:{small:""}},[e._v("fas fa-trash")])],1)],1)])],1)},Hs=[],Ds={props:{data:{type:Object,default:()=>({id:null,name:null,key:null,type:null,required:!1,unique:!1,private:!1})},types:{type:Array,required:!0}},data:()=>({rules:{required:qe["c"],lowerCase:qe["b"]},removing:!1,updating:{name:!1,typeId:!1}}),computed:{moduleId(){return this.$route.params.sub}},methods:{validate(){return this.$refs.form.validate()},remove(){this.removing=!0,this.$rest("modulesFields").delete({id:this.data.id,params:{moduleId:this.moduleId}}).then(()=>this.$emit("remove")).finally(()=>this.removing=!1)},updateProperty(e,t){if(this.data[t]===e)return!1;this.updating[t]=!0,this.$rest("modulesFields").put({id:this.data.id,data:{value:e},prop:t,params:{moduleId:this.moduleId}}).then(()=>this.data[t]=e).finally(()=>this.updating[t]=!1)}},components:{Tooltip:$t["a"]}},Ps=Ds,Bs=(a("9d58"),Object(m["a"])(Ps,As,Hs,!1,null,null,null)),Ns=Bs.exports;f()(Bs,{VBtn:y["a"],VCard:b["a"],VForm:Se["a"],VIcon:k["a"],VSelect:qa["a"],VTextField:Le["a"]});var Rs=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{ref:"fieldList",staticClass:"field-list d-flex flex-wrap"},e._l(e.items,(function(t,s){return a("field-item",{key:s,attrs:{types:e.fieldsTypes,data:t},on:{remove:function(t){return e.removeField(s)},changekey:function(t){return e.$emit("changefieldkey")}}})})),1),e.repeteadKey?a("div",{staticClass:"pt-8 text-body-2 text-center font-weight-bold red--text"},[e._v("Não pode existir alguma chave de campo repetida.")]):e._e()])},Ms=[],Ks={props:{items:{type:Array,default:()=>[]}},data:()=>({selected:null,repeteadKey:!1}),computed:{fieldsTypes(){return this.$rest("modulesFieldsTypes").list.map(({id:e,name:t})=>({text:t,value:e}))}},methods:{removeField(e){this.items.splice(e,1)},validate(){const e=[];if(this.$children.forEach(t=>e.push(t.validate())),e.includes(!1))return!1;const t=[];this.repeteadKey=!1;for(const{key:a}of this.items){if(t.includes(a))return this.repeteadKey=!0,!1;t.push(a)}return!0}},beforeCreate(){this.$rest("modulesFieldsTypes").get()},components:{FieldItem:Ns}},Us=Ks,zs=(a("5d26"),Object(m["a"])(Us,Rs,Ms,!1,null,null,null)),Gs=zs.exports,Ws=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-dialog",{attrs:{value:e.value,"max-width":"340px"},on:{input:function(t){return e.$emit("input",t)}}},[a("v-card",{staticClass:"pa-4",attrs:{dark:""}},[a("div",{staticClass:"title text-center mb-4"},[e._v("Adicionar campo")]),a("v-form",{ref:"form"},[a("v-row",[a("v-col",{staticClass:"py-0",attrs:{cols:"12",sm:"6"}},[a("v-text-field",{attrs:{rules:[e.rules.required],label:"Nome",dense:"",outlined:""},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}})],1),a("v-col",{staticClass:"py-0",attrs:{cols:"12",sm:"6"}},[a("v-text-field",{attrs:{rules:[e.rules.required,e.rules.lowerCase],label:"Chave",dense:"",outlined:""},on:{input:function(t){return e.$emit("changekey")}},model:{value:e.key,callback:function(t){e.key=t},expression:"key"}})],1),a("v-col",{staticClass:"py-0",attrs:{cols:"12",sm:"6"}},[a("v-select",{attrs:{items:e.types,rules:[e.rules.required],label:"Tipo",dense:"",outlined:""},model:{value:e.type,callback:function(t){e.type=t},expression:"type"}})],1),a("v-col",{staticClass:"py-0",attrs:{cols:"12",sm:"6"}},[a("div",{staticClass:"field-item-switches d-flex"},[a("tooltip",{attrs:{tip:"Único",top:""}},[a("v-btn",{attrs:{icon:""},on:{click:function(t){e.unique=!e.unique}}},[a("v-icon",{attrs:{color:"cyan",disabled:!e.unique}},[e._v("fas fa-fingerprint")])],1)],1),a("tooltip",{attrs:{tip:"Privado",top:""}},[a("v-btn",{attrs:{icon:""},on:{click:function(t){e.private=!e.private}}},[a("v-icon",{attrs:{color:"green",disabled:!e.private}},[e._v("fas fa-shield-alt")])],1)],1)],1)]),a("v-col",{staticClass:"py-0 mt-2 mt-sm-0",attrs:{cols:"12"}},[a("v-btn",{attrs:{loading:e.sending,color:"secondary darken-2",depressed:"",block:""},on:{click:e.send}},[a("span",{staticClass:"text-none"},[e._v("Adicionar")])])],1)],1)],1)],1)],1)},Js=[],Zs={props:{value:{type:Boolean,default:!1},types:{type:Array,required:!0}},data:()=>({rules:{required:qe["c"],lowerCase:qe["b"]},name:null,key:null,type:null,unique:!1,private:!1,sending:!1}),computed:{moduleId(){return this.$route.params.sub}},methods:{send(){const e=this.$refs.form;e.validate()&&(this.sending=!0,this.$rest("modulesFields").post({data:{name:this.name,key:this.key,type:this.type,unique:this.unique,private:this.private},params:{moduleId:this.moduleId}}).then(()=>this.$rest("modules").get({id:this.moduleId}).then(()=>{this.$emit("input",!1),this.sending=!1})).catch(()=>this.sending=!1))}},components:{Tooltip:$t["a"]}},Ys=Zs,Qs=(a("1cfd"),Object(m["a"])(Ys,Ws,Js,!1,null,null,null)),Xs=Qs.exports;f()(Qs,{VBtn:y["a"],VCard:b["a"],VCol:zt["a"],VDialog:da["a"],VForm:Se["a"],VIcon:k["a"],VRow:Gt["a"],VSelect:qa["a"],VTextField:Le["a"]});var ei={props:{data:{type:Object,required:!0}},data:()=>({noListHeaders:null,sendingListHeaders:!1,addDialog:!1}),computed:{moduleId(){return this.$route.params.sub},fieldsTypes(){return this.$rest("modulesFieldsTypes").list.map(({id:e,name:t})=>({text:t,value:e}))},listHeaders:{get(){return this.data.viewOptions.listHeaders},set(e){this.data.viewOptions.listHeaders=e}}},methods:{validate(){const e=this.$refs.fieldList;return!!e&&(this.listHeaders.length?this.noListHeaders=!1:this.noListHeaders=!0,e.validate())},updateListHeaders(){for(let e of this.listHeaders)this.fields.find(({key:t})=>t===e)||this.listHeaders.splice(this.listHeaders.indexOf(e),1)},sendListHeaders(){this.sendingListHeaders=!0,this.$rest("modules").put({id:this.moduleId,data:{value:{listHeaders:this.data.viewOptions.listHeaders}},prop:"viewOptions"}).finally(()=>{this.sendingListHeaders=!1})}},watch:{listHeaders(e){e.length&&(this.noListHeaders=!1)}},components:{FieldItem:Ns,FieldList:Gs,AddField:Xs,Tooltip:$t["a"]}},ti=ei,ai=(a("231e"),Object(m["a"])(ti,Ss,Ls,!1,null,null,null)),si=ai.exports;f()(ai,{VBtn:y["a"],VChip:Ra["a"],VChipGroup:Ma["a"],VIcon:k["a"]});const ii={Custom:ya,Table:Ua,Item:Fs},li={Custom:$a,Table:vs,Item:si};var ni={name:"ModuleAdd",data:()=>({name:null,icon:null,key:null,viewSelected:null,rules:{required:qe["c"]}}),computed:{views(){return this.$rest("modulesViews").list.map(({key:e,name:t})=>({text:t,value:e}))}},methods:{add(){const e=this.$refs.form,t=this.$refs.view;let a=null,s=null;if(e&&(a=e.validate()),t&&(s=t.validate()),!a||!s)return;const i=this.$rest("modulesViews").list.find(({key:e})=>e===this.viewSelected).id;this.$rest("modules").post({data:{name:this.name,icon:this.icon,key:this.key,viewId:i,...t.data}}).then(()=>this.$router.push("/admin/modules"))}},beforeCreate(){this.$rest("modulesViews").get()},components:{ModuleTemplate:Lt,...Object.fromEntries(Object.entries(ii).map(e=>(e[0]=e[0].toLowerCase()+"-add",e)))}},ri=ni,oi=Object(m["a"])(ri,ma,pa,!1,null,null,null),di=oi.exports;f()(oi,{VBtn:y["a"],VCard:b["a"],VCol:zt["a"],VForm:Se["a"],VRow:Gt["a"],VSelect:qa["a"],VTextField:Le["a"]});var ui=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("module-template",{attrs:{title:'Alterar módulo "'+e.module.name+'"'}},[a("v-card",{staticClass:"pa-4 pb-0 rounded-t-0",attrs:{outlined:"",dark:""}},[a("v-form",{ref:"form"},[a("v-row",[a("v-col",{staticClass:"py-0",attrs:{cols:"12",sm:"6",md:"12",lg:"3"}},[a("v-text-field",{attrs:{value:e.module.name,rules:[e.rules.required],loading:e.updating.name,label:"Nome",outlined:"",dense:""},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.updateProperty(t,"name")},blur:function(t){return e.updateProperty(t,"name")}}})],1),a("v-col",{staticClass:"py-0",attrs:{cols:"12",sm:"6",md:"4",lg:"3"}},[a("v-text-field",{attrs:{value:e.module.icon,rules:[e.rules.required],loading:e.updating.icon,label:"Ícone",outlined:"",dense:""},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.updateProperty(t,"icon")},blur:function(t){return e.updateProperty(t,"icon")}}})],1)],1)],1),e.loaded?a(e.module.viewKey+"-edit",{tag:"component",attrs:{data:e.module}}):a("v-sheet",{staticClass:"d-flex justify-center align-center py-8",attrs:{width:"100%",color:"transparent"}},[a("v-progress-circular",{attrs:{size:50,color:"secondary",indeterminate:""}})],1)],1)],1)},ci=[],mi={name:"ModuleItem",data:()=>({rules:{required:qe["c"]},loaded:!1,updating:{name:!1,icon:!1}}),computed:{modules(){return this.$rest("modules").list},moduleId(){return this.$route.params.sub},module(){return this.modules.find(({id:e})=>e==this.moduleId)}},methods:{updateProperty({target:{value:e}},t){if(this.module[t]===e)return!1;this.updating[t]=!0,this.$rest("modules").put({id:this.moduleId,data:{value:e},prop:t}).finally(()=>{this.updating[t]=!1})}},created(){this.loaded=!1,this.$rest("modules").get({id:this.moduleId}).finally(()=>this.loaded=!0)},beforeCreate(){this.$rest("modules").get()},components:{ModuleTemplate:Lt,...Object.fromEntries(Object.entries(li).map(e=>(e[0]=e[0].toLowerCase()+"-edit",e)))}},pi=mi,fi=Object(m["a"])(pi,ui,ci,!1,null,null,null),vi=fi.exports;f()(fi,{VCard:b["a"],VCol:zt["a"],VForm:Se["a"],VProgressCircular:_e["a"],VRow:Gt["a"],VSheet:Ce["a"],VTextField:Le["a"]});const hi="modules";var gi={key:hi,routes:[{name:"Módulos",path:"/admin/"+hi,component:ca},{name:"Adicionar módulo",path:`/admin/${hi}/adicionar`,component:di},{name:"Alterar módulo",path:`/admin/${hi}/:module`,component:vi}]},yi=[sa,gi],bi=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("module-template",{attrs:{title:e.data.name},scopedSlots:e._u([{key:"toolbar",fn:function(){return[a("toolbar-button",{attrs:{disabled:!e.selecteds.length,title:"Remover",icon:"fas fa-trash",dark:""},on:{click:e.remove}}),a("toolbar-button",{attrs:{title:"Adicionar",icon:"fas fa-plus",dark:""},on:{click:e.add}}),a("print-button")]},proxy:!0}])},[a("div",[a("div",{staticClass:"pa-2 primary lighten-1"},[a("v-text-field",{attrs:{"append-icon":"fas fa-search",label:"Pesquisar","single-line":"","hide-details":"",dense:"",outlined:"",dark:""},on:{"click:append":function(t){return e.get(1)},keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.get(1)}},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),a("v-data-table",{attrs:{headers:e.headers,items:e.items,loading:e.loading,"server-items-length":e.totalItems,"items-per-page":100,height:"calc(100vh - 226px)","sort-by":"id","loading-text":"Carregado dados.","no-data-text":"Não há registros.","no-results-text":"Não há registros.","show-select":"","sort-desc":"","fixed-header":"",dark:""},on:{"click:row":function(t){return e.$router.push(e.$route.path+"/"+t.id)},"update:page":e.changePage},scopedSlots:e._u([{key:"item.action",fn:function(t){var s=t.item;return[a("div",{staticClass:"d-flex justify-end"},[parseInt(s.active)?a("v-btn",{attrs:{color:"green",icon:"",small:""},on:{click:function(t){return t.stopPropagation(),e.toggleActive(s.id,!1)}}},[a("v-icon",{attrs:{small:""}},[e._v("fas fa-eye")])],1):a("v-btn",{attrs:{color:"blue",icon:"",small:""},on:{click:function(t){return t.stopPropagation(),e.toggleActive(s.id,!0)}}},[a("v-icon",{attrs:{small:""}},[e._v("fas fa-eye-slash")])],1)],1)]}},{key:"item.date",fn:function(t){var s=t.item;return[a("span",{staticClass:"text-no-wrap"},[e._v(e._s(e._f("formatDate")(s.date)))])]}}]),model:{value:e.selecteds,callback:function(t){e.selecteds=t},expression:"selecteds"}})],1),a("v-overlay",{attrs:{absolute:""},model:{value:e.loading,callback:function(t){e.loading=t},expression:"loading"}},[a("v-progress-circular",{attrs:{size:50,color:"secondary",indeterminate:"",absolute:""}})],1)],1)},xi=[],ki=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("toolbar-button",{attrs:{title:"Imprimir",icon:"fas fa-print",dark:""},on:{click:e.print}})},_i=[],Ci={components:{ToolbarButton:Ot},methods:{print(){window.print()}}},$i=Ci,wi=Object(m["a"])($i,ki,_i,!1,null,null,null),Ii=wi.exports,Vi={name:"TableList",props:{data:Object},data:()=>({loading:!1,search:"",selecteds:[],totalItems:0}),computed:{viewOptions(){return this.data.viewOptions},fields(){return this.data.fields},headers(){if(!this.viewOptions.listHeaders||!this.fields)return[];const e=this.viewOptions.listHeaders.map(e=>({text:this.fields.find(({key:t})=>t==e).name,value:e,align:"left",sortable:!1}));return e.unshift({text:"Id",value:"id",align:"left",sortable:!1,filterable:!1}),e.push({text:"",value:"action",align:"right",sortable:!1,filterable:!1}),e},items(){return this.$rest(this.data.key).list},sm(){return this.$vuetify.breakpoint.smAndDown}},methods:{get(e=1,t=100){return this.$rest(this.data.key).get({params:{fields:"id,active,"+this.data.viewOptions.listHeaders.join(","),itemsPerPage:t,page:e,search:this.search,returnTotalItems:1},save:(e,{list:t,totalItems:a})=>{this.totalItems=parseInt(a),e.list=t}}).catch(()=>this.$router.push("/admin")).finally(()=>this.loading=!1)},add(){this.$rest(this.data.key).post().then(({id:e})=>this.$router.push(this.$route.path+"/"+e))},remove(){this.loading=!0,Promise.all(this.selecteds.map(({id:e})=>this.$rest(this.data.key).delete({id:e}).then(()=>this.loading=!1))).finally(()=>this.loading=!1)},toggleActive(e,t){this.$rest(this.data.key).put({id:e,prop:"active",data:{value:0|t}})},changePage(e){this.loading=!0,this.get(e).finally(()=>{this.loading=!1})}},filters:{formatDate:e=>new Date(e).toLocaleString("pt-BR",{dateStyle:"short",timeStyle:"short"})},created(){this.loading=!0,this.get()},components:{ToolbarButton:Ot,PrintButton:Ii,ModuleTemplate:Lt}},Oi=Vi,Ti=a("a797"),ji=Object(m["a"])(Oi,bi,xi,!1,null,null,null),qi=ji.exports;f()(ji,{VBtn:y["a"],VDataTable:Dt["a"],VIcon:k["a"],VOverlay:Ti["a"],VProgressCircular:_e["a"],VTextField:Le["a"]});var Ei=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("module-template",{attrs:{title:e.data.name+" / Alterar",width:"800px","max-width":"100%"}},[a("v-card",{staticClass:"pa-4 rounded-t-0",attrs:{outlined:"",dark:""}},[a("v-form",{ref:"form"},[a("div",{staticClass:"table-module-add-form"},e._l(e.data.fields,(function(t,s){var i=t.id,l=t.name,n=t.key,r=t.typeKey;return a(r+"field",{key:s,tag:"component",attrs:{value:e.item[n]||"",label:l,name:n,"field-id":parseInt(i)}})})),1),a("div",{staticClass:"d-flex justify-end"},[a("v-btn",{staticClass:"text-none",attrs:{color:"secondary",depressed:""},on:{click:e.send}},[e._v(e._s(e.isPublished?"Alterar":"Publicar"))])],1)])],1)],1)},Fi=[],Si=Object.fromEntries(a("f66d").keys().filter(e=>/\.\/[^]+\/Index.vue/.test(e)).map(e=>[e.replace(/\.\/([^./]+)\/Index.vue/,"$1").toLowerCase().replace(/[^a-z]/g,""),()=>a("7ecb")("./"+e.slice(2))])),Li={name:"TableAdd",props:{data:Object},computed:{itemId(){return this.$route.params.sub},item(){return this.$rest(this.data.key).item},isPublished(){return this.item.alteredAt&&parseInt(this.item.active)}},methods:{send(){const e=this.$refs.form;if(e.validate()){const t=Object.fromEntries(new FormData(e.$el).entries());for(let e in t)"object"===typeof t[e]&&delete t[e];this.isPublished||(t.active=1),this.$rest(this.data.key).put({id:this.itemId,data:t}).then(()=>this.$router.push("/admin/"+this.data.key))}}},created(){this.$rest(this.data.key).get({id:this.itemId}).catch(()=>this.$router.push("/admin/"+this.data.key))},components:{ModuleTemplate:Lt,...Si}},Ai=Li,Hi=(a("d52e"),Object(m["a"])(Ai,Ei,Fi,!1,null,null,null)),Di=Hi.exports;f()(Hi,{VBtn:y["a"],VCard:b["a"],VForm:Se["a"]});var Pi={routes:[{name:"{name}",path:"/admin/{key}",component:qi},{name:"{name} / Alterar",path:"/admin/{key}/:sub",component:Di}]},Bi=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("module-template",{attrs:{title:e.data.name+" / Alterar",width:"800px","max-width":"100%"}},[a("v-card",{staticClass:"pa-4 rounded-t-0",attrs:{outlined:"",dark:""}},[a("v-form",{ref:"form"},[a("div",{staticClass:"table-module-add-form"},e._l(e.data.fields,(function(t,s){var i=t.id,l=t.name,n=t.key,r=t.typeKey;return a(r+"field",{key:s,tag:"component",attrs:{value:e.item[n]||"",label:l,name:n,"field-id":parseInt(i)}})})),1),a("div",{staticClass:"d-flex justify-end"},[a("v-btn",{staticClass:"text-none",attrs:{color:"secondary",depressed:""},on:{click:e.send}},[e._v(e._s(e.isPublished?"Alterar":"Publicar"))])],1)])],1)],1)},Ni=[],Ri={name:"TableAdd",props:{data:Object},computed:{itemId(){return this.$route.params.sub},item(){return this.$rest(this.data.key).item},isPublished(){return this.item.alteredAt&&parseInt(this.item.active)}},methods:{send(){const e=this.$refs.form;if(e.validate()){const t=Object.fromEntries(new FormData(e.$el).entries());for(let e in t)"object"===typeof t[e]&&delete t[e];this.isPublished||(t.active=1),this.$rest(this.data.key).put({id:this.itemId,data:t}).then(()=>this.$router.push("/admin/"+this.data.key))}}},created(){this.$rest(this.data.key).get({id:this.itemId}).catch(()=>this.$router.push("/admin/"+this.data.key))},components:{ModuleTemplate:Lt,...Si}},Mi=Ri,Ki=(a("d830"),Object(m["a"])(Mi,Bi,Ni,!1,null,null,null)),Ui=Ki.exports;f()(Ki,{VBtn:y["a"],VCard:b["a"],VForm:Se["a"]});var zi={routes:[{name:"{name} / Alterar",path:"/admin/{key}",component:Ui}]};const Gi={custom:yi,table:Pi,item:zi},Wi=Object.fromEntries(yi.flatMap(({routes:e})=>e).concat(Pi.routes).map(({component:e})=>[e.name,e]));var Ji=a("bd11"),Zi=a.n(Ji),Yi={data:()=>({component:null,loading:!1,gettedModules:!1}),computed:{modules(){return this.$rest("modules").list},moduleKey(){return this.$route.params.module},module(){return this.modules.find(({key:e})=>e===this.moduleKey)},sub(){return this.$route.params.sub}},methods:{async get(){return this.loading=!0,this.gettedModules||await this.$rest("modules").get(),this.renderModule().then(()=>this.loading=!1)},mountRoutes(e,t){return e.map(e=>{let a={...e};return a.name=a.name.replace("{name}",t.name),a.path=a.path.replace("{key}",t.key),a})},async renderModule(){if(!this.module)return void this.$router.push("/admin/error404");await this.$rest("modules").get({id:this.module.id});let e=[];if("custom"===this.module.viewKey){for(let t of Gi.custom)if(t.key===this.moduleKey){e=t.routes;break}}else e=this.mountRoutes(Gi[this.module.viewKey].routes,this.module);for(let{path:t,component:a}of e){const e=new RegExp(Zi()(t));if(e.test(this.$route.path)){this.component=a.name;break}}this.gettedModules=!0}},watch:{async moduleKey(){await this.get()},async sub(){await this.get()}},async created(){await this.get()},components:Wi},Qi=Yi,Xi=Object(m["a"])(Qi,yt,bt,!1,null,null,null),el=Xi.exports;f()(Xi,{VProgressCircular:_e["a"],VSheet:Ce["a"]}),s["default"].use(Ie["a"]);const tl="Painel de Administração",al=[{path:"/",redirect:"/admin"},{name:tl,path:"/admin",component:et},{name:"Instalar - "+tl,path:"/admin/setup",component:mt},{name:"Entrar - "+tl,path:"/admin/entrar",component:Ne},{name:"Error404",path:"/admin/error404",component:gt},{name:"Módulo - "+tl,path:"/admin/:module",component:el},{name:"Módulo - "+tl,path:"/admin/:module/:sub",component:el},{path:"*",beforeEnter:(e,t,a)=>{a("/admin/error404")}}],sl=new Ie["a"]({mode:"history",base:"/",routes:al});sl.afterEach(e=>{document.title=e.name,window.scrollTo(0,0)});var il=sl,ll={connectionStatusChange:({commit:e},{ok:t,error:a})=>{window.console.warn("VuexRest: ",{ok:t,error:a}),e("function",e=>{e.connectionOk=t,e.connectionError=a})},startRequest:({commit:e,dispatch:t,state:a})=>{a.connectionOk||t("connectionStatusChange",{ok:!0}),e("function",e=>{e.loading=!0})},endRequest:({commit:e},{status:t,error:a,success:s})=>{t&&window.console.warn("VuexRest: ",{status:t,error:a,success:s}),e("function",e=>{e.loading=!1,t&&(e.lastRequestStatus=t,e.lastRequestError=a,e.lastRequestSuccess=s)}),t&&window.setTimeout(()=>{e("function",e=>{e.lastRequestStatus=null,e.lastRequestError=null,e.lastRequestSuccess=null})},4e3)},setInfoUser({commit:e},t){e("function",e=>{for(let a in t)e.user[a]=t[a];e.user={...e.user}})}},nl={function:(e,t)=>t(e)};const rl={state:{connectionOk:null,connectionError:null,loading:!1,lastRequestStatus:null,lastRequestError:null,lastRequestSuccess:null,user:{}},mutations:nl,actions:ll};s["default"].use(ge["a"]);var ol=new ge["a"].Store(rl),dl=a("f309");s["default"].use(dl["a"]);var ul=new dl["a"]({icons:{iconfont:"fa"},theme:{options:{customProperties:!0},themes:{light:{primary:"#000000",secondary:"#e93751",accent:"#00a7bc"}}}}),cl=a("6930"),ml=a.n(cl);const pl=e=>{const t=e.observable({on:!1,checking:!0});e.prototype.$auth={login(e){return me.post("/auth/login",e).then(({data:e})=>(window.localStorage.setItem("token",e.token),e))},checkIn:()=>{const e=window.localStorage.getItem("token");return window.sessionStorage.setItem("token",e),e?me.post("/auth/check-in").then(({data:e})=>(t.checking=!1,t.on=!0,e)):(t.checking=!1,t.on=!1,Promise.reject())},logout:()=>me.post("/auth/logout").finally(()=>{t.on=!1,window.localStorage.removeItem("token")}),get on(){return t.on},get checking(){return t.checking}}};s["default"].use(pl);var fl=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"grid-container",style:e.style},[e._t("default")],2)},vl=[];const hl={xl:"lgOnly",lg:"lgAndUp",md:"mdAndUp",sm:"smAndUp",xs:"xsOnly"},gl=new RegExp(`(${Object.keys(hl).join("|")})$`,"g"),yl={computed:{breakpoint(){const e={...hl};for(let t in e)e[t]=this.$vuetify.breakpoint[e[t]];return e},style(){const e={};for(let t in this.$props)if(this[t]){const a=t.toLowerCase().match(gl),s=a?t.slice(0,-2):t;a&&!this.breakpoint[a[0]]||(e[this.propsCSS[s]]=this[t])}return e}}},bl=e=>{const t={};for(let a of e){t[a]=String;for(let e in hl)t[`${a}-${e}`]=String}return t},xl={cols:"grid-template-cols",rows:"grid-template-rows",autoRows:"auto-rows",autoColumns:"auto-columns",gap:"gap",autoFlow:"auto-flow",justify:"justify-content",alignItems:"align-items",alignContent:"align-content"};var kl={name:"grid-container",props:bl(Object.keys(xl)),data:()=>({propsCSS:xl}),mixins:[yl]},_l=kl,Cl=(a("49b6"),Object(m["a"])(_l,fl,vl,!1,null,null,null)),$l=Cl.exports,wl=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"grid-item",style:e.style},[e._t("default")],2)},Il=[];const Vl={colStart:"--col-start",colEnd:"--col-end",rowStart:"--row-start",rowEnd:"--row-end"};var Ol={name:"grid-item",props:bl(Object.keys(Vl)),data:()=>({propsCSS:Vl}),mixins:[yl]},Tl=Ol,jl=(a("56be"),Object(m["a"])(Tl,wl,Il,!1,null,null,null)),ql=jl.exports,El=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"grid-list",style:e.style},[e._t("default")],2)},Fl=[];const Sl={gap:"gap",colWidth:"--col-width"};var Ll={name:"grid-list",props:bl(Object.keys(Sl)),data:()=>({propsCSS:Sl}),mixins:[yl]},Al=Ll,Hl=(a("8727"),Object(m["a"])(Al,El,Fl,!1,null,null,null)),Dl=Hl.exports,Pl=[$l,ql,Dl];const Bl=e=>Pl.forEach(t=>e.component(t.name,t));s["default"].use(Bl),s["default"].use(ml.a);const Nl=location.origin,Rl=JSON.parse(document.getElementById("config").textContent);s["default"].config.productionTip=!1,s["default"].use(he,{base:Nl+"/rest"}),s["default"].mixin({data:()=>({server:Nl,files:Nl+"/admin",...Rl})}),new s["default"]({router:il,vuetify:ul,store:ol,render:e=>e(we)}).$mount("#app")},"56f5":function(e,t,a){"use strict";a("c010")},"5d26":function(e,t,a){"use strict";a("dcad")},"5f42":function(e,t,a){"use strict";a.d(t,"c",(function(){return s})),a.d(t,"a",(function(){return i})),a.d(t,"b",(function(){return l}));const s=e=>!!e||"Requerido.",i=e=>/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)||"E-mail inválido.",l=e=>/^[a-z]+$/.test(e)||"Apenas letras minúsculas."},"604cc":function(e,t,a){},"608b":function(e,t,a){"use strict";a("b64d")},"6bdf":function(e,t,a){"use strict";a("fc93")},"6c32":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=this,a=t.$createElement,s=t._self._c||a;return s("v-dialog",{attrs:{value:t.value,"max-width":"880px"},on:{input:function(e){return t.$emit("input",e)}}},[s("v-card",{staticClass:"pa-4",attrs:{dark:""}},[s("div",{staticClass:"title mb-4 d-flex flex-column flex-sm-row justify-space-between"},[s("div",[t._v("Categorias")]),s("div",[s("v-btn",{staticClass:"mr-2 text-none",attrs:{color:"secondary",disabled:!t.selecteds.length,depressed:"",small:""},on:{click:t.remove}},[s("v-icon",{attrs:{left:"",small:""}},[t._v("fas fa-trash")]),s("span",[t._v("Remover")])],1),s("v-btn",{staticClass:"text-none",attrs:{color:"secondary",depressed:"",small:""},on:{click:function(e){t.addDialog=!0}}},[s("v-icon",{attrs:{left:"",small:""}},[t._v("fas fa-upload")]),s("span",[t._v("Adicionar")])],1)],1)]),t.categories.length?s("v-data-table",{attrs:{headers:t.headers,items:t.categories,"mobile-breakpoint":0,"no-data-text":"Não há registros.","sort-by":"id","sort-desc":"","show-select":"","disable-pagination":"","hide-default-footer":""},scopedSlots:t._u([{key:"item.title",fn:function(e){var a=e.item;return[s("v-edit-dialog",{staticClass:"primary lighten-4",attrs:{"return-value":t.editCategoryTitle,dark:""},on:{save:function(e){return t.editTitle(a.id)},"update:returnValue":function(e){t.editCategoryTitle=e},"update:return-value":function(e){t.editCategoryTitle=e}},scopedSlots:t._u([{key:"input",fn:function(){return[s("v-text-field",{attrs:{value:a.title,rules:[t.rules.required],label:"Renomear","single-line":"",counter:""},on:{input:function(e){return t.editCategoryTitle=e}}})]},proxy:!0}],null,!0)},[t._v(t._s(a.title))])]}}],null,!1,307675390),model:{value:t.selecteds,callback:function(e){t.selecteds=e},expression:"selecteds"}}):s("div",{staticClass:"pa-4 text-body-2 text-center font-weight-bold"},[t._v("Nenhuma categoria foi adicionada.")])],1),t.value?s("v-overlay",{model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},[s("v-progress-circular",{attrs:{size:50,color:"secondary",indeterminate:""}})],1):t._e(),s("add",{attrs:{"field-id":t.fieldId},on:{add:function(t){return e.$emit("add",t)}},model:{value:t.addDialog,callback:function(e){t.addDialog=e},expression:"addDialog"}})],1)},i=[],l=a("2da8"),n=a("5f42"),r={props:{value:Boolean,fieldId:{type:Number,required:!0},categories:{type:Array,default:()=>[]}},data:()=>({addDialog:!1,loading:!1,headers:[{text:"Título",value:"title",align:"left"}],editCategoryTitle:null,rules:{required:n["c"]},selecteds:[]}),computed:{moduleKey(){return this.$rest("modules").item.key},moduleId(){return this.$rest("modules").item.id},itemId(){return this.$route.params.sub}},methods:{remove(){this.loading=!0,Promise.all(this.selecteds.map(({id:e})=>this.$rest("modulesCategories").delete({id:e,params:{moduleId:this.moduleId}}))).finally(()=>{this.selecteds=[],this.loading=!1})},editTitle(e){const t=this.categories.find(({id:t})=>t==e).title;this.editCategoryTitle&&t!==this.editCategoryTitle&&(this.loading=!0,this.$rest("modulesCategories").put({id:e,prop:"title",data:{value:this.editCategoryTitle},params:{moduleId:this.moduleId}}).then(()=>this.$parent.get().then(()=>{this.loading=!1})))}},components:{Add:l["default"]}},o=r,d=a("2877"),u=a("6544"),c=a.n(u),m=a("8336"),p=a("b0af"),f=a("8fea"),v=a("169a"),h=a("7679"),g=a("132d"),y=a("a797"),b=a("490a"),x=a("8654"),k=Object(d["a"])(o,s,i,!1,null,null,null);t["default"]=k.exports;c()(k,{VBtn:m["a"],VCard:p["a"],VDataTable:f["a"],VDialog:v["a"],VEditDialog:h["a"],VIcon:g["a"],VOverlay:y["a"],VProgressCircular:b["a"],VTextField:x["a"]})},"6c6e":function(e,t,a){"use strict";a("dfcc")},7233:function(e,t,a){},"73e2":function(e,t,a){},7412:function(e,t,a){},"7cd3":function(e,t,a){},"7ecb":function(e,t,a){var s={"./big-text-field/Index":"96fc","./big-text-field/Index.vue":"96fc","./category-field/Add":"2da8","./category-field/Add.vue":"2da8","./category-field/Index":"f99f","./category-field/Index.vue":"f99f","./category-field/List":"6c32","./category-field/List.vue":"6c32","./date-field/Index":"1a5a","./date-field/Index.vue":"1a5a","./email-field/Index":"f610","./email-field/Index.vue":"f610","./file-field/Index":"c270","./file-field/Index.vue":"c270","./file-field/List":"2162","./file-field/List.vue":"2162","./image-file-field/Index":"f4e2","./image-file-field/Index.vue":"f4e2","./image-file-field/List":"f943","./image-file-field/List.vue":"f943","./medium-text-field/Index":"a897","./medium-text-field/Index.vue":"a897","./password-field/Index":"cd74","./password-field/Index.vue":"cd74","./secretariats-field/Index":"ecf2","./secretariats-field/Index.vue":"ecf2","./subcategory-field/Index":"f7d9","./subcategory-field/Index.vue":"f7d9","./switch-field/Index":"d583","./switch-field/Index.vue":"d583","./tiny-text-field/Index":"df9b","./tiny-text-field/Index.vue":"df9b","./url-field/Index":"8c06","./url-field/Index.vue":"8c06"};function i(e){return Promise.resolve().then((function(){if(!a.o(s,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}var i=s[e];return a(i)}))}i.keys=function(){return Object.keys(s)},i.id="7ecb",e.exports=i},"7f43":function(e,t,a){"use strict";a("de55")},"838b":function(e,t,a){},"85ec":function(e,t,a){},8727:function(e,t,a){"use strict";a("2dae")},8909:function(e,t,a){},"8c06":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("grid-item",{attrs:{"col-end":"2","col-end-sm":"1"}},[a("v-text-field",{attrs:{label:e.label,value:e.value,name:e.name,dense:"",outlined:"",dark:""}})],1)},i=[],l=a("d803"),n={mixins:[l["a"]]},r=n,o=a("2877"),d=a("6544"),u=a.n(d),c=a("8654"),m=Object(o["a"])(r,s,i,!1,null,null,null);t["default"]=m.exports;u()(m,{VTextField:c["a"]})},"917e":function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-tooltip",{attrs:{top:e.top,right:e.right,left:e.left,bottom:e.bottom},scopedSlots:e._u([{key:"activator",fn:function(t){var s=t.on,i=t.attrs;return[a("div",e._g(e._b({},"div",i,!1),s),[e._t("default")],2)]}}],null,!0)},[a("span",[e._v(e._s(e.tip))])])},i=[],l={props:{tip:{type:String,default:""},top:{type:Boolean,default:!1},right:{type:Boolean,default:!1},bottom:{type:Boolean,default:!1},left:{type:Boolean,default:!1}}},n=l,r=a("2877"),o=a("6544"),d=a.n(o),u=a("3a2f"),c=Object(r["a"])(n,s,i,!1,null,null,null);t["a"]=c.exports;d()(c,{VTooltip:u["a"]})},9262:function(e,t,a){"use strict";a("cfe9")},"96fc":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("grid-item",{attrs:{"col-end":"2"}},[a("div",{staticClass:"grey--text text--lighten-1 font-weight-bold text-caption"},[e._v(e._s(e.label))]),a("div",{class:[e.disabled?"disabled":"","view-big-text-field"]},[a("ckeditor",{staticClass:"elevation-1",attrs:{value:e.value,editor:e.editor,config:e.config,disabled:e.disabled},on:{input:function(t){return e.editorData=t}}}),a("v-text-field",{attrs:{name:e.name,type:"hidden"},model:{value:e.editorData,callback:function(t){e.editorData=t},expression:"editorData"}})],1)])},i=[],l=a("fb3d"),n=a.n(l),r=a("d803"),o={props:{disabled:{type:Boolean,default:!1},fieldId:{type:Number,required:!0}},data:()=>({editor:n.a,editorData:""}),computed:{moduleId(){return this.$rest("modules").item.id},itemId(){return this.$route.params.sub},upload(){const e=this;return function(t){t.plugins.get("FileRepository").createUploadAdapter=t=>({loader:t,upload:()=>t.file.then(t=>e.$rest("modulesImages").upload({file:t,prop:"image",params:{itemId:e.itemId,moduleId:e.moduleId,fieldId:e.fieldId}}).catch(()=>{throw"Não foi possível fazer upload do arquivo."}))})}},config(){return{extraPlugins:[this.upload]}}},mounted(){this.editorData=this.value},mixins:[r["a"]]},d=o,u=(a("7f43"),a("2877")),c=a("6544"),m=a.n(c),p=a("8654"),f=Object(u["a"])(d,s,i,!1,null,null,null);t["default"]=f.exports;m()(f,{VTextField:p["a"]})},9802:function(e,t,a){"use strict";a("ed84")},"9d58":function(e,t,a){"use strict";a("41b2")},a21c:function(e,t,a){},a897:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("grid-item",{attrs:{"col-end":"2"}},[a("v-textarea",{attrs:{label:e.label,value:e.value,name:e.name,counter:"300",dense:"",outlined:"",dark:""}})],1)},i=[],l=a("d803"),n={mixins:[l["a"]]},r=n,o=a("2877"),d=a("6544"),u=a.n(d),c=a("a844"),m=Object(o["a"])(r,s,i,!1,null,null,null);t["default"]=m.exports;u()(m,{VTextarea:c["a"]})},aa56:function(e,t,a){},af65:function(e,t,a){"use strict";a("7cd3")},b64d:function(e,t,a){},b772:function(e,t,a){},bcd4:function(e,t,a){"use strict";a("290f")},c010:function(e,t,a){},c270:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("grid-item",{attrs:{"row-end":"4","col-end":"2","col-end-sm":"1"}},[a("div",{staticClass:"grey--text text--lighten-1 font-weight-bold text-caption"},[e._v(e._s(e.label))]),a("tooltip",{attrs:{tip:e.label,top:""}},[a("v-responsive",{directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"grey d-flex align-center rounded-lg primary cursor-pointer",attrs:{"aspect-ratio":19/9},on:{click:function(t){e.dialog=!0}}},[a("div",{staticClass:"d-flex justify-center align-center"},[a("div",{staticClass:"d-flex flex-column"},[a("v-icon",{staticClass:"d-block mx-auto",attrs:{size:30}},[e._v("fas fa-file")]),a("div",{staticClass:"text-caption font-weight-bold mt-1"},[e._v("Enviar")])],1)])])],1),a("list",{attrs:{"input-name":e.name,"highlighted-file":e.value,"field-id":e.fieldId},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}})],1)},i=[],l=a("917e"),n=a("2162"),r=a("d803"),o={props:{fieldId:{type:Number,required:!0}},data:()=>({dialog:!1}),mixins:[r["a"]],components:{Tooltip:l["a"],List:n["default"]}},d=o,u=a("2877"),c=a("6544"),m=a.n(c),p=a("132d"),f=a("6b53"),v=a("269a"),h=a.n(v),g=a("5607"),y=Object(u["a"])(d,s,i,!1,null,null,null);t["default"]=y.exports;m()(y,{VIcon:p["a"],VResponsive:f["a"]}),h()(y,{Ripple:g["a"]})},cd74:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("grid-item",{attrs:{"col-end":"2","col-end-sm":"1"}},[a("v-text-field",{attrs:{label:e.label,value:e.value,name:e.name,dense:"",outlined:"",dark:""}})],1)},i=[],l=a("d803"),n={mixins:[l["a"]]},r=n,o=a("2877"),d=a("6544"),u=a.n(d),c=a("8654"),m=Object(o["a"])(r,s,i,!1,null,null,null);t["default"]=m.exports;u()(m,{VTextField:c["a"]})},cfe9:function(e,t,a){},d457:function(e,t,a){"use strict";a("7412")},d52e:function(e,t,a){"use strict";a("a21c")},d583:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("grid-item",{attrs:{"col-end":"2","col-end-sm":"1"}},[a("v-switch",{attrs:{label:e.label,color:"accent",dense:"",outlined:"",dark:""},model:{value:e.value_,callback:function(t){e.value_=t},expression:"value_"}}),a("input",{attrs:{type:"hidden",name:e.name},domProps:{value:parseInt(0|e.value_)}})],1)},i=[],l=a("d803"),n={data:()=>({value_:null}),watch:{value(e){this.value_=!!e}},created(){this.value_=!!this.value},mixins:[l["a"]]},r=n,o=a("2877"),d=a("6544"),u=a.n(d),c=a("b73d"),m=Object(o["a"])(r,s,i,!1,null,null,null);t["default"]=m.exports;u()(m,{VSwitch:c["a"]})},d803:function(e,t,a){"use strict";t["a"]={props:{label:{type:String,required:!0},value:String,name:{type:String,required:!0}}}},d830:function(e,t,a){"use strict";a("b772")},dcad:function(e,t,a){},de55:function(e,t,a){},df9b:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("grid-item",{attrs:{"col-end":"2","col-end-sm":"1"}},[a("v-text-field",{attrs:{label:e.label,value:e.value,name:e.name,dense:"",outlined:"",dark:""}})],1)},i=[],l=a("d803"),n={mixins:[l["a"]]},r=n,o=a("2877"),d=a("6544"),u=a.n(d),c=a("8654"),m=Object(o["a"])(r,s,i,!1,null,null,null);t["default"]=m.exports;u()(m,{VTextField:c["a"]})},dfcc:function(e,t,a){},e028:function(e,t,a){"use strict";a("4a9d")},e403:function(e,t,a){"use strict";a("8909")},ea12:function(e,t,a){"use strict";a("604cc")},ecf2:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("grid-item",{attrs:{"col-end":"2","col-end-sm":"1"}},[a("v-select",{attrs:{label:e.label,value:e.value,name:e.name,items:e.secretariats,loading:e.loading,dense:"",outlined:"",dark:""}})],1)},i=[],l=a("d803"),n={data:()=>({loading:!1}),computed:{secretariats(){return this.$rest("secretariats").list.map(({name:e,id:t})=>({text:e,value:t}))}},created(){this.loading=!0,this.$rest("secretariats").get({params:{fields:"id,name"}}).finally(()=>this.loading=!1)},mixins:[l["a"]]},r=n,o=a("2877"),d=a("6544"),u=a.n(d),c=a("b974"),m=Object(o["a"])(r,s,i,!1,null,null,null);t["default"]=m.exports;u()(m,{VSelect:c["a"]})},ed84:function(e,t,a){},f459:function(e,t,a){},f4e2:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("grid-item",{staticClass:"mb-2",attrs:{"row-end":"4","col-end":"2","col-end-sm":"1"}},[a("div",{staticClass:"grey--text text--lighten-1 font-weight-bold text-caption d-flex align-center mb-1"},[a("span",[e._v(e._s(e.label))]),a("v-btn",{staticClass:"ml-1",attrs:{icon:"","x-small":""}},[a("v-icon",{attrs:{small:""}},[e._v("fas fa-cog")])],1)],1),a("tooltip",{attrs:{tip:e.label,top:""}},[a("v-img",{directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"cursor-pointer grey d-flex align-center rounded-lg",attrs:{src:e.files.replace("/admin","")+e.value,"aspect-ratio":19/9,contain:""},on:{click:function(t){e.dialog=!0}}},[a("div",{staticClass:"d-flex justify-center align-center"},[a("v-sheet",{staticClass:"d-flex flex-column justify-center align-center primary rounded-circle",attrs:{height:"80",width:"80"}},[a("v-icon",{staticClass:"d-block mx-auto",attrs:{size:30}},[e._v("fas fa-file-image")]),a("div",{staticClass:"text-caption font-weight-bold mt-1"},[e._v("Enviar")])],1)],1)])],1),a("list",{attrs:{"input-name":e.name,"highlighted-image":e.value,"field-id":e.fieldId},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}})],1)},i=[],l=a("917e"),n=a("f943"),r=a("d803"),o={props:{fieldId:{type:Number,required:!0}},data:()=>({dialog:!1}),mixins:[r["a"]],components:{Tooltip:l["a"],List:n["default"]}},d=o,u=a("2877"),c=a("6544"),m=a.n(c),p=a("8336"),f=a("132d"),v=a("adda"),h=a("8dd9"),g=a("269a"),y=a.n(g),b=a("5607"),x=Object(u["a"])(d,s,i,!1,null,null,null);t["default"]=x.exports;m()(x,{VBtn:p["a"],VIcon:f["a"],VImg:v["a"],VSheet:h["a"]}),y()(x,{Ripple:b["a"]})},f610:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("grid-item",{attrs:{"col-end":"2","col-end-sm":"1"}},[a("v-text-field",{attrs:{label:e.label,value:e.value,name:e.name,dense:"",outlined:"",dark:""}})],1)},i=[],l=a("d803"),n={mixins:[l["a"]]},r=n,o=a("2877"),d=a("6544"),u=a.n(d),c=a("8654"),m=Object(o["a"])(r,s,i,!1,null,null,null);t["default"]=m.exports;u()(m,{VTextField:c["a"]})},f66d:function(e,t,a){var s={"./big-text-field/Index.vue":"96fc","./category-field/Add.vue":"2da8","./category-field/Index.vue":"f99f","./category-field/List.vue":"6c32","./date-field/Index.vue":"1a5a","./email-field/Index.vue":"f610","./file-field/Index.vue":"c270","./file-field/List.vue":"2162","./image-file-field/Index.vue":"f4e2","./image-file-field/List.vue":"f943","./medium-text-field/Index.vue":"a897","./password-field/Index.vue":"cd74","./secretariats-field/Index.vue":"ecf2","./subcategory-field/Index.vue":"f7d9","./switch-field/Index.vue":"d583","./tiny-text-field/Index.vue":"df9b","./url-field/Index.vue":"8c06"};function i(e){var t=l(e);return a(t)}function l(e){if(!a.o(s,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return s[e]}i.keys=function(){return Object.keys(s)},i.resolve=l,e.exports=i,i.id="f66d"},f7d9:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("grid-item",{attrs:{"col-end":"2","col-end-sm":"1"}},[a("v-text-field",{attrs:{label:e.label,value:e.value,name:e.name,dense:"",outlined:"",dark:""}})],1)},i=[],l=a("d803"),n={mixins:[l["a"]]},r=n,o=a("2877"),d=a("6544"),u=a.n(d),c=a("8654"),m=Object(o["a"])(r,s,i,!1,null,null,null);t["default"]=m.exports;u()(m,{VTextField:c["a"]})},f943:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-dialog",{attrs:{value:e.value,"max-width":"880px"},on:{input:function(t){return e.$emit("input",t)}}},[a("v-card",{staticClass:"pa-4",attrs:{dark:""}},[a("div",{staticClass:"title mb-4 d-flex flex-column flex-sm-row justify-space-between"},[a("div",[e._v("Galeria")]),a("div",[a("v-btn",{staticClass:"mr-2 text-none",attrs:{color:"secondary",disabled:1!==e.selecteds.length,depressed:"",small:""},on:{click:e.highlight}},[a("v-icon",{attrs:{left:"",small:""}},[e._v("fas fa-star")]),a("span",[e._v("Destacar")])],1),a("v-btn",{staticClass:"mr-2 text-none",attrs:{color:"secondary",disabled:!e.selecteds.length,depressed:"",small:""},on:{click:e.remove}},[a("v-icon",{attrs:{left:"",small:""}},[e._v("fas fa-trash")]),a("span",[e._v("Remover")])],1),a("v-btn",{staticClass:"text-none",attrs:{color:"secondary",depressed:"",small:""},on:{click:function(t){return e.$refs.file.$refs.input.click()}}},[a("v-icon",{attrs:{left:"",small:""}},[e._v("fas fa-upload")]),a("span",[e._v("Enviar")])],1)],1)]),e.imgs.length?a("v-item-group",{staticClass:"view-field-list d-flex flex-wrap",attrs:{multiple:""},model:{value:e.selecteds,callback:function(t){e.selecteds=t},expression:"selecteds"}},e._l(e.imgs,(function(t,s){var i=t.path,l=t.id;return a("v-item",{key:s,attrs:{value:l},scopedSlots:e._u([{key:"default",fn:function(t){var s=t.active,l=t.toggle;return[a("v-img",{directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"view-field-item rounded-sm",class:s?"active cyan":"grey",attrs:{src:e.files.replace("/admin","")+i,contain:""},on:{click:l}},[i===e.highlightedImage?a("v-overlay",{attrs:{absolute:"",opacity:"0.2"}},[a("v-icon",{attrs:{color:"yellow",size:"40"}},[e._v("fas fa-star")])],1):e._e()],1)]}}],null,!0)})})),1):a("div",{staticClass:"pa-4 text-body-2 text-center font-weight-bold"},[e._v("Nenhuma imagem foi enviada.")])],1),a("v-overlay",{model:{value:e.uploading,callback:function(t){e.uploading=t},expression:"uploading"}},[a("v-progress-circular",{staticClass:"font-weight-bold accent--text",attrs:{value:e.progress,size:120,rotate:-90,width:12,color:"secondary"}},[e._v(e._s(e.progress)+"%")])],1),a("v-overlay",{model:{value:e.loading,callback:function(t){e.loading=t},expression:"loading"}},[a("v-progress-circular",{attrs:{size:50,color:"secondary",indeterminate:""}})],1),a("v-text-field",{ref:"file",staticClass:"ma-0 pa-0",attrs:{name:e.inputName,type:"file",multiple:"","hide-details":"",hidden:""},model:{value:e.file,callback:function(t){e.file=t},expression:"file"}})],1)},i=[],l={props:{value:Boolean,inputName:{type:String,required:!0},highlightedImage:String,fieldId:{type:Number,required:!0}},data:()=>({file:null,uploading:!1,progress:0,loading:!1,imgs:[],selecteds:[],useDefaultUI:!0,options:{cssMaxWidth:700,cssMaxHeight:500}}),computed:{moduleKey(){return this.$rest("modules").item.key},moduleId(){return this.$rest("modules").item.id},itemId(){return this.$route.params.sub}},methods:{get(){return this.$rest("modulesImages").get({id:this.itemId,params:{moduleId:this.moduleId,fieldId:this.fieldId}}).then(e=>this.imgs=e)},remove(){this.loading=!0,Promise.all(this.selecteds.map(e=>this.$rest("modulesImages").delete({id:e,params:{moduleId:this.moduleId}}))).finally(()=>{this.selecteds=[],this.get().then(()=>this.loading=!1)})},highlight(){this.loading=!0;const e=this.imgs.find(({id:e})=>e==this.selecteds[0])["path"],t={};t[this.inputName]=e,this.$rest(this.moduleKey).put({id:this.itemId,prop:this.inputName,data:t}).then(()=>this.$rest(this.moduleKey).get({id:this.itemId}).then(()=>{this.selecteds=[],this.loading=!1}))}},watch:{async file(){const e=this.$refs.file.$refs.input.files,t=({loaded:e,total:t})=>this.progress=new Intl.NumberFormat("pt-BR",{maximumFractionDigits:0}).format(e/t*100);this.uploading=!0;for(const a of e)await this.$rest("modulesImages").upload({file:a,prop:"image",params:{itemId:this.itemId,moduleId:this.moduleId,fieldId:this.fieldId},onUploadProgress:t}).then(({file:e,id:t})=>{this.progress=0,this.imgs.push({path:e,id:t})});this.$refs.file.$refs.input.value="",this.uploading=!1}},created(){this.get()}},n=l,r=(a("d457"),a("2877")),o=a("6544"),d=a.n(o),u=a("8336"),c=a("b0af"),m=a("169a"),p=a("132d"),f=a("adda"),v=a("d903"),h=a("604c"),g=a("a797"),y=a("490a"),b=a("8654"),x=a("269a"),k=a.n(x),_=a("5607"),C=Object(r["a"])(n,s,i,!1,null,"6fc40624",null);t["default"]=C.exports;d()(C,{VBtn:u["a"],VCard:c["a"],VDialog:m["a"],VIcon:p["a"],VImg:f["a"],VItem:v["a"],VItemGroup:h["b"],VOverlay:g["a"],VProgressCircular:y["a"],VTextField:b["a"]}),k()(C,{Ripple:_["a"]})},f99f:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=this,a=t.$createElement,s=t._self._c||a;return s("grid-item",{attrs:{"col-end":"2","col-end-sm":"1"}},[s("div",{staticClass:"d-flex"},[s("v-select",{attrs:{label:t.label,value:t.value,name:t.name,items:t.categoriesSelect,dense:"",outlined:"",dark:""}}),s("v-btn",{staticClass:"ml-1",attrs:{icon:"",small:""},on:{click:function(e){t.listDialog=!0}}},[s("v-icon",{attrs:{small:""}},[t._v("fas fa-cog")])],1)],1),s("list",{attrs:{"field-id":t.fieldId,categories:t.categories},on:{add:function(t){return e.categories=t}},model:{value:t.listDialog,callback:function(e){t.listDialog=e},expression:"listDialog"}})],1)},i=[],l=a("917e"),n=a("6c32"),r=a("d803"),o={props:{fieldId:{type:Number,required:!0}},data:()=>({listDialog:!1,categories:[]}),computed:{moduleId(){return this.$rest("modules").item.id},itemId(){return this.$route.params.sub},categoriesSelect(){return this.categories.map(({title:e,id:t})=>({text:e,value:t}))}},methods:{get(){return this.$rest("modulesCategories").get({id:this.itemId,params:{moduleId:this.moduleId,fieldId:this.fieldId}}).then(e=>this.categories=e)}},created(){this.get()},mixins:[r["a"]],components:{Tooltip:l["a"],List:n["default"]}},d=o,u=a("2877"),c=a("6544"),m=a.n(c),p=a("8336"),f=a("132d"),v=a("b974"),h=Object(u["a"])(d,s,i,!1,null,null,null);t["default"]=h.exports;m()(h,{VBtn:p["a"],VIcon:f["a"],VSelect:v["a"]})},fc93:function(e,t,a){},fdbe:function(e,t,a){}});
//# sourceMappingURL=app.7e780fe2.js.map