(function(e){const t=e["en"]=e["en"]||{};t.dictionary=Object.assign(t.dictionary||{},{"%0 of %1":"%0 of %1","Align cell text to the bottom":"Align cell text to the bottom","Align cell text to the center":"Align cell text to the center","Align cell text to the left":"Align cell text to the left","Align cell text to the middle":"Align cell text to the middle","Align cell text to the right":"Align cell text to the right","Align cell text to the top":"Align cell text to the top","Align center":"Align center","Align left":"Align left","Align right":"Align right","Align table to the left":"Align table to the left","Align table to the right":"Align table to the right",Alignment:"Alignment",Aquamarine:"Aquamarine",Background:"Background",Big:"Big",Black:"Black","Block quote":"Block quote",Blue:"Blue",Bold:"Bold",Border:"Border","Break text":"Break text","Bulleted List":"Bulleted List","Bulleted list styles toolbar":"Bulleted list styles toolbar",Cancel:"Cancel","Cell properties":"Cell properties","Center table":"Center table","Centered image":"Centered image","Change image text alternative":"Change image text alternative","Choose heading":"Choose heading",Circle:"Circle",Code:"Code",Color:"Color","Color picker":"Color picker",Column:"Column",Dashed:"Dashed",Decimal:"Decimal","Decimal with leading zero":"Decimal with leading zero","Decrease indent":"Decrease indent",Default:"Default","Delete column":"Delete column","Delete row":"Delete row","Dim grey":"Dim grey",Dimensions:"Dimensions",Disc:"Disc","Document colors":"Document colors",Dotted:"Dotted",Double:"Double",Downloadable:"Downloadable","Dropdown toolbar":"Dropdown toolbar","Edit block":"Edit block","Edit link":"Edit link","Edit source":"Edit source","Editor toolbar":"Editor toolbar","Empty snippet content":"Empty snippet content","Enter image caption":"Enter image caption","Enter table caption":"Enter table caption",Find:"Find","Find and replace":"Find and replace","Find in text…":"Find in text…","Font Background Color":"Font Background Color","Font Color":"Font Color","Font Size":"Font Size","Full size image":"Full size image",Green:"Green",Grey:"Grey",Groove:"Groove","Header column":"Header column","Header row":"Header row",Heading:"Heading","Heading 1":"Heading 1","Heading 2":"Heading 2","Heading 3":"Heading 3","Heading 4":"Heading 4","Heading 5":"Heading 5","Heading 6":"Heading 6",Height:"Height","Horizontal line":"Horizontal line","Horizontal text alignment toolbar":"Horizontal text alignment toolbar","HTML object":"HTML object","HTML snippet":"HTML snippet",Huge:"Huge","Image resize list":"Image resize list","Image toolbar":"Image toolbar","image widget":"image widget","In line":"In line","Increase indent":"Increase indent",Insert:"Insert","Insert column left":"Insert column left","Insert column right":"Insert column right","Insert HTML":"Insert HTML","Insert image":"Insert image","Insert image via URL":"Insert image via URL","Insert media":"Insert media","Insert paragraph after block":"Insert paragraph after block","Insert paragraph before block":"Insert paragraph before block","Insert row above":"Insert row above","Insert row below":"Insert row below","Insert table":"Insert table",Inset:"Inset",Italic:"Italic",Justify:"Justify","Justify cell text":"Justify cell text","Left aligned image":"Left aligned image","Light blue":"Light blue","Light green":"Light green","Light grey":"Light grey",Link:"Link","Link image":"Link image","Link URL":"Link URL","Lower-latin":"Lower-latin","Lower–roman":"Lower–roman","Match case":"Match case","Media toolbar":"Media toolbar","Media URL":"Media URL","media widget":"media widget","Merge cell down":"Merge cell down","Merge cell left":"Merge cell left","Merge cell right":"Merge cell right","Merge cell up":"Merge cell up","Merge cells":"Merge cells",Next:"Next","Next result":"Next result","No preview available":"No preview available",None:"None","Numbered List":"Numbered List","Numbered list styles toolbar":"Numbered list styles toolbar","Open in a new tab":"Open in a new tab","Open link in new tab":"Open link in new tab",Orange:"Orange",Original:"Original",Outset:"Outset",Padding:"Padding",Paragraph:"Paragraph","Paste raw HTML here...":"Paste raw HTML here...","Paste the media URL in the input.":"Paste the media URL in the input.",Previous:"Previous","Previous result":"Previous result",Purple:"Purple",Red:"Red",Redo:"Redo","Remove color":"Remove color",Replace:"Replace","Replace all":"Replace all","Replace with…":"Replace with…","Resize image":"Resize image","Resize image to %0":"Resize image to %0","Resize image to the original size":"Resize image to the original size","Restore default":"Restore default","Rich Text Editor":"Rich Text Editor","Rich Text Editor, %0":"Rich Text Editor, %0",Ridge:"Ridge","Right aligned image":"Right aligned image",Row:"Row",Save:"Save","Save changes":"Save changes","Select all":"Select all","Select column":"Select column","Select row":"Select row","Show more items":"Show more items","Show options":"Show options","Side image":"Side image",Small:"Small",Solid:"Solid",Source:"Source","Split cell horizontally":"Split cell horizontally","Split cell vertically":"Split cell vertically",Square:"Square",Style:"Style","Table alignment toolbar":"Table alignment toolbar","Table cell text alignment":"Table cell text alignment","Table properties":"Table properties","Table toolbar":"Table toolbar","Text alignment":"Text alignment","Text alignment toolbar":"Text alignment toolbar","Text alternative":"Text alternative","Text to find must not be empty.":"Text to find must not be empty.",'The color is invalid. Try "#FF0000" or "rgb(255,0,0)" or "red".':'The color is invalid. Try "#FF0000" or "rgb(255,0,0)" or "red".',"The URL must not be empty.":"The URL must not be empty.",'The value is invalid. Try "10px" or "2em" or simply "2".':'The value is invalid. Try "10px" or "2em" or simply "2".',"This link has no URL":"This link has no URL","This media URL is not supported.":"This media URL is not supported.",Tiny:"Tiny","Tip: Find some text first in order to replace it.":"Tip: Find some text first in order to replace it.","Tip: Paste the URL into the content to embed faster.":"Tip: Paste the URL into the content to embed faster.","Toggle caption off":"Toggle caption off","Toggle caption on":"Toggle caption on","Toggle the circle list style":"Toggle the circle list style","Toggle the decimal list style":"Toggle the decimal list style","Toggle the decimal with leading zero list style":"Toggle the decimal with leading zero list style","Toggle the disc list style":"Toggle the disc list style","Toggle the lower–latin list style":"Toggle the lower–latin list style","Toggle the lower–roman list style":"Toggle the lower–roman list style","Toggle the square list style":"Toggle the square list style","Toggle the upper–latin list style":"Toggle the upper–latin list style","Toggle the upper–roman list style":"Toggle the upper–roman list style",Turquoise:"Turquoise",Underline:"Underline",Undo:"Undo",Unlink:"Unlink",Update:"Update","Update image URL":"Update image URL","Upload failed":"Upload failed","Upload in progress":"Upload in progress","Upper-latin":"Upper-latin","Upper-roman":"Upper-roman","Vertical text alignment toolbar":"Vertical text alignment toolbar",White:"White","Whole words only":"Whole words only","Widget toolbar":"Widget toolbar",Width:"Width","Wrap text":"Wrap text",Yellow:"Yellow"})})(window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={})),function(e){function t(t){for(var i,l,o=t[0],r=t[1],d=t[2],u=0,c=[];u<o.length;u++)l=o[u],Object.prototype.hasOwnProperty.call(s,l)&&s[l]&&c.push(s[l][0]),s[l]=0;for(i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i]);m&&m(t);while(c.length)c.shift()();return n.push.apply(n,d||[]),a()}function a(){for(var e,t=0;t<n.length;t++){for(var a=n[t],i=!0,l=1;l<a.length;l++){var o=a[l];0!==s[o]&&(i=!1)}i&&(n.splice(t--,1),e=r(r.s=a[0]))}return e}var i={},l={index:0},s={index:0},n=[];function o(e){return r.p+"js/"+({}[e]||e)+"."+{"chunk-2d0e5971":"f0a36ec7","chunk-2d2163e6":"499ff32c","chunk-2d217535":"e896c431","chunk-2d225440":"f39eb765","chunk-6f1d9f6d":"26982954","chunk-7404710a":"a3dbf225","chunk-b1470d82":"150add8e","chunk-c08cc306":"7ecf5b33"}[e]+".js"}function r(t){if(i[t])return i[t].exports;var a=i[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.e=function(e){var t=[],a={"chunk-6f1d9f6d":1,"chunk-7404710a":1,"chunk-b1470d82":1,"chunk-c08cc306":1};l[e]?t.push(l[e]):0!==l[e]&&a[e]&&t.push(l[e]=new Promise((function(t,a){for(var i="css/"+({}[e]||e)+"."+{"chunk-2d0e5971":"31d6cfe0","chunk-2d2163e6":"31d6cfe0","chunk-2d217535":"31d6cfe0","chunk-2d225440":"31d6cfe0","chunk-6f1d9f6d":"96680da6","chunk-7404710a":"4a98a628","chunk-b1470d82":"a25b32f3","chunk-c08cc306":"4a988a51"}[e]+".css",s=r.p+i,n=document.getElementsByTagName("link"),o=0;o<n.length;o++){var d=n[o],u=d.getAttribute("data-href")||d.getAttribute("href");if("stylesheet"===d.rel&&(u===i||u===s))return t()}var c=document.getElementsByTagName("style");for(o=0;o<c.length;o++){d=c[o],u=d.getAttribute("data-href");if(u===i||u===s)return t()}var m=document.createElement("link");m.rel="stylesheet",m.type="text/css",m.onload=t,m.onerror=function(t){var i=t&&t.target&&t.target.src||s,n=new Error("Loading CSS chunk "+e+" failed.\n("+i+")");n.code="CSS_CHUNK_LOAD_FAILED",n.request=i,delete l[e],m.parentNode.removeChild(m),a(n)},m.href=s;var p=document.getElementsByTagName("head")[0];p.appendChild(m)})).then((function(){l[e]=0})));var i=s[e];if(0!==i)if(i)t.push(i[2]);else{var n=new Promise((function(t,a){i=s[e]=[t,a]}));t.push(i[2]=n);var d,u=document.createElement("script");u.charset="utf-8",u.timeout=120,r.nc&&u.setAttribute("nonce",r.nc),u.src=o(e);var c=new Error;d=function(t){u.onerror=u.onload=null,clearTimeout(m);var a=s[e];if(0!==a){if(a){var i=t&&("load"===t.type?"missing":t.type),l=t&&t.target&&t.target.src;c.message="Loading chunk "+e+" failed.\n("+i+": "+l+")",c.name="ChunkLoadError",c.type=i,c.request=l,a[1](c)}s[e]=void 0}};var m=setTimeout((function(){d({type:"timeout",target:u})}),12e4);u.onerror=u.onload=d,document.head.appendChild(u)}return Promise.all(t)},r.m=e,r.c=i,r.d=function(e,t,a){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(a,i,function(t){return e[t]}.bind(null,i));return a},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/",r.oe=function(e){throw console.error(e),e};var d=window["webpackJsonp"]=window["webpackJsonp"]||[],u=d.push.bind(d);d.push=t,d=d.slice();for(var c=0;c<d.length;c++)t(d[c]);var m=u;n.push([0,"chunk-vendors"]),a()}({0:function(e,t,a){e.exports=a("56d7")},"02a1":function(e,t,a){"use strict";a.r(t);var i=a("d295");t["default"]=({value:e})=>({value:e,component:i["default"]})},"030d":function(e,t,a){"use strict";a("0ce2")},"034f":function(e,t,a){"use strict";a("85ec")},"0571":function(e,t,a){},"0622":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("template-dialog-any",{attrs:{value:e.value,title:"Opções","max-width":"500px"},on:{input:function(t){return e.$emit("input",t)}},scopedSlots:e._u([{key:"actions",fn:function(){},proxy:!0}])},[a("div",{staticClass:"d-flex"},[a("v-text-field",{ref:"regexp",staticClass:"mr-2",attrs:{rules:[e.rules.regexp],disabled:e.loading.regexp,loading:e.loading.regexp,label:"RegExp",outlined:"",dense:"",dark:""},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.save("regexp")}},model:{value:e.options.regexp,callback:function(t){e.$set(e.options,"regexp",t)},expression:"options.regexp"}}),a("div",{staticClass:"pt-1"},[a("template-dialog-header-button",{attrs:{icon:"fas fa-save",text:"Salvar"},on:{click:function(t){return e.save("regexp")}}})],1)],1)])},l=[],s=a("5f42"),n=a("dee3"),o=a("d492"),r={props:{value:Boolean,fieldId:{type:Number,required:!0},fieldOptions:{type:Object,required:!0}},data:()=>({rules:{regexp:s["d"]},loading:{regexp:!1},options:{regexp:null}}),computed:{moduleId(){return this.$rest("modules").item.id}},methods:{save(e){const t=this.$refs[e];t.validate()&&(this.loading[e]=!0,this.$rest("modulesFields").put({id:this.fieldId,prop:"options",data:{option:e,value:this.options[e]},params:{moduleId:this.moduleId}}).then(()=>{this.fieldOptions[e]=this.options[e],this.loading[e]=!1}))}},watch:{fieldOptions(e){this.options={...e}}},mounted(){this.options={...this.fieldOptions}},components:{TemplateDialogAny:n["a"],TemplateDialogHeaderButton:o["a"]}},d=r,u=a("2877"),c=a("6544"),m=a.n(c),p=a("8654"),f=Object(u["a"])(d,i,l,!1,null,null,null);t["default"]=f.exports;m()(f,{VTextField:p["a"]})},"07899":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("grid-item",{staticClass:"field-datetime",attrs:{"col-end":"span 2","col-end-sm":"span 1"}},[a("v-text-field",{attrs:{label:e.label,value:e._value,name:e.name,type:"datetime-local",dense:"",outlined:"",dark:""}})],1)},l=[],s=a("d803"),n=a("24cd"),o={mixins:[s["a"]],computed:{moduleKey(){return this.$rest("modules").item.key},item(){return this.$rest(this.moduleKey).item},_value(){return this.value?Object(n["b"])(this.value):this.item.alteredAt?null:Object(n["b"])(new Date)}}},r=o,d=(a("d4d2"),a("2877")),u=a("6544"),c=a.n(u),m=a("8654"),p=Object(d["a"])(r,i,l,!1,null,null,null);t["default"]=p.exports;c()(p,{VTextField:m["a"]})},"0850":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("grid-item",{attrs:{"col-end":"span 2","col-end-sm":"span 1"}},[a("v-switch",{attrs:{label:e.label,color:"accent",dense:"",outlined:"",dark:""},model:{value:e.value_,callback:function(t){e.value_=t},expression:"value_"}}),a("input",{attrs:{type:"hidden",name:e.name},domProps:{value:parseInt(0|e.value_)}})],1)},l=[],s=a("d803"),n={data:()=>({value_:null}),watch:{value(e){this.value_=!!parseInt(e)}},created(){this.value_=!!parseInt(this.value)},mixins:[s["a"]]},o=n,r=a("2877"),d=a("6544"),u=a.n(d),c=a("b73d"),m=Object(r["a"])(o,i,l,!1,null,null,null);t["default"]=m.exports;u()(m,{VSwitch:c["a"]})},"094c":function(e,t,a){"use strict";a("fdbe")},"0a85":function(e,t,a){var i={"./custom/_module/edit/Index.vue":["c245","chunk-2d2163e6"],"./item/_module/edit/Index.vue":["331d","chunk-b1470d82"],"./newsletter/_module/edit/Index.vue":["e450","chunk-2d225440"],"./table/_module/edit/Index.vue":["a968","chunk-c08cc306"]};function l(e){if(!a.o(i,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=i[e],l=t[0];return a.e(t[1]).then((function(){return a(l)}))}l.keys=function(){return Object.keys(i)},l.id="0a85",e.exports=l},"0ce2":function(e,t,a){},1055:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("grid-item",{staticClass:"d-flex",attrs:{"col-end":"span 2","col-end-sm":"span 1"}},[a("v-menu",{attrs:{"offset-y":"","close-on-content-click":!1},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on,l=t.attrs;return[a("v-btn",e._g(e._b({staticClass:"mt-1 mr-2",attrs:{color:e.value_,fab:"",depressed:"","x-small":""}},"v-btn",l,!1),i),[a("v-icon",[e._v("fas fa-tint")])],1)]}}])},[a("v-color-picker",{attrs:{mode:"hexa",dark:""},model:{value:e.value_,callback:function(t){e.value_=t},expression:"value_"}})],1),a("v-text-field",{attrs:{label:e.label,value:e.value_,name:e.name,readonly:"",dense:"",outlined:"",dark:""}})],1)},l=[],s=a("d803"),n={data:()=>({picker:!1,value_:null}),mounted(){this.value_=this.value},watch:{value(e){this.value_=e}},mixins:[s["a"]]},o=n,r=a("2877"),d=a("6544"),u=a.n(d),c=a("8336"),m=a("03a4"),p=a("132d"),f=a("e449"),h=a("8654"),v=Object(r["a"])(o,i,l,!1,null,null,null);t["default"]=v.exports;u()(v,{VBtn:c["a"],VColorPicker:m["a"],VIcon:p["a"],VMenu:f["a"],VTextField:h["a"]})},1269:function(e,t,a){},"13c2":function(e,t,a){},"154e":function(e,t,a){"use strict";a("0571")},"173c":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"d-none"})},l=[],s=a("2877"),n={},o=Object(s["a"])(n,i,l,!1,null,null,null);t["default"]=o.exports},"17a9":function(e,t,a){},"190d":function(e,t,a){},"1b8a":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("grid-item",{attrs:{"col-end":"span 2"}},[a("div",{staticClass:"grey--text text--lighten-1 font-weight-bold text-caption"},[e._v(e._s(e.label))]),a("div",{class:[e.disabled?"disabled":"","view-big-text-field"]},[a("ckeditor",{staticClass:"elevation-1",attrs:{value:e.value,editor:e.editor,config:e.config,disabled:e.disabled},on:{input:function(t){return e.editorData=t}}}),a("v-text-field",{attrs:{name:e.name,type:"hidden"},model:{value:e.editorData,callback:function(t){e.editorData=t},expression:"editorData"}})],1)])},l=[],s=a("0469"),n=a("c4b1"),o=a("8a91"),r=a("a20b"),d=a("3d63"),u=a("85a9"),c=a("2d79"),m=a("271b"),p=a("290f"),f=a("f518"),h=a("e195"),v=a("8352"),g=a("2566"),b=a("2430"),y=a("8b25"),x=a("7e0c"),k=a("0062"),_=a("39a0"),I=a("233a"),w=a("34ab"),C=a("64f1"),$=a("0bf6"),T=a("56b3"),O=a("7212"),S=a("6fa7"),D=a("2914"),V=a("d4c1"),j=a("8068"),E=a("63ee"),A=a("4801"),L=a("1b4b"),F=a("0e17"),M=a("25ca"),B=a("f61b"),P=a("2b10"),R=a("e1ed"),q=a("643c"),N=a("1cdd"),U=a("2bea"),H=a("9813"),z=a("f4e9"),K=a("9799"),J=a("7041"),W=a("32ea"),G=a("d803"),Z={props:{disabled:{type:Boolean,default:!1},fieldId:{type:Number}},data:()=>({editor:s["a"],editorData:""}),computed:{moduleId(){return this.$rest("modules").item.id},itemId(){return this.$route.params.sub},config(){const e={plugins:[n["a"],o["a"],r["a"],d["a"],u["a"],c["a"],m["a"],p["a"],f["a"],h["a"],v["a"],g["a"],b["a"],y["a"],x["a"],k["a"],_["a"],I["a"],w["a"],C["a"],$["a"],T["a"],O["a"],S["a"],D["a"],V["a"],j["a"],E["a"],A["a"],L["a"],F["a"],M["a"],B["a"],P["a"],R["a"],q["a"],N["a"],U["a"],H["a"],z["a"],K["a"],J["a"],W["a"]],toolbar:{items:["heading","|","alignment","|","bold","italic","underline","|","fontSize","fontColor","fontBackgroundColor","|","link","bulletedList","numberedList","|","outdent","indent","|",...(()=>{const e=["mediaEmbed","|"];return this.fieldId&&e.unshift("imageInsert"),e})(),"insertTable","blockQuote","code","horizontalLine","|","htmlEmbed","sourceEditing","|","undo","redo","|","findAndReplace"]},table:{contentToolbar:["tableColumn","tableRow","mergeTableCells","tableCellProperties","tableProperties"]},htmlEmbed:{showPreviews:!0}};return this.fieldId&&(e.extraPlugins=[this.upload],e.image={toolbar:["imageTextAlternative","imageStyle:alignLeft","imageStyle:block","imageStyle:alignRight","linkImage"]}),e},upload(){const e=this;return function(t){t.plugins.get("FileRepository").createUploadAdapter=t=>({loader:t,upload:()=>t.file.then(t=>e.$rest("modulesImages").upload({file:t,prop:"image",params:{itemId:e.itemId,moduleId:e.moduleId,fieldId:e.fieldId}}).then(({file:t})=>({default:e.files+t})).catch(()=>{throw"Não foi possível fazer upload do arquivo."}))})}}},mounted(){this.editorData=this.value},mixins:[G["a"]]},Y=Z,Q=(a("7cc0"),a("2877")),X=a("6544"),ee=a.n(X),te=a("8654"),ae=Object(Q["a"])(Y,i,l,!1,null,null,null);t["default"]=ae.exports;ee()(ae,{VTextField:te["a"]})},"1e0c":function(e,t,a){},"1e7e":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("grid-item",{attrs:{"col-end":"span 2","col-end-sm":"span 1"}},[a("div",{staticClass:"d-flex"},[a("v-text-field",{attrs:{label:e.label,name:e.name,rules:e.rules,dense:"",outlined:"",dark:""},model:{value:e.value_,callback:function(t){e.value_=t},expression:"value_"}}),e.isAdminUser&&e.fieldId?a("v-btn",{staticClass:"ml-1",attrs:{icon:"",small:""},on:{click:function(t){e.optionsDialog=!0}}},[a("v-icon",{attrs:{small:""}},[e._v("fas fa-cog")])],1):e._e()],1),e.fieldId?a("options",{attrs:{"field-id":e.fieldId,"field-options":e.fieldOptions},model:{value:e.optionsDialog,callback:function(t){e.optionsDialog=t},expression:"optionsDialog"}}):e._e()],1)},l=[],s=a("0622"),n=a("d803"),o={props:{fieldId:{type:Number},fieldOptions:{type:Object,default:()=>({})}},data:()=>({optionsDialog:!1,value_:null}),computed:{rules(){const e=[],t=this.fieldOptions.regexp;if(!t)return e;let a;t.replace(/\/([^/]+)\/(.+)?/,(e,t,i)=>{a=new RegExp(t,i)});const i=e=>!e||a.test(e)||"Valor inválido.";return e.push(i),e}},mixins:[n["a"]],watch:{value(e){this.value_=e}},mounted(){this.value_=this.value},components:{Options:s["default"]}},r=o,d=a("2877"),u=a("6544"),c=a.n(u),m=a("8336"),p=a("132d"),f=a("8654"),h=Object(d["a"])(r,i,l,!1,null,null,null);t["default"]=h.exports;c()(h,{VBtn:m["a"],VIcon:p["a"],VTextField:f["a"]})},"22b7":function(e,t,a){"use strict";a("d0a1")},"24cd":function(e,t,a){"use strict";a.d(t,"a",(function(){return l})),a.d(t,"b",(function(){return s})),a.d(t,"c",(function(){return n}));a("75ba");const i=e=>{if("string"===typeof e)return new Date(e);if(e instanceof Date)return e;throw new Error(e+" não é um objeto data ou uma string.")},l=(new Intl.RelativeTimeFormat("pt-BR",{numeric:"auto"}),e=>i(e).toISOString().replace(/(\d{4}-\d{2}-\d{2}).+/,"$1")),s=e=>i(e).toISOString().replace(/(\d{4}-\d{2}-\d{2}T\d{2}:\d{2}).+/,"$1"),n=e=>i(e).toLocaleTimeString("pt-BR",{timeStyle:"short"})},"28eb":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("grid-item",{staticClass:"mb-2",attrs:{"row-end":"span 2","col-end":"span 2","col-end-sm":"span 1"}},[a("div",{staticClass:"grey--text text--lighten-1 font-weight-bold text-caption"},[e._v(e._s(e.label))]),a("tooltip",{attrs:{tip:e.label,top:""}},[a("v-responsive",{directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"grey d-flex align-center rounded-lg primary cursor-pointer",attrs:{"aspect-ratio":38/9},on:{click:function(t){e.dialog=!0}}},[a("div",{staticClass:"d-flex justify-center align-center"},[a("div",{staticClass:"d-flex flex-column"},[a("v-icon",{staticClass:"d-block mx-auto",attrs:{size:30}},[e._v("fas fa-file")]),a("div",{staticClass:"text-caption font-weight-bold mt-1"},[e._v("Enviar")])],1)])])],1),a("list",{attrs:{"input-name":e.name,"highlighted-file":e.value,"field-id":e.fieldId},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}})],1)},l=[],s=a("917e"),n=a("8dde"),o=a("d803"),r={props:{fieldId:{type:Number,required:!0}},data:()=>({dialog:!1}),mixins:[o["a"]],components:{Tooltip:s["a"],List:n["default"]}},d=r,u=a("2877"),c=a("6544"),m=a.n(c),p=a("132d"),f=a("6b53"),h=a("269a"),v=a.n(h),g=a("5607"),b=Object(u["a"])(d,i,l,!1,null,null,null);t["default"]=b.exports;m()(b,{VIcon:p["a"],VResponsive:f["a"]}),v()(b,{Ripple:g["a"]})},"30e9":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("grid-item",{attrs:{"col-end":"span 2","col-end-sm":"span 1"}},[a("div",{staticClass:"d-flex"},[a("v-select",{attrs:{label:e.label,items:e.tagsSelect,"no-data-text":"Nenhuma tag adicionada",dense:"",outlined:"",dark:"",multiple:"",chips:""},model:{value:e.value_,callback:function(t){e.value_=t},expression:"value_"}}),a("v-btn",{staticClass:"ml-1",attrs:{icon:"",small:""},on:{click:function(t){e.listDialog=!0}}},[a("v-icon",{attrs:{small:""}},[e._v("fas fa-cog")])],1)],1),a("input",{attrs:{name:e.name,type:"hidden"},domProps:{value:e.valueParsed}}),a("list",{attrs:{"field-id":e.fieldId,tags:e.tags,"link-module":e.linkModule,"is-admin-user":e.isAdminUser},model:{value:e.listDialog,callback:function(t){e.listDialog=t},expression:"listDialog"}})],1)},l=[],s=a("917e"),n=a("81ec"),o=a("d803"),r={props:{fieldId:{type:Number,required:!0},fieldOptions:{type:Object,required:!0}},data:()=>({listDialog:!1,value_:null}),computed:{moduleId(){return this.$rest("modules").item.id},itemId(){return this.$route.params.sub},linkModule(){return this.fieldOptions.linkModule},tags(){return this.linkModule?this.$rest(this.linkModule).list:this.$rest("modulesTags").getters.filterByProperty("fieldId",this.fieldId)},tagsSelect(){const e=this.tags.map(({title:e,id:t})=>({text:e,value:t}));return e},valueParsed(){return this.value_&&this.value_.length?JSON.stringify(this.value_):"[]"}},watch:{value(e){this.value_=e?JSON.parse(e):[]}},created(){this.linkModule?this.$rest(this.linkModule).get({params:{fields:"id,title"}}):this.$rest("modulesTags").get({params:{moduleId:this.moduleId},keepCache:!0})},mounted(){this.value_=this.value?JSON.parse(this.value):[]},mixins:[o["a"]],components:{Tooltip:s["a"],List:n["default"]}},d=r,u=a("2877"),c=a("6544"),m=a.n(c),p=a("8336"),f=a("132d"),h=a("b974"),v=Object(u["a"])(d,i,l,!1,null,null,null);t["default"]=v.exports;m()(v,{VBtn:p["a"],VIcon:f["a"],VSelect:h["a"]})},"32ee":function(e,t,a){var i={"./custom":"eeaf","./item":"c680","./newsletter":"ff44","./table":"ba07"};function l(e){var t=s(e);return a(t)}function s(e){if(!a.o(i,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return i[e]}l.keys=function(){return Object.keys(i)},l.resolve=s,e.exports=l,l.id="32ee"},"34ed":function(e,t,a){},"3c9e":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("template-dialog-any",{attrs:{value:e.value,title:"Opções","max-width":"500px"},on:{input:function(t){return e.$emit("input",t)}},scopedSlots:e._u([{key:"actions",fn:function(){},proxy:!0}])},[a("div",{staticClass:"d-flex"},[a("v-text-field",{ref:"pattern",staticClass:"mr-2",attrs:{disabled:e.loading.pattern,loading:e.loading.pattern,label:"Padrão",outlined:"",dense:"",dark:""},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.save("pattern")}},model:{value:e.options.pattern,callback:function(t){e.$set(e.options,"pattern",t)},expression:"options.pattern"}}),a("div",{staticClass:"pt-1"},[a("template-dialog-header-button",{attrs:{icon:"fas fa-save",text:"Salvar"},on:{click:function(t){return e.save("pattern")}}})],1)],1)])},l=[],s=a("5f42"),n=a("dee3"),o=a("d492"),r={props:{value:Boolean,fieldId:{type:Number,required:!0},fieldOptions:{type:Object,required:!0}},data:()=>({rules:{url:s["f"]},loading:{pattern:!1},options:{pattern:null}}),computed:{moduleId(){return this.$rest("modules").item.id}},methods:{save(e){const t=this.$refs[e];t.validate()&&(this.loading[e]=!0,this.$rest("modulesFields").put({id:this.fieldId,prop:"options",data:{option:e,value:this.options[e]},params:{moduleId:this.moduleId}}).then(()=>{this.fieldOptions[e]=this.options[e],this.loading[e]=!1}))}},watch:{fieldOptions(e){this.options={...e}}},mounted(){this.options={...this.fieldOptions}},components:{TemplateDialogAny:n["a"],TemplateDialogHeaderButton:o["a"]}},d=r,u=a("2877"),c=a("6544"),m=a.n(c),p=a("8654"),f=Object(u["a"])(d,i,l,!1,null,null,null);t["default"]=f.exports;m()(f,{VTextField:p["a"]})},"42b8":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("grid-item",{staticClass:"field-time",attrs:{"col-end":"span 2","col-end-sm":"span 1"}},[a("v-text-field",{attrs:{label:e.label,value:e._value,name:e.name,type:"time",dense:"",outlined:"",dark:""}})],1)},l=[],s=a("d803"),n=a("24cd"),o={mixins:[s["a"]],computed:{moduleKey(){return this.$rest("modules").item.key},item(){return this.$rest(this.moduleKey).item},_value(){return this.value?this.value:this.item.alteredAt?null:Object(n["c"])(new Date)}}},r=o,d=(a("9084"),a("2877")),u=a("6544"),c=a.n(u),m=a("8654"),p=Object(d["a"])(r,i,l,!1,null,null,null);t["default"]=p.exports;c()(p,{VTextField:m["a"]})},"46ae":function(e,t,a){},"46c6":function(e,t,a){"use strict";a.r(t),t["default"]=({value:e})=>e?"0"==e?"Não":"Sim":""},"47a6":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("grid-item",{attrs:{"col-end":"span 2","col-end-sm":"span 1"}},[a("div",{staticClass:"d-flex"},[a("v-text-field",{attrs:{label:e.label,rules:[e.url],prefix:e.fieldOptions.prefix,"append-icon":"fas fa-globe",type:"url",dense:"",outlined:"",dark:""},model:{value:e.value_,callback:function(t){e.value_=t},expression:"value_"}}),a("input",{attrs:{type:"hidden",name:e.name},domProps:{value:e.prefix?e.prefix+e.value_:e.value_}}),a("v-btn",{staticClass:"ml-1",attrs:{icon:"",small:""},on:{click:function(t){e.optionsDialog=!0}}},[a("v-icon",{attrs:{small:""}},[e._v("fas fa-cog")])],1)],1),a("options",{attrs:{"field-id":e.fieldId,"field-options":e.fieldOptions},model:{value:e.optionsDialog,callback:function(t){e.optionsDialog=t},expression:"optionsDialog"}})],1)},l=[],s=a("5f42"),n=a("9b4d"),o=a("d803"),r={props:{fieldId:{type:Number,required:!0},fieldOptions:{type:Object,required:!0}},data:()=>({optionsDialog:!1,value_:null}),computed:{prefix(){return this.fieldOptions.prefix},moduleKey(){return this.$rest("modules").item.key}},methods:{url(e){return Object(s["f"])(this.prefix?this.prefix+e:e)}},watch:{value(e){this.value_=this.prefix?e.replace(this.prefix,""):e}},mounted(){this.value_=this.prefix?this.value.replace(this.prefix,""):this.value},mixins:[o["a"]],components:{Options:n["default"]}},d=r,u=a("2877"),c=a("6544"),m=a.n(c),p=a("8336"),f=a("132d"),h=a("8654"),v=Object(u["a"])(d,i,l,!1,null,null,null);t["default"]=v.exports;m()(v,{VBtn:p["a"],VIcon:f["a"],VTextField:h["a"]})},4884:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("grid-item",{staticClass:"mb-2",attrs:{"row-end":"span 2","col-end":"span 2","col-end-sm":"span 1"}},[a("div",{staticClass:"grey--text text--lighten-1 font-weight-bold text-caption d-flex align-center mb-1"},[e._v(e._s(e.label))]),a("tooltip",{attrs:{tip:e.label,top:""}},[a("v-responsive",{directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"grey d-flex align-center rounded-lg primary cursor-pointer",attrs:{"aspect-ratio":38/9},on:{click:function(t){e.listDialog=!0}}},[a("div",{staticClass:"d-flex justify-center align-center"},[a("div",{staticClass:"d-flex flex-column"},[a("v-icon",{staticClass:"d-block mx-auto",attrs:{size:30}},[e._v("fas fa-layer-group")]),a("div",{staticClass:"text-caption font-weight-bold mt-1"},[e._v("Alterar")])],1)])])],1),a("list",{attrs:{items:e.parsedValue,"input-name":e.name},on:{saved:function(t){e.listDialog=!1}},model:{value:e.listDialog,callback:function(t){e.listDialog=t},expression:"listDialog"}})],1)},l=[],s=a("917e"),n=a("b87b"),o=a("d803"),r={props:{fieldId:{type:Number,required:!0}},data:()=>({listDialog:!1}),computed:{moduleId(){return parseInt(this.$rest("modules").item.id)},parsedValue(){return JSON.parse(this.value||"[]")}},beforeCreate(){this.$rest("modulesFieldsTypes").get()},mixins:[o["a"]],components:{Tooltip:s["a"],List:n["default"]}},d=r,u=a("2877"),c=a("6544"),m=a.n(c),p=a("132d"),f=a("6b53"),h=a("269a"),v=a.n(h),g=a("5607"),b=Object(u["a"])(d,i,l,!1,null,null,null);t["default"]=b.exports;m()(b,{VIcon:p["a"],VResponsive:f["a"]}),v()(b,{Ripple:g["a"]})},"48f6":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-dialog",{attrs:{value:e.value,"max-width":"330px"},on:{input:function(t){return e.$emit("input",t)}}},[a("v-card",{staticClass:"pa-4",attrs:{dark:"dark"}},[a("div",{staticClass:"title mb-4 text-center"},[e._v("Alterar Título")]),a("v-text-field",{staticClass:"mb-3",attrs:{value:e.img.title,label:"Título",outlined:"outlined",dense:"dense","hide-details":"hide-details"},on:{input:function(t){return e.title=t}}}),a("v-btn",{staticClass:"text-none",attrs:{disabled:!e.title,color:"secondary",block:"block",depressed:"depressed"},on:{click:e.submit}},[e._v("Alterar")])],1),e.value?a("v-overlay",{model:{value:e.loading,callback:function(t){e.loading=t},expression:"loading"}},[a("Loading")],1):e._e()],1)},l=[],s=a("9431"),n={props:{value:Boolean,img:{type:Object,required:!0}},data:()=>({loading:!1,title:null}),computed:{moduleId(){return this.$rest("modules").item.id}},methods:{submit(){this.loading=!0,this.$rest("modulesImages").put({id:this.img.id,prop:"title",data:{value:this.title}}).then(()=>{this.img.title=this.title,this.$emit("input",!1)}).finally(()=>this.loading=!1)}},components:{Loading:s["a"]}},o=n,r=a("2877"),d=a("6544"),u=a.n(d),c=a("8336"),m=a("b0af"),p=a("169a"),f=a("a797"),h=a("8654"),v=Object(r["a"])(o,i,l,!1,null,null,null);t["default"]=v.exports;u()(v,{VBtn:c["a"],VCard:m["a"],VDialog:p["a"],VOverlay:f["a"],VTextField:h["a"]})},"56b4":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("TemplateDialogAny",{attrs:{value:e.value,title:"Galeria","max-width":"880px"},on:{input:function(t){return e.$emit("input",t)}},scopedSlots:e._u([{key:"actions",fn:function(){return[a("OrderButton",{attrs:{items:e.images},on:{loading:function(t){return e.loadingOrder=t}}}),a("TemplateDialogHeaderButton",{attrs:{disabled:1!==e.selecteds.length,icon:"fas fa-pencil-alt",text:"Editar Título"},on:{click:function(t){e.editDialog=!0}}}),a("TemplateDialogHeaderButton",{attrs:{disabled:1!==e.selecteds.length,icon:"fas fa-star",text:"Destacar"},on:{click:e.featured}}),a("TemplateDialogHeaderButton",{attrs:{disabled:!e.selecteds.length,icon:"fas fa-trash",text:"Remover"},on:{click:e.remove}}),a("UploadButton",{attrs:{"field-id":e.fieldId,items:e.images}})]},proxy:!0}])},[a("v-progress-linear",{staticClass:"mb-1",class:!e.loadingOrder&&"opacity-0",attrs:{indeterminate:e.loadingOrder,color:"secondary"}}),e.images.length?a("v-item-group",{staticClass:"view-field-list-wrap d-flex flex-wrap",attrs:{multiple:""},model:{value:e.selecteds,callback:function(t){e.selecteds=t},expression:"selecteds"}},[a("draggable",{staticClass:"view-field-list d-flex flex-wrap",model:{value:e.images,callback:function(t){e.images=t},expression:"images"}},e._l(e.images,(function(t,i){var l=t.id,s=t.path,n=t.loading,o=t.progress;return a("v-item",{key:i,attrs:{value:l},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.active;return[a("div",{directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"view-field-item rounded-sm",class:r?"active cyan":"grey",on:{click:function(t){return e.selectItem(l,i,t)}}},[a("img",{staticClass:"view-field-item-img",attrs:{src:s&&e.files.replace(e.prefixPath,"")+s+"?resize=1&h=80"}}),e.featuredImage&&l===e.featuredImage.id?a("v-overlay",{attrs:{absolute:"",opacity:"0.2"}},[a("v-icon",{attrs:{color:"yellow",size:"40"}},[e._v("fas fa-star")])],1):e._e(),n?a("v-overlay",{attrs:{absolute:"",opacity:"0.8"}},[a("v-progress-circular",{staticClass:"font-weight-bold accent--text",attrs:{value:o<100?o:void 0,indeterminate:100===o,size:52,rotate:-90,width:4,color:"secondary"}},[e._v(" "+e._s(100!==o?o+"%":"")+" ")])],1):e._e()],1)]}}],null,!0)})})),1)],1):a("div",{staticClass:"pt-8 pb-4 text-body-2 text-center font-weight-bold"},[e._v(" Nenhuma imagem foi enviada. ")]),a("v-overlay",{model:{value:e.loading,callback:function(t){e.loading=t},expression:"loading"}},[a("Loading")],1),e.selecteds[0]?a("Edit",{attrs:{img:e.findImgById(e.selecteds[0])},model:{value:e.editDialog,callback:function(t){e.editDialog=t},expression:"editDialog"}}):e._e()],1)},l=[],s=a("48f6"),n=a("dee3"),o=a("d492"),r=a("9431"),d=a("b76a"),u=a.n(d),c=a("9073"),m=a("8f4a"),p={props:{value:Boolean,inputName:{type:String,required:!0},featuredImage:Object,fieldId:{type:Number,required:!0},images:{type:Array,default:()=>[]}},data:()=>({loading:!1,loadingOrder:!1,selecteds:[],lastSelectedIndex:0,editDialog:!1}),computed:{moduleKey(){return this.$rest("modules").item.key},moduleId(){return this.$rest("modules").item.id},itemId(){return this.$route.params.sub||1}},methods:{remove(){this.loading=!0,Promise.all(this.selecteds.map(e=>this.$rest("modulesImages").delete({id:e,params:{moduleId:this.moduleId}}))).finally(()=>{this.selecteds=[],this.$parent.$parent.get().then(()=>this.loading=!1)})},featured(){this.loading=!0;const e=this.images.find(({id:e})=>e==this.selecteds[0])["id"],t={};t[this.inputName]=e,this.$rest(this.moduleKey).put({id:this.itemId,prop:this.inputName,data:t}).then(()=>this.$rest(this.moduleKey).get({id:this.itemId}).then(()=>{this.selecteds=[],this.loading=!1}))},findImgById(e){return this.images.find(t=>t.id===e)},cleanSelecteds(){this.selecteds.splice(0,this.selecteds.length)},isSelectedItem(e){return this.selecteds.includes(e)},unselectItem(e){const t=this.selecteds.indexOf(e);this.selecteds.splice(t,1),this.lastSelectedIndex=null},selectItem(e,t,a){if(a.shiftKey){this.cleanSelecteds();const e=this.lastSelectedIndex,a=t;if(a>=e)for(let t=e;t<=a;t++)this.selecteds.push(this.images[t].id);else for(let t=e;t>=a;t--)this.selecteds.push(this.images[t].id)}else a.ctrlKey?(this.selecteds.push(e),this.lastSelectedIndex=t):(this.cleanSelecteds(),this.selecteds.push(e),this.lastSelectedIndex=t)}},watch:{editDialog(e){e||(this.selecteds=[])}},created(){document.addEventListener("click",e=>{const t=e.target.classList;t.contains("view-field-item-img")||t.contains("view-field-item")||this.cleanSelecteds()})},components:{Edit:s["default"],Loading:r["a"],draggable:u.a,TemplateDialogAny:n["a"],TemplateDialogHeaderButton:o["a"],OrderButton:c["default"],UploadButton:m["default"]}},f=p,h=(a("9fd5"),a("2877")),v=a("6544"),g=a.n(v),b=a("132d"),y=a("d903"),x=a("604c"),k=a("a797"),_=a("490a"),I=a("8e36"),w=a("269a"),C=a.n(w),$=a("5607"),T=Object(h["a"])(f,i,l,!1,null,"5dfeceff",null);t["default"]=T.exports;g()(T,{VIcon:b["a"],VItem:y["a"],VItemGroup:x["b"],VOverlay:k["a"],VProgressCircular:_["a"],VProgressLinear:I["a"]}),C()(T,{Ripple:$["a"]})},"56d7":function(e,t,a){"use strict";a.r(t);var i=a("2b0e"),l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app",[e.checking?a("v-sheet",{staticClass:"d-flex justify-center align-center",attrs:{color:"transparent",height:"100%",width:"100%"}},[a("loading")],1):[["/error404","/entrar","/setup"].includes(e.$route.path)?e._e():a("main-nav"),a("v-main",[a("router-view")],1)],a("float-alert",{attrs:{value:e.lastRequestError,color:"red"}},[a("span",[e._v(e._s(e.lastRequestError))])]),a("float-alert",{attrs:{value:e.lastRequestSuccess,color:"green"}},[a("span",[e._v(e._s(e.lastRequestSuccess))])])],2)},s=[],n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("app-bar",{on:{toggledrawer:function(t){e.drawer=!e.drawer}}}),a("navigation-drawer",{model:{value:e.drawer,callback:function(t){e.drawer=t},expression:"drawer"}})],1)},o=[],r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app-bar",{attrs:{color:"primary lighten-2",fixed:"",app:"",dense:""}},[e.sm?a("router-link",{staticClass:"h-100 white--text",attrs:{to:"/"}},[a("img",{staticClass:"py-2",attrs:{src:e.prefixPath+"/img/logo.svg",height:"100%",contain:""}})]):e._e(),a("div",{staticClass:"grey--text text--lighten-3 text-center text-caption ml-3"},[e._v("MRX CMS Headless v"+e._s(e.version))]),a("v-spacer"),a("v-menu",{attrs:{"close-on-content-click":!1,"min-width":"200px",rounded:"","offset-y":"",bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on;return[a("v-btn",e._g({attrs:{icon:"","x-large":""}},i),[a("v-avatar",{attrs:{color:"accent",size:"42"}},[a("span",{staticClass:"white--text"},[e._v(e._s(e.userInitial))])])],1)]}}]),model:{value:e.menu,callback:function(t){e.menu=t},expression:"menu"}},[a("v-card",[a("v-list-item-content",{staticClass:"justify-center pb-0 primary lighten-2 white--text"},[a("div",{staticClass:"mx-auto text-center"},[a("v-avatar",{staticClass:"mb-2",attrs:{color:"accent"}},[a("span",{staticClass:"white--text"},[e._v(e._s(e.userInitial))])]),a("h4",[e._v(e._s(e.user.name))]),a("p",{staticClass:"caption mt-1"},[e._v(e._s(e.user.email))]),a("v-divider"),1==e.user.type?[a("v-btn",{staticClass:"text-none",attrs:{to:"/accounts",color:"white",depressed:"",text:"",block:"",tile:""}},[a("v-icon",{attrs:{left:"",small:""}},[e._v("fas fa-users")]),a("span",[e._v("Contas")])],1),a("v-divider"),a("v-btn",{staticClass:"text-none",attrs:{to:"/modules",color:"white",depressed:"",text:"",block:"",tile:""}},[a("v-icon",{attrs:{left:"",small:""}},[e._v("fas fa-cogs")]),a("span",[e._v("Módulos")])],1),a("v-divider"),a("v-btn",{staticClass:"text-none",attrs:{to:"/email",color:"white",depressed:"",text:"",block:"",tile:""}},[a("v-icon",{attrs:{left:"",small:""}},[e._v("fas fa-envelope")]),a("span",[e._v("E-mail")])],1),a("v-divider"),a("v-btn",{staticClass:"text-none",attrs:{to:"/tags",color:"white",depressed:"",text:"",block:"",tile:""}},[a("v-icon",{attrs:{left:"",small:""}},[e._v("fas fa-code")]),a("span",[e._v("Tags")])],1),a("v-divider")]:e._e(),a("v-btn",{staticClass:"text-none",attrs:{loading:e.loading,color:"white",depressed:"",text:"",block:"",tile:""},on:{click:e.logout}},[a("v-icon",{attrs:{left:"",small:""}},[e._v("fas fa-sign-out-alt")]),a("span",[e._v("Sair")])],1)],2)])],1)],1),e.sm?a("v-app-bar-nav-icon",{attrs:{color:"grey lighten-2"},on:{click:function(){return e.$emit("toggledrawer")}}}):e._e()],1)},d=[],u={data:()=>({loading:!1,menu:!1}),computed:{sm(){return this.$vuetify.breakpoint.smAndDown},user(){return this.$store.state.user},userInitial(){return this.user.name.slice(0,1)}},watch:{$route(){this.menu=!1}},methods:{logout(){this.loading=!0,this.$auth.logout().then(()=>this.$router.push("/entrar")).finally(()=>this.loading=!1)}}},c=u,m=a("2877"),p=a("6544"),f=a.n(p),h=a("40dc"),v=a("5bc1"),g=a("8212"),b=a("8336"),y=a("b0af"),x=a("ce7e"),k=a("132d"),_=a("5d23"),I=a("e449"),w=a("2fa4"),C=Object(m["a"])(c,r,d,!1,null,null,null),$=C.exports;f()(C,{VAppBar:h["a"],VAppBarNavIcon:v["a"],VAvatar:g["a"],VBtn:b["a"],VCard:y["a"],VDivider:x["a"],VIcon:k["a"],VListItemContent:_["a"],VMenu:I["a"],VSpacer:w["a"]});var T=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-navigation-drawer",{attrs:{value:e.value,temporary:e.sm,permanent:!e.sm,color:"primary lighten-2",width:"240px",fixed:"",app:"",dark:""},on:{input:function(){return e.$emit("input")}}},[a("div",{staticClass:"pa-4 align-content-center"},[a("router-link",{staticClass:"white--text h-100",attrs:{to:"/"}},[a("img",{staticClass:"logo",attrs:{src:e.prefixPath+"/img/logo.svg",contain:""}})])],1),a("v-divider"),e.modules.length?[a("v-list-item-group",{staticClass:"mt-2",model:{value:e.current,callback:function(t){e.current=t},expression:"current"}},[a("v-list",{attrs:{dense:"",nav:""}},[e._l(e.nav,(function(t,i){return["$"===i?e._l(e.nav.$.$,(function(t,i){var l=t.to,s=t.icon,n=t.text;return a("v-list-item",{key:i,attrs:{to:l,link:""}},[a("v-list-item-icon",{staticClass:"mr-3"},[a("v-icon",{attrs:{size:"20"}},[e._v(e._s(s))])],1),a("v-list-item-content",[a("v-list-item-title",{staticClass:"body-2"},[e._v(e._s(n))])],1)],1)})):a("v-list-group",{key:i,attrs:{"no-action":"",color:"white"},scopedSlots:e._u([{key:"activator",fn:function(){return[a("v-list-item-title",{staticClass:"body-2 text-uppercase font-weight-bold"},[e._v(e._s(i))])]},proxy:!0}],null,!0)},[e._l(t,(function(i,l){return["$"===l?e._l(t.$,(function(t,i){var l=t.to,s=t.icon,n=t.text;return a("v-list-item",{key:i,staticClass:"pl-4",attrs:{to:l,link:""}},[a("v-list-item-icon",{staticClass:"mr-3"},[a("v-icon",{attrs:{size:"20"}},[e._v(e._s(s))])],1),a("v-list-item-content",[a("v-list-item-title",{staticClass:"body-2"},[e._v(e._s(n))])],1)],1)})):a("v-list-group",{key:l,attrs:{"no-action":"","sub-group":"",color:"white"},scopedSlots:e._u([{key:"activator",fn:function(){return[a("v-list-item-title",{staticClass:"body-2 text-uppercase font-weight-bold pl-0"},[e._v(e._s(l))])]},proxy:!0}],null,!0)},e._l(t[l],(function(t,i){var l=t.to,s=t.icon,n=t.text;return a("v-list-item",{key:i,staticClass:"pl-14",attrs:{to:l,link:""}},[a("v-list-item-icon",{staticClass:"mr-3"},[a("v-icon",{attrs:{size:"20"}},[e._v(e._s(s))])],1),a("v-list-item-content",[a("v-list-item-title",{staticClass:"body-2"},[e._v(e._s(n))])],1)],1)})),1)]}))],2)]}))],2)],1)]:a("div",{staticClass:"pa-2 mx-2 mt-10 white--text font-weight-bold primary rounded-pill text-body-2 text-center"},[e._v("Nenhum módulo adicionado.")])],2)},O=[],S=a("75ba"),D={props:{value:Boolean},data(){return{current:this.$route.path}},computed:{nav(){let e=this.modules.map(e=>{let t={...e};return t.menuId||(t.menuTitle="$"),t.submenuId||(t.submenuTitle="$"),t});e=Object(S["c"])(e,"menuTitle");for(let t in e)e[t]=Object(S["c"])(e[t],"submenuTitle");for(let t in e)for(let a in e[t])e[t][a]=e[t][a].map(({name:e,key:t,icon:a})=>({text:e,to:"/"+t,icon:a}));return e},modules(){return this.$rest("modules").list},sm(){return this.$vuetify.breakpoint.smAndDown}}},V=D,j=(a("56f5"),a("8860")),E=a("56b0"),A=a("da13"),L=a("1baa"),F=a("34c3"),M=a("f774"),B=Object(m["a"])(V,T,O,!1,null,null,null),P=B.exports;f()(B,{VDivider:x["a"],VIcon:k["a"],VList:j["a"],VListGroup:E["a"],VListItem:A["a"],VListItemContent:_["a"],VListItemGroup:L["a"],VListItemIcon:F["a"],VListItemTitle:_["b"],VNavigationDrawer:M["a"]});var R={data:()=>({drawer:!1}),components:{AppBar:$,NavigationDrawer:P}},q=R,N=Object(m["a"])(q,n,o,!1,null,null,null),U=N.exports,H=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-snackbar",{attrs:{value:e.value&&e.visible,color:e.color,top:"",timeout:e.timeout}},[a("v-icon",{attrs:{color:"white",left:"",size:"16"}},[e._v("fas fa-info-circle")]),a("span",[e._t("default")],2),a("v-spacer")],1)},z=[],K={props:{timeout:{type:Number,default:4e3},value:{default:!1},color:{type:String,default:"red"}},data:()=>({visible:null}),watch:{value(e){e?(this.visible=!0,this.timetoutId=window.setTimeout(()=>this.visible=!1,this.timeout)):(window.clearInterval(this.timetoutId),this.visible=!1),this.$emit("input")}},mounted(){this.value?this.visible=!0:this.visible=!1}},J=K,W=a("2db4"),G=Object(m["a"])(J,H,z,!1,null,null,null),Z=G.exports;f()(G,{VIcon:k["a"],VSnackbar:W["a"],VSpacer:w["a"]});var Y=a("9431"),Q=a("bc3a"),X=a.n(Q);const ee={getByProperty:e=>(t,a)=>e.list.find(e=>e[t]==a),getById:e=>t=>ee.getByProperty(e)("id",t),filterByProperty:e=>(t,a)=>e.list.filter(e=>e[t]==a)};var te=ee;const ae={updateList:(e,{data:t,keepCache:a,cacheItemKey:i})=>{if(Array.isArray(t))if(a&&e.list.length)for(let l of t)e.list.find(e=>e[i]==l[i])||e.list.push(l);else e.list=t;else window.console.warn("VuexRest: a mutação updateList deve ter um array como seu parâmetro de dados.")},refreshItem:(e,t)=>{const a=e.list.find(e=>e.id==t);a&&(e.item=a)},updateItem:(e,{id:t,data:a,keepCache:i})=>{e.itemId=t,e.item=a;const l=e.list.find(e=>e.id==t);if(l)for(let s in a)i&&l[s]||(l[s]=a[s]);else e.list.push({...a,id:t})},setProperty:(e,{id:t,prop:a,data:i})=>{const l=e.list.find(e=>e.id==t);l&&(l[a]=i)},remove:(e,t)=>e.list.splice(e.list.findIndex(e=>e.id==t),1),function:(e,t)=>t(e)};var ie=ae;const le=e=>e.replace(/[A-Z]/g,e=>"-"+e.toLocaleLowerCase());var se=le;const ne=(e,{id:t,prop:a,params:i})=>{let l="/"+e;return i=i&&new URLSearchParams(i).toString(),t&&(l+="/"+t),a&&(l+="/"+se(a)),i&&(l+="?"+i),l},oe={get:async({state:e,commit:t},{id:a,params:i,save:l=!0,keepCache:s=!1,cacheItemKey:n="id"})=>{a&&t("refreshItem",a);const o=ne(e.group,{id:a,params:i}),{data:r}=await fe.get(o);return r&&(l&&"function"===typeof l?t("function",e=>l(e,r)):a?t("updateItem",{id:a,data:r,keepCache:s,cacheItemKey:n}):t("updateList",{data:r,keepCache:s,cacheItemKey:n})),r},post:async({state:e,commit:t},{prop:a,data:i,params:l,save:s=!0})=>{let n=ne(e.group,{prop:a,data:i,params:l});i&&"object"!==typeof i&&(i={value:i});const o=await fe.post(n,i);return s&&"function"===typeof s?t("function",e=>s(e)):o.data&&t("updateList",{data:o.data}),o.data},put:async({state:e,commit:t},{id:a,prop:i,data:l,params:s,save:n=!0})=>{if(a&&i){let t=e.list.find(e=>e.id==a);if(t&&(t=t[i]),l==t)return}else if(a){const t=e.list.find(e=>e.id==a);if(l==t)return}let o=ne(e.group,{id:a,prop:i,params:s});return l instanceof FormData?l=Object.fromEntries(l.entries()):"object"!==typeof l&&(l={value:l}),await fe.put(o,l),n&&"function"===typeof n?t("function",e=>n(e)):a&&i?t("setProperty",{id:a,prop:i,data:"object"===typeof l?l.value:l}):a&&t("updateItem",{id:a,data:l}),!0},upload:async({state:e,commit:t},{id:a,prop:i,file:l,params:s,data:n,onUploadProgress:o,save:r=!0})=>{let d=ne(e.group,{id:a,prop:i,params:s});const u={onUploadProgress:o},c=new FormData;c.append(i,l);for(let p in n)c.append(p,n[p]);const m=await fe.post(d,c,u);return m.data.file?r&&"function"===typeof r?t("function",e=>r(e,m.data)):a&&i?t("setProperty",{id:a,prop:i,data:m.data.file}):a&&t("updateItem",{id:a,data:m.data.file}):window.console.warn(`VuexRest: a requisição para a rota "${d}" não teve como resposta um\n        objeto json com a propiedade file especificando a url para o caminho\n        do arquivo que foi feito upload.`),m.data},delete:async({state:e,commit:t},{id:a,params:i,save:l=!0})=>{const s=ne(e.group,{id:a,params:i});return await fe.delete(s),l&&"function"===typeof l?t("function",e=>l(e)):a&&t("remove",a),!0}};var re=oe;const de=e=>({namespaced:!0,state:{list:[],itemId:null,item:{},group:e||""},getters:te,mutations:ie,actions:re}),ue={id:"A propiedade options.id deve ser um número ou uma string.",prop:"A propiedade options.prop deve ser uma string.",data:"A propiedade options.data deve ser um objeto.",params:"A propiedade options.params deve ser um objeto.",file:"A propiedade options.params deve ser um objeto File.",onUploadProgress:"A propiedade options.onUploadProgress deve ser uma função.",save:"A propiedade options.save deve ser booleana ou uma função.",keepCache:"A propiedade options.save deve ser booleana."},ce={id:e=>"string"===typeof e||"number"===typeof e,prop:e=>"string"===typeof e,data:e=>"object"===typeof e,params:e=>"object"===typeof e,file:e=>e instanceof File,onUploadProgress:e=>"function"===typeof e,save:e=>"boolean"===typeof e||"function"===typeof e,keepCache:e=>"boolean"===typeof e},me=e=>{if("object"!==typeof e)throw new TypeError("O parâmetro <options> deve ser um objeto.");for(let t in e)if(!ce[t](e[t]))throw new TypeError(ue[t])};var pe=me;const fe=X.a.create(),he=Object.keys(te),ve=Object.keys(re),ge={install:(e,{base:t})=>{fe.defaults.baseURL=t||"/",e.prototype.$rest=function(e){if("string"!==typeof e)throw new TypeError("O parâmetro <module> deve ser uma string.");const t=this.$store,a=(a,i)=>(pe(i||{}),t.dispatch(`${"_rest_"+e}/${a}`,i||{}));t.hasModule("_rest_"+e)||t.registerModule("_rest_"+e,de(se(e)));const{item:i,list:l}=t.state["_rest_"+e],s={item:i,list:l,getters:{}};for(let n of he)s.getters[n]=t.getters[`${"_rest_"+e}/${n}`];for(let n of ve)s[n]=e=>a(n,e);return s}}};var be=ge,ye=a("2f62"),xe={data:()=>({checking:!0}),computed:{...Object(ye["b"])(["lastRequestError","lastRequestSuccess"])},beforeCreate(){fe.interceptors.request.use(e=>(this.$store.dispatch("startRequest"),e.headers["Authorization"]=localStorage.getItem("token")||"",e),e=>this.$store.dispatch("connectionStatusChange",{ok:!1,error:e})&&Promise.reject(e),{synchronous:!0}),fe.interceptors.response.use(e=>this.$store.dispatch("endRequest",e.data||{})&&e,e=>303===e.response.status?(this.$router.push(new URL(e.response.data.redirect).pathname),this.$store.dispatch("endRequest",{})):403===e.response.status||401===e.response.status?(this.$router.replace("/entrar"),this.$store.dispatch("endRequest",{})):this.$store.dispatch("endRequest",e.response.data||{})&&Promise.reject(e),{synchronous:!0})},created(){if(this.installed){if(!this.$auth.on){this.checking=!0;const e=window.localStorage.getItem("token"),t=["/entrar"].includes(this.$route.path);e?this.$auth.checkIn().then(e=>{this.$store.dispatch("setInfoUser",e),t&&this.$router.replace("/")}).catch(()=>!t&&this.$router.replace("/entrar")).finally(()=>this.checking=!1):t?this.checking=!1:(this.checking=!1,this.$router.replace("/entrar"))}}else"/setup"!==this.$route.path&&this.$router.replace("/setup"),this.checking=!1},components:{MainNav:U,FloatAlert:Z,Loading:Y["a"]}},ke=xe,_e=(a("034f"),a("7496")),Ie=a("f6c4"),we=a("8dd9"),Ce=Object(m["a"])(ke,l,s,!1,null,null,null),$e=Ce.exports;f()(Ce,{VApp:_e["a"],VMain:Ie["a"],VSheet:we["a"]});var Te=a("8c4f"),Oe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-sheet",{staticClass:"d-flex justify-center align-center pa-3",attrs:{color:"transparent",height:"100%"}},[a("v-card",{staticClass:"pa-4",attrs:{height:"max-content",width:"320px",color:"primary lighten-2",outlined:""}},[a("div",{staticClass:"d-flex justify-center"},[a("img",{staticClass:"page-login-logo mb-3",attrs:{src:e.prefixPath+"/img/logo.svg"}})]),a("div",{staticClass:"grey--text text--lighten-3 text-center mb-4"},[a("div",{staticClass:"title"},[e._v("Painel de Administração")]),a("div",{staticClass:"text-body-1"},[e._v("v"+e._s(e.version))])]),a("login-form",{attrs:{loading:e.loading},on:{send:e.send}})],1)],1)},Se=[],De=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-form",{ref:"form"},[a("v-text-field",{attrs:{rules:[e.rules.required,e.rules.email],loading:e.loading,"prepend-inner-icon":"fas fa-user",type:"email",label:"E-mail",name:"email",autocomplete:"email",dense:"",outlined:"",dark:""},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.send.apply(null,arguments)}}}),a("v-text-field",{attrs:{rules:[e.rules.required],loading:e.loading,"append-icon":e.show?"fas fa-eye":"fas fa-eye-slash",type:e.show?"text":"password","prepend-inner-icon":"fas fa-lock",label:"Senha",name:"password",autocomplete:"password",dense:"",outlined:"",dark:""},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.send.apply(null,arguments)},"click:append":function(t){e.show=!e.show}}}),a("v-btn",{staticClass:"text-none d-block ml-auto",attrs:{loading:e.loading,color:"secondary",depressed:"",block:""},on:{click:e.send}},[e._v("Entrar")])],1)},Ve=[],je=a("5f42"),Ee={props:{loading:{type:Boolean,default:!1}},data:()=>({rules:{required:je["e"],email:je["b"]},show:!1}),methods:{send(){const e=this.$refs.form;if(e.validate()){const t=Object.fromEntries(new FormData(e.$el).entries());this.$emit("send",t)}}}},Ae=Ee,Le=(a("7a50"),a("4bd4")),Fe=a("8654"),Me=Object(m["a"])(Ae,De,Ve,!1,null,null,null),Be=Me.exports;f()(Me,{VBtn:b["a"],VForm:Le["a"],VTextField:Fe["a"]});var Pe={data:()=>({loading:!1}),methods:{send(e){this.loading=!0,this.$auth.login(e).then(e=>{this.$store.dispatch("setInfoUser",e),this.$router.push("/")}).finally(()=>this.loading=!1)}},created(){this.$auth.on&&this.$router.replace("/")},components:{LoginForm:Be}},Re=Pe,qe=(a("094c"),Object(m["a"])(Re,Oe,Se,!1,null,null,null)),Ne=qe.exports;f()(qe,{VCard:y["a"],VSheet:we["a"]});var Ue=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-sheet",{staticClass:"mx-auto pa-4 d-flex align-center",attrs:{color:"transparent","max-width":"960px","min-height":"100%"}},[e.loading?a("loading",{staticClass:"mx-auto"}):e.modules.length?a("div",{staticClass:"mx-auto"},[a("grid-container",{staticClass:"py-4",attrs:{cols:"125px 125px","cols-sm":"repeat(4, 125px)","cols-lg":"repeat(5, 125px)",gap:"16px"}},[e._l(e.nav,(function(t,i){return["$"===i?e._l(e.nav.$.$,(function(e,t){var i=e.to,l=e.icon,s=e.text;return a("v-responsive",{key:t,attrs:{"aspect-ratio":1,width:"125px"}},[a("module-card",{attrs:{to:i,title:s,icon:l}})],1)})):a("grid-item",{key:i,attrs:{"col-end":"span 2","col-end-sm":"span 4","col-end-lg":"span 5"}},[a("div",{staticClass:"white--text text-body-1 text-uppercase font-weight-bold"},[e._v(e._s(i))]),a("grid-container",{attrs:{cols:"100px 100px 100px","cols-sm":"repeat(5, 120px)","cols-lg":"repeat(6, 125px)",gap:"16px"}},[e._l(t,(function(t,i){return e._l(t,(function(e,t){var l=e.to,s=e.icon,n=e.text;return a("v-responsive",{key:i+t,attrs:{"aspect-ratio":1,width:"125"}},[a("module-card",{attrs:{to:l,title:"$"!==i?i+"\n"+n:n,icon:s}})],1)}))}))],2)],1)]}))],2)],1):a("div",{staticClass:"pa-4 white--text font-weight-bold primary rounded-pill text-body-1 mx-auto"},[e._v("Nenhum módulo adicionado.")])],1)},He=[],ze=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-card",{staticClass:"module-card",attrs:{to:e.to,height:"100%",color:"primary lighten-1",outlined:""}},[a("v-icon",{attrs:{size:"50",color:"grey lighten-3"}},[e._v(e._s(e.icon))]),a("span",{staticClass:"font-weight-medium mt-2 grey--text text--lighten-5 text-center module-card-title"},[e._v(e._s(e.title))])],1)},Ke=[],Je={props:{title:{type:String,required:!0},to:{type:String,required:!0},icon:{type:String,required:!0}}},We=Je,Ge=(a("98ab"),Object(m["a"])(We,ze,Ke,!1,null,null,null)),Ze=Ge.exports;f()(Ge,{VCard:y["a"],VIcon:k["a"]});var Ye={data:()=>({loading:!0}),computed:{modules(){return this.$rest("modules").list},nav(){let e=this.modules.map(e=>{let t={...e};return t.menuId||(t.menuTitle="$"),t.submenuId||(t.submenuTitle="$"),t});e=Object(S["c"])(e,"menuTitle");for(let t in e)e[t]=Object(S["c"])(e[t],"submenuTitle");for(let t in e)for(let a in e[t])e[t][a]=e[t][a].map(({name:e,key:t,icon:a})=>({text:e,to:"/"+t,icon:a}));return e}},beforeCreate(){this.$rest("modules").get().finally(()=>this.loading=!1)},components:{Loading:Y["a"],ModuleCard:Ze}},Qe=Ye,Xe=a("6b53"),et=Object(m["a"])(Qe,Ue,He,!1,null,null,null),tt=et.exports;f()(et,{VResponsive:Xe["a"],VSheet:we["a"]});var at=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-sheet",{staticClass:"d-flex justify-center align-center pa-3",attrs:{color:"transparent",height:"100%"}},[a("v-card",{staticClass:"pa-4",attrs:{height:"max-content",width:"320px",color:"primary lighten-2",outlined:""}},[a("div",{staticClass:"d-flex justify-center"},[a("img",{staticClass:"page-login-logo mb-3",attrs:{src:e.prefixPath+"/img/logo.svg"}})]),a("div",{staticClass:"title grey--text text--lighten-3 text-center mb-4"},[e._v("Configurar Banco de Dados")]),a("setup-form",{attrs:{loading:e.loading},on:{send:e.send}})],1)],1)},it=[],lt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-form",{ref:"form"},[a("v-text-field",{attrs:{rules:[e.rules.required],loading:e.loading,disabled:e.loading,value:"localhost",type:"text",label:"HOST",name:"host",dense:"",outlined:"",dark:""}}),a("v-text-field",{attrs:{rules:[e.rules.required],loading:e.loading,disabled:e.loading,type:"text",label:"BANCO DE DADOS",name:"database",dense:"",outlined:"",dark:""}}),a("v-text-field",{attrs:{rules:[e.rules.required],loading:e.loading,disabled:e.loading,type:"text",label:"USUÁRIO",name:"user",dense:"",outlined:"",dark:""}}),a("v-text-field",{attrs:{loading:e.loading,disabled:e.loading,type:"password",label:"SENHA",name:"password",dense:"",outlined:"",dark:""}}),a("v-btn",{staticClass:"text-none d-block ml-auto",attrs:{loading:e.loading,color:"secondary",depressed:"",block:""},on:{click:e.send}},[e._v("Confirmar")])],1)},st=[],nt={props:{loading:{type:Boolean,default:!1}},data:()=>({rules:{required:je["e"]}}),methods:{send(){const e=this.$refs.form;if(e.validate()){const t=Object.fromEntries(new FormData(e.$el).entries());this.$emit("send",t)}}}},ot=nt,rt=Object(m["a"])(ot,lt,st,!1,null,null,null),dt=rt.exports;f()(rt,{VBtn:b["a"],VForm:Le["a"],VTextField:Fe["a"]});var ut={data:()=>({loading:!1}),created(){(this.$auth.on||this.installed)&&this.$router.replace("/")},methods:{send(e){this.loading=!0,this.$rest("setup").post({data:e}).then(()=>{this.installed=!0,this.$router.push("/entrar")}).finally(()=>this.loading=!1)}},components:{SetupForm:dt}},ct=ut,mt=(a("e403"),Object(m["a"])(ct,at,it,!1,null,null,null)),pt=mt.exports;f()(mt,{VCard:y["a"],VSheet:we["a"]});var ft=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("module-template",{attrs:{title:"Módulos"},scopedSlots:e._u([{key:"toolbar",fn:function(){return[a("toolbar-button",{attrs:{tip:"Menu",icon:"fas fa-bars",dark:""},on:{click:function(t){e.dialogMenu=!0}}}),a("toolbar-button",{attrs:{tip:"Importar",icon:"fas fa-file-import",dark:""},on:{click:function(t){return e.$refs.importInput.click()}}}),a("input",{ref:"importInput",attrs:{type:"file",hidden:""},on:{input:e.importFile}}),a("toolbar-button",{attrs:{to:e.$route.path+"/adicionar",tip:"Adicionar",icon:"fas fa-plus",dark:""}})]},proxy:!0}])},[a("v-data-table",{attrs:{headers:e.headers,items:e.items,loading:e.loading,height:"calc(100vh - 114px)","sort-by":"id","loading-text":"Carregado dados.","no-data-text":"Não há registros.","no-results-text":"Não há registros.","sort-desc":"","fixed-header":"","disable-pagination":"","hide-default-footer":"",dark:""},on:{"click:row":function(t){return e.$router.push(e.$route.path+"/"+t.id)}},scopedSlots:e._u([{key:"item.action",fn:function(t){var i=t.item;return[a("v-btn",{attrs:{color:"blue",icon:"",small:""},on:{click:function(t){return t.stopPropagation(),e.editMenuTitle(i)}}},[a("v-icon",{attrs:{small:""}},[e._v("fas fa-exchange-alt")])],1),a("v-btn",{staticClass:"ml-2",attrs:{disabled:0==i.removable,color:"red",icon:"",small:""},on:{click:function(t){return t.stopPropagation(),e.remove(i.id)}}},[a("v-icon",{attrs:{small:""}},[e._v("fas fa-trash")])],1)]}}])}),a("v-dialog",{attrs:{"max-width":"400",persistent:""},model:{value:e.dialogConfirm,callback:function(t){e.dialogConfirm=t},expression:"dialogConfirm"}},[a("v-card",{attrs:{dark:""}},[a("v-card-title",{staticClass:"d-flex justify-center"},[e._v("Confirmar remoção")]),a("v-card-text",[a("p",[e._v("Ao excluir um módulo, será excluído todos os posts e outros e registros vinculados à ele.")]),a("p",{staticClass:"mb-0"},[e._v("Tem certeza que deseja continuar?")])]),a("v-card-actions",{staticClass:"d-flex justify-space-between"},[a("v-btn",{staticClass:"text-none",attrs:{color:"secondary",text:""},on:{click:function(t){return e.$emit("cancel")}}},[e._v("Cancelar")]),a("v-btn",{staticClass:"text-none",attrs:{color:"secondary",depressed:""},on:{click:function(t){return e.$emit("confirm")}}},[e._v("Confirmar")])],1)],1)],1),a("menu-config-dialog",{attrs:{menus:e.menus},model:{value:e.dialogMenu,callback:function(t){e.dialogMenu=t},expression:"dialogMenu"}}),e.moduleItem?a("menu-edit-dialog",{attrs:{menus:e.menus,"module-item":e.moduleItem},model:{value:e.dialogEditMenu,callback:function(t){e.dialogEditMenu=t},expression:"dialogEditMenu"}}):e._e()],1)},ht=[],vt=a("e3c9"),gt=a("fe48"),bt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-dialog",{attrs:{value:e.value,"max-width":"500px"},on:{input:function(t){return e.$emit("input",t)}}},[a("v-card",{staticClass:"pa-4",attrs:{dark:""}},[a("div",{staticClass:"title mb-4 d-flex flex-column flex-sm-row justify-space-between"},[a("div",[e._v("Menu")]),a("div",[a("v-btn",{staticClass:"mr-2 text-none",attrs:{color:"secondary",disabled:!e.selecteds.length,depressed:"",small:""},on:{click:e.remove}},[a("v-icon",{attrs:{left:"",small:""}},[e._v("fas fa-trash")]),a("span",[e._v("Remover")])],1),a("v-btn",{staticClass:"text-none",attrs:{color:"secondary",depressed:"",small:""},on:{click:function(t){e.addDialog=!0}}},[a("v-icon",{attrs:{left:"",small:""}},[e._v("fas fa-plus")]),a("span",[e._v("Adicionar")])],1)],1)]),e.menus.length?a("v-data-table",{attrs:{headers:e.headers,items:e.menus,"mobile-breakpoint":0,"no-data-text":"Não há registros.","sort-by":"id","sort-desc":"","show-select":"","disable-pagination":"","hide-default-footer":""},on:{"click:row":function(t){return e.openEditDialog(t)}},model:{value:e.selecteds,callback:function(t){e.selecteds=t},expression:"selecteds"}}):a("div",{staticClass:"pt-8 pb-4 text-body-2 text-center font-weight-bold"},[e._v("Nenhum menu foi adicionada.")])],1),e.value?a("v-overlay",{model:{value:e.loading,callback:function(t){e.loading=t},expression:"loading"}},[a("loading")],1):e._e(),a("add",{model:{value:e.addDialog,callback:function(t){e.addDialog=t},expression:"addDialog"}}),e.menuSelectedToEdit?a("edit",{attrs:{menu:e.menuSelectedToEdit},model:{value:e.editDialog,callback:function(t){e.editDialog=t},expression:"editDialog"}}):e._e()],1)},yt=[],xt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-dialog",{attrs:{value:e.value,"max-width":"330px"},on:{input:function(t){return e.$emit("input",t)}}},[a("v-card",{staticClass:"pa-4",attrs:{dark:""}},[a("div",{staticClass:"title mb-4 text-center"},[e._v("Adicionar menu")]),a("v-text-field",{staticClass:"mb-3",attrs:{label:"Título",outlined:"",dense:"","hide-details":""},model:{value:e.addMenuTitle,callback:function(t){e.addMenuTitle=t},expression:"addMenuTitle"}}),a("v-btn",{staticClass:"text-none",attrs:{disabled:!e.addMenuTitle,color:"secondary",block:"",depressed:""},on:{click:e.add}},[e._v("Adicionar")])],1),e.value?a("v-overlay",{model:{value:e.loading,callback:function(t){e.loading=t},expression:"loading"}},[a("loading")],1):e._e()],1)},kt=[],_t={props:{value:Boolean},data:()=>({loading:!1,addMenuTitle:null}),methods:{add(){this.loading=!0,this.$rest("modulesMenu").post({data:{title:this.addMenuTitle}}).then(e=>this.$emit("add",e)).finally(()=>{this.addMenuTitle=null,this.loading=!1})}},components:{Loading:Y["a"]}},It=_t,wt=a("169a"),Ct=a("a797"),$t=Object(m["a"])(It,xt,kt,!1,null,null,null),Tt=$t.exports;f()($t,{VBtn:b["a"],VCard:y["a"],VDialog:wt["a"],VOverlay:Ct["a"],VTextField:Fe["a"]});var Ot=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-dialog",{attrs:{value:e.value,"max-width":"330px"},on:{input:function(t){return e.$emit("input",t)}}},[a("v-card",{staticClass:"pa-4",attrs:{dark:""}},[a("div",{staticClass:"title mb-4 text-center"},[e._v("Editar menu")]),a("v-form",{ref:"form"},[a("v-text-field",{staticClass:"mb-3",attrs:{value:e.menu.title,label:"Título",name:"title",outlined:"",dense:"","hide-details":""},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:function(t){return e.edit(t.target.value)}.apply(null,arguments)}}}),a("div",{staticClass:"grey--text text--lighten-1 font-weight-bold text-caption"},[e._v("Submenus")]),a("v-card",{staticClass:"mb-4",attrs:{outlined:""}},[a("v-list",{staticClass:"py-0"},[e._l(e.menu.submenus,(function(t){return[a("v-list-item",{key:t.id,staticClass:"submenuitem"},[a("v-list-item-title",{staticClass:"text-body-2 submenuitem-title",attrs:{contenteditable:""},on:{keydown:function(a){return!a.type.indexOf("key")&&e._k(a.keyCode,"enter",13,a.key,"Enter")?null:function(a){return e.editSubmenu(t,a.target.textContent)}.apply(null,arguments)}}},[e._v(e._s(t.title))]),a("v-list-item-action",[a("v-btn",{attrs:{icon:"",small:""},on:{click:function(a){return e.removeSubmenu(t.id)}}},[a("v-icon",{attrs:{size:"14"}},[e._v("fas fa-trash")])],1)],1)],1),a("v-divider")]}))],2),a("div",{staticClass:"submenu-add-input py-1"},[a("v-icon",{staticClass:"pa-3",attrs:{small:""}},[e._v("fas fa-plus")]),a("input",{attrs:{placeholder:"Adicionar Submenu"},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.addSubmenu.apply(null,arguments)},blur:function(e){return e.target.value=""}}})],1)],1)],1)],1),e.value?a("v-overlay",{model:{value:e.loading,callback:function(t){e.loading=t},expression:"loading"}},[a("loading")],1):e._e()],1)},St=[],Dt={props:{value:Boolean,menu:{type:Object,required:!0}},data:()=>({loading:!1}),methods:{edit(e){this.loading=!0,this.$rest("modulesMenu").put({id:this.menu.id,data:{title:e}}).finally(()=>{this.loading=!1})},addSubmenu(e){this.loading=!0,this.$rest("modulesSubmenu").post({data:{title:e.target.value},params:{menuId:this.menu.id}}).then(e=>{this.menu.submenus.push(e)}).finally(()=>{this.loading=!1})},editSubmenu(e,t){this.loading=!0,this.$rest("modulesSubmenu").put({id:e.id,data:{title:t}}).then(()=>{e.title=t}).finally(()=>{this.loading=!1})},removeSubmenu(e){this.loading=!0,this.$rest("modulesSubmenu").delete({id:e}).finally(()=>{const t=this.menu.submenus.findIndex(t=>t.id===e);this.menu.submenus.splice(t,1),this.loading=!1})}},components:{Loading:Y["a"]}},Vt=Dt,jt=(a("f68d"),a("1800")),Et=Object(m["a"])(Vt,Ot,St,!1,null,null,null),At=Et.exports;f()(Et,{VBtn:b["a"],VCard:y["a"],VDialog:wt["a"],VDivider:x["a"],VForm:Le["a"],VIcon:k["a"],VList:j["a"],VListItem:A["a"],VListItemAction:jt["a"],VListItemTitle:_["b"],VOverlay:Ct["a"],VTextField:Fe["a"]});var Lt={props:{value:Boolean,menus:Array},data:()=>({addDialog:!1,editDialog:!1,loading:!1,headers:[{text:"Título",value:"title",align:"left"}],editMenuTitle:null,rules:{required:je["e"]},selecteds:[],menuSelectedToEdit:null}),methods:{remove(){this.loading=!0,Promise.all(this.selecteds.map(({id:e})=>this.$rest("modulesMenu").delete({id:e}))).finally(()=>{this.selecteds=[],this.loading=!1})},editTitle(e){const t=this.menus.find(({id:t})=>t==e).title;this.editMenuTitle&&t!==this.editMenuTitle&&(this.loading=!0,this.$rest("modulesMenu").put({id:e,prop:"title",data:{value:this.editMenuTitle}}).then(()=>this.loading=!1))},openEditDialog(e){this.menuSelectedToEdit=e,this.editDialog=!0}},components:{Loading:Y["a"],Add:Tt,Edit:At}},Ft=Lt,Mt=a("8fea"),Bt=Object(m["a"])(Ft,bt,yt,!1,null,null,null),Pt=Bt.exports;f()(Bt,{VBtn:b["a"],VCard:y["a"],VDataTable:Mt["a"],VDialog:wt["a"],VIcon:k["a"],VOverlay:Ct["a"]});var Rt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-dialog",{attrs:{value:e.value,"max-width":"330px"},on:{input:function(t){return e.$emit("input",t)}}},[a("v-card",{staticClass:"pa-4",attrs:{dark:""}},[a("div",{staticClass:"title mb-4 text-center"},[e._v("Definir menu")]),a("v-form",{ref:"form"},[a("v-select",{staticClass:"mb-3",attrs:{items:e.menuItems,label:"Menu",name:"menuId",outlined:"",dense:"","hide-details":""},model:{value:e.menuSelected,callback:function(t){e.menuSelected=t},expression:"menuSelected"}}),a("v-select",{staticClass:"mb-3",attrs:{value:e.submenuId,items:e.submenusItems,label:"Submenu",name:"submenuId",outlined:"",dense:"","hide-details":""}})],1),a("v-btn",{staticClass:"text-none",attrs:{disabled:e.loading,color:"secondary",block:"",depressed:""},on:{click:e.save}},[e._v("Salvar")])],1),e.value?a("v-overlay",{model:{value:e.loading,callback:function(t){e.loading=t},expression:"loading"}},[a("loading")],1):e._e()],1)},qt=[],Nt={props:{value:Boolean,menus:Array,moduleItem:Object},data:()=>({loading:!1,menuSelected:null}),computed:{menuId(){return this.moduleItem.menuId},submenuId(){return this.moduleItem.submenuId},menuItems(){const e=this.$rest("modulesMenu").list.map(({id:e,title:t})=>({text:t,value:e}));return e.unshift({text:"(Nenhum)",value:null}),e},submenusItems(){let e=[{text:"(Nenhum)",value:null}];if(!this.menuSelected)return e;const t=this.$rest("modulesMenu").list.find(e=>e.id===this.menuSelected);return t&&t.submenus.forEach(({id:t,title:a})=>{e.push({text:a,value:t})}),e}},methods:{save(){this.loading=!0;const e=this.$refs.form,t=new FormData(e.$el);this.$rest("modules").put({id:this.moduleItem.id,prop:"menu",data:t}).then(()=>{this.loading=!1;const e=t.get("menuId"),a=t.get("submenuId");if(e){const t=this.menus.find(({id:t})=>e==t);if(this.moduleItem.menuId=e,this.moduleItem.menuTitle=t.title,a){const e=t.submenus.find(({id:e})=>a==e);this.moduleItem.submenuId=a,this.moduleItem.submenuTitle=e.title}else this.moduleItem.submenuId=null,this.moduleItem.submenuTitle=null}else this.moduleItem.menuId=null,this.moduleItem.menuTitle=null,this.moduleItem.submenuId=null,this.moduleItem.submenuTitle=null;this.$emit("input",!1)})}},watch:{moduleItem(){this.menuSelected=this.menuId}},created(){this.menuSelected=this.menuId},components:{Loading:Y["a"]}},Ut=Nt,Ht=a("b974"),zt=Object(m["a"])(Ut,Rt,qt,!1,null,null,null),Kt=zt.exports;f()(zt,{VBtn:b["a"],VCard:y["a"],VDialog:wt["a"],VForm:Le["a"],VOverlay:Ct["a"],VSelect:Ht["a"]});var Jt={data:()=>({loading:!1,headers:[{text:"Id",value:"id",align:"left"},{text:"Nome",value:"name"},{text:"View",value:"viewName"},{text:"Menu",value:"menuTitle"},{text:"Submenu",value:"submenuTitle"},{text:"",value:"action",align:"right"}],dialogConfirm:!1,dialogMenu:!1,dialogEditMenu:!1,moduleItem:null}),computed:{items(){return this.$rest("modules").list},sm(){return this.$vuetify.breakpoint.smAndDown},menus(){return this.$rest("modulesMenu").list}},methods:{remove(e){this.confirmation().then(()=>this.$rest("modules").delete({id:e}))},confirmation(){return this.dialogConfirm=!0,new Promise((e,t)=>{this.$once("confirm",()=>{this.dialogConfirm=!1,e()}),this.$once("cancel",()=>{this.dialogConfirm=!1,t()})})},editMenuTitle(e){this.moduleItem=e,this.dialogEditMenu=!0},importFile({target:e}){if(!e.files.length)return;this.loading=!0;const t=new FileReader;t.onload=t=>{this.$rest("modules").post({data:JSON.parse(t.target.result)}).finally(()=>{e.value="",this.loading=!1})},t.readAsText(e.files[0])}},created(){1==this.$store.state.user.type?(this.loading=!0,this.$rest("modulesMenu").get(),this.$rest("modules").get().finally(()=>this.loading=!1)):this.$router.replace("/error404")},components:{ToolbarButton:vt["a"],ModuleTemplate:gt["a"],MenuConfigDialog:Pt,MenuEditDialog:Kt}},Wt=Jt,Gt=a("99d9"),Zt=Object(m["a"])(Wt,ft,ht,!1,null,null,null),Yt=Zt.exports;f()(Zt,{VBtn:b["a"],VCard:y["a"],VCardActions:Gt["a"],VCardText:Gt["b"],VCardTitle:Gt["c"],VDataTable:Mt["a"],VDialog:wt["a"],VIcon:k["a"]});var Qt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("module-template",{attrs:{title:"Adicionar módulo"}},[a("v-card",{staticClass:"pa-4 pb-0 rounded-t-0",attrs:{outlined:"",dark:""}},[a("v-form",{ref:"form",staticClass:"pt-4"},[a("v-row",[a("v-col",{staticClass:"py-0",attrs:{cols:"12",sm:"6",md:"12",lg:"3"}},[a("v-text-field",{attrs:{rules:[e.rules.required],label:"Nome",outlined:"",dense:""},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}})],1),a("v-col",{staticClass:"py-0",attrs:{cols:"12",sm:"6",md:"4",lg:"3"}},[a("v-select",{attrs:{items:e.views,rules:[e.rules.required],label:"Tipo",outlined:"",dense:""},model:{value:e.viewSelected,callback:function(t){e.viewSelected=t},expression:"viewSelected"}})],1),a("v-col",{staticClass:"py-0",attrs:{cols:"12",sm:"6",md:"4",lg:"3"}},[a("v-text-field",{attrs:{rules:[e.rules.required],"append-icon":e.icon,label:"Ícone",outlined:"",dense:""},model:{value:e.icon,callback:function(t){e.icon=t},expression:"icon"}})],1),a("v-col",{staticClass:"py-0",attrs:{cols:"12",sm:"6",md:"4",lg:"3"}},[a("v-text-field",{attrs:{rules:[e.rules.required,e.rules.alphaNumUnderline],label:"Chave",outlined:"",dense:""},model:{value:e.key,callback:function(t){e.key=t},expression:"key"}})],1)],1),e.viewSelected?a(e.viewSelected+"-add",{ref:"view",tag:"component"}):e._e(),e.viewSelected&&"custom"!==e.viewSelected?a("div",{staticClass:"d-flex justify-end py-4"},[a("v-btn",{staticClass:"text-none",attrs:{color:"secondary",depressed:"",loading:e.loading,disabled:e.loading},on:{click:e.add}},[e._v("Adicionar")])],1):e._e()],1)],1)],1)},Xt=[],ea=a("eeaf"),ta=a("ba07"),aa=a("c680"),ia=a("ff44");const la={custom:ea["default"],table:ta["default"],item:aa["default"],newsletter:ia["default"]},sa={},na={};a("32ee").keys().map(e=>{const t=e.match(/^\.\/[^/]+$/)[0].slice(2);t in sa||t in na||(sa[t]=[],na[t]=[]),sa[t]=()=>a("ef14")(`./${t}/_module/add/Index.vue`),na[t]=()=>a("0a85")(`./${t}/_module/edit/Index.vue`)});let oa=[];for(let dl in la)oa="custom"===dl?[...oa,...la[dl].flatMap(({routes:e})=>e)]:[...oa,...la[dl].routes];oa=Object.fromEntries(oa.map(({component:e})=>[e.name,e]));var ra={name:"ModuleAdd",data:()=>({name:null,icon:null,key:null,viewSelected:null,rules:{required:je["e"],alphaNumUnderline:je["a"]},loading:!1}),computed:{views(){return this.$rest("modulesViews").list.map(({key:e,name:t})=>({text:t,value:e}))}},methods:{add(){const e=this.$refs.form,t=this.$refs.view;let a=null,i=null;if(e&&(a=e.validate()),t&&(i=t.validate()),!a||!i)return;const l=this.$rest("modulesViews").list.find(({key:e})=>e===this.viewSelected).id;this.loading=!0,this.$rest("modules").post({data:{name:this.name,icon:this.icon,key:this.key,viewId:l,...t.data}}).then(()=>this.$router.push("/modules")).finally(()=>{this.loading=!1})}},beforeCreate(){this.$rest("modulesViews").get()},created(){1==this.$store.state.user.type||this.$router.replace("/error404")},components:{ModuleTemplate:gt["a"],...Object.fromEntries(Object.entries(sa).map(e=>(e[0]=e[0].toLowerCase()+"-add",e)))}},da=ra,ua=(a("c8fe"),a("62ad")),ca=a("0fd9"),ma=Object(m["a"])(da,Qt,Xt,!1,null,null,null),pa=ma.exports;f()(ma,{VBtn:b["a"],VCard:y["a"],VCol:ua["a"],VForm:Le["a"],VRow:ca["a"],VSelect:Ht["a"],VTextField:Fe["a"]});var fa=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("module-template",{attrs:{title:'Alterar módulo "'+e.module.name+'"'}},[a("template",{slot:"toolbar"},[e.moduleId?a("export-module-button",{attrs:{"module-id":e.moduleId}}):e._e()],1),a("v-card",{staticClass:"pa-4 pb-0 rounded-t-0",attrs:{outlined:"",dark:""}},[a("v-form",{ref:"form",staticClass:"pt-4"},[a("v-row",[a("v-col",{staticClass:"py-0",attrs:{cols:"12",sm:"6",md:"12",lg:"3"}},[a("v-text-field",{attrs:{value:e.module.name,rules:[e.rules.required],loading:e.updating.name,label:"Nome",outlined:"",dense:""},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.updateProperty(t,"name")},blur:function(t){return e.updateProperty(t,"name")}}})],1),a("v-col",{staticClass:"py-0",attrs:{cols:"12",sm:"6",md:"4",lg:"3"}},[a("v-text-field",{attrs:{value:e.module.icon,rules:[e.rules.required],loading:e.updating.icon,label:"Ícone",outlined:"",dense:""},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.updateProperty(t,"icon")},blur:function(t){return e.updateProperty(t,"icon")}}})],1)],1)],1),e.loaded?a(e.module.viewKey+"-edit",{tag:"component",attrs:{data:e.module}}):a("v-sheet",{staticClass:"d-flex justify-center align-center py-8",attrs:{width:"100%",color:"transparent"}},[a("loading")],1)],1)],2)},ha=[],va=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("toolbar-button",{attrs:{tip:"Exportar",icon:"fas fa-file-export",dark:""},on:{click:e.exportation}}),a("a",{ref:"link",attrs:{download:"export"}})],1)},ga=[],ba={props:{moduleId:{type:String,required:!0}},data:()=>({dialog:!1,rules:{required:je["e"]},loading:!1}),components:{ToolbarButton:vt["a"]},methods:{async exportation(){this.loading=!0;const e={moduleId:this.moduleId},t=await fetch(`${this.server}/rest/modules/${this.moduleId}/export`,{method:"POST",body:JSON.stringify(e),headers:{Authorization:localStorage.getItem("token")}});if(this.loading=!1,t.ok){const e=await t.blob(),a=URL.createObjectURL(e),i=this.$refs.link;i.href=a,i.click(),i.href="",URL.revokeObjectURL(a)}else{const e=await t.json();this.$store.dispatch("endRequest",e)}}}},ya=ba,xa=Object(m["a"])(ya,va,ga,!1,null,null,null),ka=xa.exports,_a={data:()=>({rules:{required:je["e"]},loaded:!1,updating:{name:!1,icon:!1}}),computed:{modules(){return this.$rest("modules").list},moduleId(){return this.$route.params.module},module(){return this.modules.find(({id:e})=>e==this.moduleId)||{}}},methods:{updateProperty({target:{value:e}},t){if(this.module[t]===e)return!1;this.updating[t]=!0,this.$rest("modules").put({id:this.moduleId,data:{value:e},prop:t}).finally(()=>{this.updating[t]=!1})}},created(){1==this.$store.state.user.type?(this.loaded=!1,this.$rest("modules").get({id:this.moduleId}).finally(()=>this.loaded=!0)):this.$router.replace("/error404")},components:{ModuleTemplate:gt["a"],Loading:Y["a"],ExportModuleButton:ka,...Object.fromEntries(Object.entries(na).map(e=>(e[0]=e[0].toLowerCase()+"-edit",e)))}},Ia=_a,wa=Object(m["a"])(Ia,fa,ha,!1,null,null,null),Ca=wa.exports;f()(wa,{VCard:y["a"],VCol:ua["a"],VForm:Le["a"],VRow:ca["a"],VSheet:we["a"],VTextField:Fe["a"]});var $a=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("module-template",{attrs:{title:"Contas"},scopedSlots:e._u([{key:"toolbar",fn:function(){return[a("toolbar-button",{attrs:{to:e.$route.path+"/adicionar",tip:"Adicionar",icon:"fas fa-plus",dark:""}})]},proxy:!0}])},[a("v-data-table",{attrs:{headers:e.headers,items:e.accounts,loading:e.loading,height:"calc(100vh - 114px)","sort-by":"id","loading-text":"Carregado dados.","no-data-text":"Não há registros.","no-results-text":"Não há registros.","sort-desc":"","fixed-header":"","disable-pagination":"","hide-default-footer":"",dark:""},on:{"click:row":function(t){return e.$router.push(e.$route.path+"/"+t.id)}},scopedSlots:e._u([{key:"item.action",fn:function(t){var i=t.item;return[a("v-btn",{attrs:{disabled:i.id==e.userId,color:"red",icon:"",small:""},on:{click:function(t){return t.stopPropagation(),e.remove(i.id)}}},[a("v-icon",{attrs:{small:""}},[e._v("fas fa-trash")])],1)]}}])})],1)},Ta=[],Oa={name:"AccountList",data:()=>({loading:!1,headers:[{text:"Id",value:"id",align:"left"},{text:"Nome",value:"name"},{text:"E-mail",value:"email"},{text:"",value:"action",align:"right"}]}),computed:{accounts(){return this.$rest("accounts").list},userId(){return this.$store.state.user.id},sm(){return this.$vuetify.breakpoint.smAndDown}},methods:{remove(e){this.$rest("accounts").delete({id:e})}},created(){1==this.$store.state.user.type?(this.loading=!0,this.$rest("accounts").get().finally(()=>this.loading=!1)):this.$router.replace("/error404")},components:{ToolbarButton:vt["a"],ModuleTemplate:gt["a"]}},Sa=Oa,Da=Object(m["a"])(Sa,$a,Ta,!1,null,null,null),Va=Da.exports;f()(Da,{VBtn:b["a"],VDataTable:Mt["a"],VIcon:k["a"]});var ja=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("module-template",{attrs:{title:"Contas / Adicionar",width:"800px","max-width":"100%"}},[a("v-card",{staticClass:"pa-4 rounded-t-0",attrs:{outlined:"",dark:""}},[a("v-form",{ref:"form",staticClass:"pt-4"},[a("v-row",[a("v-col",{staticClass:"py-0",attrs:{cols:"12",sm:"6"}},[a("v-text-field",{attrs:{label:"Nome",name:"name",rules:[e.rules.required],outlined:"",dense:""}})],1),a("v-col",{staticClass:"py-0",attrs:{cols:"12",sm:"6"}},[a("v-text-field",{attrs:{label:"E-mail",name:"email",rules:[e.rules.required,e.rules.email],outlined:"",dense:""}})],1)],1),a("v-text-field",{attrs:{label:"Senha",name:"password",rules:[e.rules.required],outlined:"",dense:""}}),a("div",[a("div",{staticClass:"grey--text text--lighten-1 font-weight-bold"},[e._v("Permissões")]),a("v-treeview",{attrs:{items:e.modulesPermissions,selectable:"","open-all":""},model:{value:e.userPermissions,callback:function(t){e.userPermissions=t},expression:"userPermissions"}})],1),a("div",{staticClass:"d-flex justify-end"},[a("v-btn",{staticClass:"text-none",attrs:{color:"secondary",depressed:""},on:{click:e.send}},[e._v("Adicionar")])],1)],1)],1)],1)},Ea=[],Aa={name:"AccountAdd",data:()=>({rules:{required:je["e"],email:je["b"]},userPermissions:[]}),computed:{modules(){return this.$rest("modules").list.map(e=>{const t=this.modulesViews.find(t=>t.key===e.viewKey);return e.permissions=t&&t.permissions,e})},modulesViews(){return this.$rest("modulesViews").list},modulesPermissions(){let e=this.modules.map(e=>{let t={...e};return t.menuId||(t.menuTitle="$"),t.submenuId||(t.submenuTitle="$"),t});const t=Object(S["c"])(e,"menuTitle");let a={};for(let l in t)a[l]=Object(S["c"])(t[l],"submenuTitle");const i=Object.entries(a).map(([e,t])=>{const a=Object.entries(t).map(([e,t])=>{const a=t.map(e=>{const t=e.permissions.map(({id:t,title:a})=>({id:`${e.id}:${t}`,name:a}));return{id:e.id,name:e.name,children:t}});return"$"===e?a:[{id:Symbol(),name:e,children:a}]}).flat();return"$"===e?a:[{id:Symbol(),name:e,children:a}]}).flat();return i}},methods:{send(){const e=this.$refs.form;if(e.validate()){const t=Object.fromEntries(new FormData(e.$el).entries());t.permissions=this.userPermissions.map(e=>{const[t,a]=e.split(":");return{modules_id:t,modules_views_permissions_id:a}}),this.$rest("accounts").post({data:t}).then(()=>this.$router.push("/accounts"))}}},beforeCreate(){1==this.$store.state.user.type?this.$rest("modulesViews").get():this.$router.replace("/error404")},components:{ModuleTemplate:gt["a"]}},La=Aa,Fa=a("eb2a"),Ma=Object(m["a"])(La,ja,Ea,!1,null,null,null),Ba=Ma.exports;f()(Ma,{VBtn:b["a"],VCard:y["a"],VCol:ua["a"],VForm:Le["a"],VRow:ca["a"],VTextField:Fe["a"],VTreeview:Fa["a"]});var Pa=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("module-template",{attrs:{title:"Contas / Alterar",width:"800px"}},[a("v-card",{staticClass:"pa-4 rounded-t-0",attrs:{outlined:"",dark:""}},[a("v-form",{ref:"form",staticClass:"pt-4"},[a("v-row",[a("v-col",{staticClass:"py-0",attrs:{cols:"12",sm:"6"}},[a("v-text-field",{attrs:{value:e.account.name,rules:[e.rules.required],label:"Nome",name:"name",outlined:"",dense:""}})],1),a("v-col",{staticClass:"py-0",attrs:{cols:"12",sm:"6"}},[a("v-text-field",{attrs:{value:e.account.email,rules:[e.rules.required,e.rules.email],label:"E-mail",name:"email",outlined:"",dense:""}})],1)],1),a("v-text-field",{attrs:{label:"Senha",name:"password",outlined:"",dense:""}}),1!=e.account.type&&e.userPermissions?a("div",[a("div",{staticClass:"grey--text text--lighten-1 font-weight-bold"},[e._v("Permissões")]),a("v-treeview",{attrs:{items:e.modulesPermissions,selectable:"","open-all":""},model:{value:e.userPermissions,callback:function(t){e.userPermissions=t},expression:"userPermissions"}})],1):e._e(),a("div",{staticClass:"d-flex justify-end"},[a("v-btn",{staticClass:"text-none",attrs:{color:"secondary",depressed:""},on:{click:e.send}},[e._v("Salvar")])],1)],1)],1)],1)},Ra=[],qa={name:"AccountItem",data:()=>({rules:{required:je["e"],email:je["b"]},userPermissions:null}),computed:{accountId(){return parseInt(this.$route.params.account)},account(){return this.$rest("accounts").item},modules(){return this.$rest("modules").list.map(e=>{const t=this.modulesViews.find(t=>t.key===e.viewKey);return e.permissions=t&&t.permissions,e})},modulesViews(){return this.$rest("modulesViews").list},modulesPermissions(){let e=this.modules.map(e=>{let t={...e};return t.menuId||(t.menuTitle="$"),t.submenuId||(t.submenuTitle="$"),t});const t=Object(S["c"])(e,"menuTitle");let a={};for(let l in t)a[l]=Object(S["c"])(t[l],"submenuTitle");const i=Object.entries(a).map(([e,t])=>{const a=Object.entries(t).map(([e,t])=>{const a=t.map(e=>{const t=e.permissions.map(({id:t,title:a})=>({id:`${e.id}:${t}`,name:a}));return{id:e.id,name:e.name,children:t}});return"$"===e?a:[{id:Symbol(),name:e,children:a}]}).flat();return"$"===e?a:[{id:Symbol(),name:e,children:a}]}).flat();return i}},methods:{send(){const e=this.$refs.form;if(e.validate()){const t=Object.fromEntries(new FormData(e.$el).entries());t.permissions=this.userPermissions.map(e=>{const[t,a]=e.split(":");return{modules_id:t,modules_views_permissions_id:a}}),this.$rest("accounts").put({id:this.accountId,data:t}).then(()=>{this.accountId==this.$store.state.user.id&&this.$store.dispatch("setInfoUser",this.$rest("accounts").item),this.$rest("modules").get(),this.$router.push("/accounts")})}}},async created(){if(1==this.$store.state.user.type){await this.$rest("modulesViews").get();try{const{permissions:e}=await this.$rest("accounts").get({id:this.accountId});e&&(this.userPermissions=e.map(({modules_id:e,modules_views_permissions_id:t})=>`${e}:${t}`))}catch{this.$router.replace("/accounts")}}else this.$router.replace("/error404")},components:{ModuleTemplate:gt["a"]}},Na=qa,Ua=Object(m["a"])(Na,Pa,Ra,!1,null,null,null),Ha=Ua.exports;f()(Ua,{VBtn:b["a"],VCard:y["a"],VCol:ua["a"],VForm:Le["a"],VRow:ca["a"],VTextField:Fe["a"],VTreeview:Fa["a"]});var za=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("module-template",{attrs:{title:"E-mail","max-width":"400px"}},[a("v-card",{staticClass:"pa-4 pb-0 rounded-t-0",attrs:{outlined:"",dark:""}},[a("v-form",{ref:"form",staticClass:"pt-4 d-flex flex-column"},[a("v-text-field",{attrs:{value:e.configuration.user,rules:[e.rules.required,e.rules.email],disabled:e.loading,loading:e.loading,label:"Usuário",name:"user",type:"email",outlined:"",dense:""}}),a("v-text-field",{attrs:{value:e.configuration.password,rules:[e.rules.required],disabled:e.loading,loading:e.loading,label:"Senha",name:"password",type:"password",outlined:"",dense:""}}),a("v-text-field",{attrs:{value:e.configuration.name,rules:[e.rules.required],disabled:e.loading,loading:e.loading,label:"Nome",name:"name",outlined:"",dense:""}}),a("v-text-field",{attrs:{value:e.configuration.host,rules:[e.rules.required],disabled:e.loading,loading:e.loading,label:"Host",name:"host",outlined:"",dense:""}}),a("v-text-field",{attrs:{value:e.configuration.smtpPort,rules:[e.rules.required],disabled:e.loading,loading:e.loading,label:"Porta SMTP",name:"smtpPort",type:"number",outlined:"",dense:""}}),a("v-text-field",{attrs:{value:e.configuration.recipient,rules:[e.rules.required,e.rules.email],disabled:e.loading,loading:e.loading,label:"Destinatário",name:"recipient",outlined:"",dense:""}})],1),a("v-card-actions",[a("v-btn",{staticClass:"text-none ml-auto",attrs:{disabled:e.loading,loading:e.loading,color:"secondary",depressed:""},on:{click:e.submit}},[e._v("Salvar")])],1)],1)],1)},Ka=[],Ja={data:()=>({rules:{required:je["e"],email:je["b"]},loading:!0}),computed:{configuration(){return this.$rest("configuration").item}},methods:{submit(){const e=this.$refs.form;e.validate()&&(this.loading=!0,this.$rest("configuration").put({id:"email",data:new FormData(e.$el)}).finally(()=>this.loading=!1))}},created(){1==this.$store.state.user.type?(this.loading=!0,this.$rest("configuration").get({id:"email",save:(e,t)=>e.item=t}).finally(()=>this.loading=!1)):this.$router.replace("/error404")},components:{ModuleTemplate:gt["a"]}},Wa=Ja,Ga=Object(m["a"])(Wa,za,Ka,!1,null,null,null),Za=Ga.exports;f()(Ga,{VBtn:b["a"],VCard:y["a"],VCardActions:Gt["a"],VForm:Le["a"],VTextField:Fe["a"]});var Ya=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("module-template",{staticClass:"page-tags",attrs:{title:"Tags","max-width":"800px"}},[a("v-card",{staticClass:"pa-4 pb-0 rounded-t-0",attrs:{outlined:"",dark:""}},[a("v-form",{ref:"form",staticClass:"pt-4 d-flex flex-column"},[a("v-textarea",{attrs:{value:e.configuration.head_after_begin,disabled:e.loading,loading:e.loading,rows:10,label:"HEAD - Depois de começar",name:"head_after_begin",outlined:"",dense:""}}),a("v-textarea",{attrs:{value:e.configuration.head_before_end,disabled:e.loading,loading:e.loading,rows:10,label:"HEAD - Antes do fim",name:"head_before_end",outlined:"",dense:""}}),a("v-textarea",{attrs:{value:e.configuration.body_after_begin,disabled:e.loading,loading:e.loading,rows:10,label:"BODY - Depois de começar",name:"body_after_begin",outlined:"",dense:""}}),a("v-textarea",{attrs:{value:e.configuration.body_before_end,disabled:e.loading,loading:e.loading,rows:10,label:"BODY - Antes do fim",name:"body_before_end",outlined:"",dense:""}})],1),a("v-card-actions",[a("v-btn",{staticClass:"text-none ml-auto",attrs:{disabled:e.loading,loading:e.loading,color:"secondary",depressed:""},on:{click:e.submit}},[e._v("Salvar")])],1)],1)],1)},Qa=[],Xa={data:()=>({loading:!0}),computed:{configuration(){return this.$rest("configuration").item}},methods:{submit(){const e=this.$refs.form;e.validate()&&(this.loading=!0,this.$rest("configuration").put({id:"tags",data:new FormData(e.$el)}).finally(()=>this.loading=!1))}},created(){1==this.$store.state.user.type?(this.loading=!0,this.$rest("configuration").get({id:"tags",save:(e,t)=>e.item=t}).finally(()=>this.loading=!1)):this.$router.replace("/error404")},components:{ModuleTemplate:gt["a"]}},ei=Xa,ti=(a("d23a"),a("a844")),ai=Object(m["a"])(ei,Ya,Qa,!1,null,null,null),ii=ai.exports;f()(ai,{VBtn:b["a"],VCard:y["a"],VCardActions:Gt["a"],VForm:Le["a"],VTextarea:ti["a"]});var li=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-sheet",{staticClass:"d-flex justify-center align-center",attrs:{color:"transparent",height:"600px"}},[a("h3",{staticClass:"white--text"},[e._v("Error 404")])])},si=[],ni={},oi=Object(m["a"])(ni,li,si,!1,null,null,null),ri=oi.exports;f()(oi,{VSheet:we["a"]});var di=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e.loading?a("v-sheet",{staticClass:"d-flex justify-center align-center",attrs:{height:"calc(100vh - 48px)",width:"100%",color:"transparent"}},[a("loading")],1):a(e.component,{tag:"component",attrs:{data:e.module}})],1)},ui=[],ci=a("bd11"),mi=a.n(ci),pi={data:()=>({component:null,loading:!1,gettedModules:!1}),computed:{modules(){return this.$rest("modules").list},moduleKey(){return this.$route.params.module},module(){return this.modules.find(({key:e})=>e===this.moduleKey)},sub(){return this.$route.params.sub}},methods:{async get(){return this.loading=!0,this.gettedModules||await this.$rest("modules").get(),this.renderModule().then(()=>this.loading=!1)},mountRoutes(e,t){return e.map(e=>{let a={...e};return a.name=a.name.replace("{name}",t.name),a.path=a.path.replace("{key}",t.key),a})},async renderModule(){if(!this.module)return void this.$router.push("/error404");await this.$rest("modules").get({id:this.module.id});let e=[];if("custom"===this.module.viewKey){for(let t of la.custom)if(t.key===this.moduleKey){e=t.routes;break}}else e=this.mountRoutes(la[this.module.viewKey].routes,this.module);for(let{path:t,component:a}of e){const e=new RegExp(mi()(t));if(e.test(this.$route.path)){this.component=a.name;break}}this.gettedModules=!0}},watch:{async moduleKey(){await this.get()},async sub(){await this.get()},async $route(){await this.renderModule()}},async created(){await this.get()},components:{Loading:Y["a"],...oa}},fi=pi,hi=Object(m["a"])(fi,di,ui,!1,null,null,null),vi=hi.exports;f()(hi,{VSheet:we["a"]}),i["default"].use(Te["a"]);const gi="Painel de Administração",bi=[{name:gi,path:"/",component:tt},{name:"Instalar - "+gi,path:"/setup",component:pt},{name:"Entrar - "+gi,path:"/entrar",component:Ne},{name:"Contas",path:"/accounts",component:Va},{name:"Adicionar conta",path:"/accounts/adicionar",component:Ba},{name:"Alterar conta",path:"/accounts/:account",component:Ha},{name:"E-mail",path:"/email",component:Za},{name:"Tags",path:"/tags",component:ii},{name:"Módulos",path:"/modules",component:Yt},{name:"Adicionar módulo",path:"/modules/adicionar",component:pa},{name:"Alterar módulo",path:"/modules/:module",component:Ca},{name:"Error404",path:"/error404",component:ri},{name:"Módulo - "+gi,path:"/:module",component:vi},{name:"Módulo - "+gi,path:"/:module/:sub",component:vi},{path:"*",beforeEnter:(e,t,a)=>{a("/error404")}}],yi=new Te["a"]({mode:"history",base:"/",routes:bi});yi.afterEach(e=>{document.title=e.name,window.scrollTo(0,0)});var xi=yi,ki={connectionStatusChange:({commit:e},{ok:t,error:a})=>{window.console.warn("VuexRest: ",{ok:t,error:a}),e("function",e=>{e.connectionOk=t,e.connectionError=a})},startRequest:({commit:e,dispatch:t,state:a})=>{a.connectionOk||t("connectionStatusChange",{ok:!0}),e("function",e=>{e.loading=!0})},endRequest:({commit:e},{status:t,error:a,success:i})=>{t&&window.console.warn("VuexRest: ",{status:t,error:a,success:i}),e("function",e=>{e.loading=!1,t&&(e.lastRequestStatus=t,e.lastRequestError=a,e.lastRequestSuccess=i)}),t&&window.setTimeout(()=>{e("function",e=>{e.lastRequestStatus=null,e.lastRequestError=null,e.lastRequestSuccess=null})},4e3)},setInfoUser({commit:e},t){e("function",e=>{for(let a in t)e.user[a]=t[a];e.user={...e.user}})}},_i={function:(e,t)=>t(e)};const Ii={state:{connectionOk:null,connectionError:null,loading:!1,lastRequestStatus:null,lastRequestError:null,lastRequestSuccess:null,user:{}},mutations:_i,actions:ki};i["default"].use(ye["a"]);var wi=new ye["a"].Store(Ii),Ci=a("f309");i["default"].use(Ci["a"]);var $i=new Ci["a"]({icons:{iconfont:"fa"},theme:{options:{customProperties:!0},themes:{light:{primary:"#000000",secondary:"#e93751",accent:"#00a7bc"}}}}),Ti=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"grid-container",class:e.classes,style:e.style},[e._l(e.gridAreas,(function(t){return a("div",{key:t,class:"grid-area-"+t,style:{gridArea:t}},[e._t(t)],2)})),e._t("default")],2)},Oi=[];const Si={computed:{style(){const e={},t=/(Sm|Md|Xl|Lg)$/;for(let a in this.$options.propsData){const i=a.match(t),l=i?a.slice(0,-2):a;e["--grid-"+a.replace(/([A-Z])/g,"-$1").toLowerCase()]=this.propsCSS[l].parse?this.propsCSS[l].parse(this[a]):this[a]}return e},classes(){const e=[];for(let t in this.$options.propsData)e.push("grid-"+t.replace(/([A-Z])/g,"-$1").toLowerCase());return e}}};var Di=Si;const Vi=["sm","md","xl","lg"],ji=e=>{const t={};for(let a in e){t[a]={type:e[a].type,default:e[a].default};for(let i of Vi)t[`${a}-${i}`]={type:e[a].type,default:e[a].default}}return t};var Ei=ji;const Ai={cols:{type:String},rows:{type:String},autoRows:{type:String},autoCols:{type:String},gap:{type:String},autoFlow:{type:String},justify:{type:String},alignItems:{type:String},alignContent:{type:String},layout:{type:Array,default:()=>[],parse:e=>e.map(e=>e.join(" ")).map(e=>`"${e}"`).join(" ")}};var Li={name:"grid-container",props:Ei(Ai),data:()=>({propsCSS:Ai}),computed:{gridAreas(){return[...new Set(this.layout.flat())]}},mixins:[Di]},Fi=Li,Mi=(a("aad5"),Object(m["a"])(Fi,Ti,Oi,!1,null,null,null)),Bi=Mi.exports,Pi=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"grid-item",class:e.classes,style:e.style},[e._t("default")],2)},Ri=[];const qi={colStart:{type:String},colEnd:{type:String},rowStart:{type:String},rowEnd:{type:String}};var Ni={name:"grid-item",props:Ei(qi),data:()=>({propsCSS:qi}),mixins:[Di]},Ui=Ni,Hi=(a("030d"),Object(m["a"])(Ui,Pi,Ri,!1,null,null,null)),zi=Hi.exports,Ki=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"grid-list",class:e.classes,style:e.style},[e._t("default")],2)},Ji=[];const Wi={colWidth:{type:String},rowHeight:{type:String},gap:{type:String},justify:{type:String},alignItems:{type:String},alignContent:{type:String}};var Gi={name:"grid-list",props:Ei(Wi),data:()=>({propsCSS:Wi}),mixins:[Di]},Zi=Gi,Yi=(a("b1a5"),Object(m["a"])(Zi,Ki,Ji,!1,null,null,null)),Qi=Yi.exports,Xi={GridContainer:Bi,GridItem:zi,GridList:Qi};const el=e=>{for(let t in Xi)e.component(t,Xi[t])};var tl=el;const al={install:tl};var il=al,ll=a("6930"),sl=a.n(ll);const nl=e=>{const t=e.observable({on:!1,checking:!0});e.prototype.$auth={login(e){return fe.post("/auth/login",e).then(({data:e})=>(window.localStorage.setItem("token",e.token),e))},checkIn:()=>{const e=window.localStorage.getItem("token");return window.sessionStorage.setItem("token",e),e?fe.post("/auth/check-in").then(({data:e})=>(t.checking=!1,t.on=!0,e)):(t.checking=!1,t.on=!1,Promise.reject())},logout:()=>fe.post("/auth/logout").finally(()=>{t.on=!1,window.localStorage.removeItem("token")}),get on(){return t.on},get checking(){return t.checking}}};i["default"].use(nl),i["default"].use(il),i["default"].use(sl.a);const ol=JSON.parse(document.getElementById("config").textContent),rl=location.origin+ol.prefixPath;i["default"].config.productionTip=!1,i["default"].use(be,{base:rl+"/rest"}),i["default"].mixin({data:()=>({server:rl,files:rl,...ol,version:"2.5.2"})}),new i["default"]({router:xi,vuetify:$i,store:wi,render:e=>e($e)}).$mount("#app")},"56f5":function(e,t,a){"use strict";a("c010")},"5c28":function(e,t,a){"use strict";a("17a9")},"5ca6":function(e,t,a){"use strict";a.r(t),t["default"]=({value:e})=>e&&new Date(e).toLocaleString("pt-BR",{dateStyle:"short",timeStyle:"short"})},"5f42":function(e,t,a){"use strict";a.d(t,"e",(function(){return i})),a.d(t,"b",(function(){return l})),a.d(t,"a",(function(){return s})),a.d(t,"f",(function(){return n})),a.d(t,"c",(function(){return o})),a.d(t,"d",(function(){return r}));const i=e=>!!e||"Requerido.",l=e=>!e||/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)||"E-mail inválido.",s=e=>!e||/^[a-z0-9_]+$/.test(e)||"Apenas caracteres alfanuméricos minúsculos e underline.",n=e=>!e||/^(https?:\/\/)?[-a-zA-Z0-9@:%._\\+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b([-a-zA-Z0-9()@:%_\\+.~#?&//=]*)$/.test(e)||"URL inválida.",o=e=>!![/^[0-9]*$/,/^[0-9]+(,|.)$/,/^[0-9]+(,|.)[0-9]{1}$/,/^[0-9]+(,|.)[0-9]{2}$/].find(t=>t.test(e))||"Preço inválido.",r=e=>{if(!e)return!0;let t;try{e.replace(/\/([^/]+)\/(.+)?/,(e,a,i)=>{t=new RegExp(a,i)})}catch{return!1}return!!t}},"60cb":function(e,t,a){},6698:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-menu",{attrs:{left:"","offset-y":"","close-on-content-click":!1},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on,l=t.attrs;return[a("div",e._g({staticClass:"category-table-filter-label"},i),[a("span",[e._v(e._s(e.text))]),a("button",e._b({staticClass:"category-table-filter-btn ml-2",attrs:{type:"button"}},"button",l,!1),[a("v-icon",{attrs:{size:"11"}},[e._v("fas fa-chevron-down")])],1)])]}}])},[a("div",{staticClass:"category-table-filter-wrap"},[a("v-autocomplete",{key:e.i,attrs:{items:e.categories,label:e.text,"background-color":"primary",multiple:"","hide-details":"",chips:"",dark:"",solo:"",autofocus:""},model:{value:e.selectedsCategories,callback:function(t){e.selectedsCategories=t},expression:"selectedsCategories"}})],1)])],1)},l=[],s={props:{text:{type:String,required:!0},field:{type:Object,required:!0},options:{type:Object,default:()=>({active:!1,query:null})}},data:()=>({selectedsCategories:[]}),computed:{linkModule(){return this.field.options.linkModule},categories(){const e=this.linkModule?this.$rest(this.linkModule).list:this.$rest("modulesCategories").getters.filterByProperty("fieldId",this.field.id);return e.map(({title:e,id:t})=>({text:e,value:t})).sort((e,t)=>e.text.localeCompare(t.text))}},methods:{filter(){if(this.selectedsCategories.length){const e=new URLSearchParams;e.set(`filter_${this.field.key}_categories`,this.selectedsCategories.join(",")),this.options.query=e,this.options.active=!0,this.$emit("filter")}else this.options.active=!1,this.options.query=null,this.$emit("filter")}},watch:{selectedsCategories(){this.filter()}},created(){this.linkModule?this.$rest(this.linkModule).get({params:{fields:"id,title"}}):this.$rest("modulesCategories").get({params:{moduleId:this.moduleId},keepCache:!0})}},n=s,o=(a("154e"),a("2877")),r=a("6544"),d=a.n(r),u=a("c6a6"),c=a("132d"),m=a("e449"),p=Object(o["a"])(n,i,l,!1,null,null,null);t["default"]=p.exports;d()(p,{VAutocomplete:u["a"],VIcon:c["a"],VMenu:m["a"]})},"67ec":function(e,t,a){"use strict";a.r(t),t["default"]=({value:e})=>e&&new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(e)},"6c6e":function(e,t,a){"use strict";a("dfcc")},7302:function(e,t,a){"use strict";a.r(t),t["default"]=({value:e})=>e&&new Date(e+"T12:00").toLocaleString("pt-BR",{dateStyle:"short"})},"75ba":function(e,t,a){"use strict";a.d(t,"a",(function(){return f})),a.d(t,"b",(function(){return h})),a.d(t,"c",(function(){return v}));const i=6e4,l=60*i,s=24*l,n=["getFullYear","getMonth","getDate"],o=[...n,"getHours"],r=[...o,"getMinutes"],d=[...r,"getSeconds"],u=e=>Date.UTC(...d.map(t=>e[t]())),c=e=>Date.UTC(...r.map(t=>e[t]())),m=e=>Date.UTC(...o.map(t=>e[t]())),p=e=>Date.UTC(...n.map(t=>e[t]())),f=(e,t,a="days")=>{let n,o,r;switch(a){case"seconds":o=u(e),r=u(t),n=1e3;break;case"minutes":o=c(e),r=c(t),n=i;break;case"hours":o=m(e),r=m(t),n=l;break;case"days":o=p(e),r=p(t),n=s;break}return(r-o)/n},h=e=>e.normalize("NFD").replace(/\s+/g,"-").replace(/([\u0300-\u036f]|[^0-9a-zA-Z-])/g,"").toLocaleLowerCase(),v=(e,t)=>e.reduce((e,a)=>((e[a[t]]=e[a[t]]||[]).push(a),e),{})},7716:function(e,t,a){"use strict";a("13c2")},"785a":function(e,t,a){"use strict";a.r(t),t["default"]=({value:e})=>e&&e.slice(0,5)},"786f":function(e,t,a){"use strict";a.r(t),t["default"]=({value:e})=>{if(!e)return;const t=JSON.parse(e);let a="<ul style='padding: 4px 0px'>";for(let i of t)a+=`<li>${i.length>50?i.slice(0,50)+"...":i}</li>`;return{innerHTML:a}}},"792e":function(e,t,a){"use strict";a.r(t);var i=a("2b0e");t["default"]=({component:e,value:t,id:a})=>{if(!t)return;const l=i["default"].observable({innerHTML:null});return e.$rest("modulesImages").get({id:`${a}/${t}`,save:(t,{path:a})=>{const i=e.files.replace(e.prefixPath,""),s=i+a+"?resize=1&w=106";l.innerHTML=`<img style="height: 60px; width: 106px; object-fit: contain; margin-top: 6px; border-radius: 4px;" src="${s}">`}}),l}},"7a50":function(e,t,a){"use strict";a("d2b0")},"7c32":function(e,t,a){"use strict";a("60cb")},"7c83":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-dialog",{attrs:{value:e.value,"max-width":"330px"},on:{input:function(t){return e.$emit("input",t)}}},[a("v-card",{staticClass:"pa-4",attrs:{dark:""}},[a("div",{staticClass:"title mb-4 text-center"},[e._v("Adicionar categoria")]),a("v-text-field",{staticClass:"mb-3",attrs:{label:"Título",outlined:"",dense:"","hide-details":""},model:{value:e.addCategoryTitle,callback:function(t){e.addCategoryTitle=t},expression:"addCategoryTitle"}}),a("v-btn",{staticClass:"text-none",attrs:{disabled:!e.addCategoryTitle,color:"secondary",block:"",depressed:""},on:{click:e.add}},[e._v("Adicionar")])],1),e.value?a("v-overlay",{model:{value:e.loading,callback:function(t){e.loading=t},expression:"loading"}},[a("loading")],1):e._e()],1)},l=[],s=a("9431"),n={props:{value:Boolean,fieldId:{type:Number,required:!0}},data:()=>({loading:!1,addCategoryTitle:null}),computed:{moduleId(){return this.$rest("modules").item.id}},methods:{add(){this.loading=!0,this.$rest("modulesCategories").post({data:{title:this.addCategoryTitle},params:{moduleId:this.moduleId,fieldId:this.fieldId}}).then(e=>this.$emit("add",e)).finally(()=>{this.addCategoryTitle=null,this.addDialog=!1,this.loading=!1})}},components:{Loading:s["a"]}},o=n,r=a("2877"),d=a("6544"),u=a.n(d),c=a("8336"),m=a("b0af"),p=a("169a"),f=a("a797"),h=a("8654"),v=Object(r["a"])(o,i,l,!1,null,null,null);t["default"]=v.exports;u()(v,{VBtn:c["a"],VCard:m["a"],VDialog:p["a"],VOverlay:f["a"],VTextField:h["a"]})},"7cc0":function(e,t,a){"use strict";a("ba22")},"7e53":function(e,t,a){},"7eba":function(e,t,a){"use strict";a("34ed")},"7ecb":function(e,t,a){var i={"./big-text/Index":"1b8a","./big-text/Index.vue":"1b8a","./category/Add":"7c83","./category/Add.vue":"7c83","./category/Index":"ed85","./category/Index.vue":"ed85","./category/LinkModule":"968c","./category/LinkModule.vue":"968c","./category/List":"faaf","./category/List.vue":"faaf","./category/TableFilter":"6698","./category/TableFilter.vue":"6698","./category/formatForDisplay":"cfa3","./category/formatForDisplay.js":"cfa3","./collection-with-key/Index":"edfc","./collection-with-key/Index.vue":"edfc","./collection-with-key/List":"ac83","./collection-with-key/List.vue":"ac83","./collection/Index":"4884","./collection/Index.vue":"4884","./collection/List":"b87b","./collection/List.vue":"b87b","./collection/formatForDisplay":"786f","./collection/formatForDisplay.js":"786f","./color/Index":"1055","./color/Index.vue":"1055","./date/Index":"9b55","./date/Index.vue":"9b55","./date/formatForDisplay":"7302","./date/formatForDisplay.js":"7302","./datetime/Index":"07899","./datetime/Index.vue":"07899","./datetime/formatForDisplay":"5ca6","./datetime/formatForDisplay.js":"5ca6","./email/Index":"f20f","./email/Index.vue":"f20f","./file/Index":"28eb","./file/Index.vue":"28eb","./file/List":"8dde","./file/List.vue":"8dde","./hidden/Index":"173c","./hidden/Index.vue":"173c","./image-file/Edit":"48f6","./image-file/Edit.vue":"48f6","./image-file/Index":"a798","./image-file/Index.vue":"a798","./image-file/List":"56b4","./image-file/List.vue":"56b4","./image-file/buttons/OrderButton":"9073","./image-file/buttons/OrderButton.vue":"9073","./image-file/buttons/UploadButton":"8f4a","./image-file/buttons/UploadButton.vue":"8f4a","./image-file/formatForDisplay":"792e","./image-file/formatForDisplay.js":"792e","./link/Display":"d295","./link/Display.vue":"d295","./link/Index":"d09a","./link/Index.vue":"d09a","./link/Options":"3c9e","./link/Options.vue":"3c9e","./link/formatForDisplay":"02a1","./link/formatForDisplay.js":"02a1","./medium-text/Index":"ff5f","./medium-text/Index.vue":"ff5f","./number/Index":"bce8","./number/Index.vue":"bce8","./password/Index":"beb4","./password/Index.vue":"beb4","./price/Index":"fc9e","./price/Index.vue":"fc9e","./price/formatForDisplay":"67ec","./price/formatForDisplay.js":"67ec","./read-only/Index":"dec4","./read-only/Index.vue":"dec4","./source-code/Index":"9310","./source-code/Index.vue":"9310","./subcategory/Index":"ddc94","./subcategory/Index.vue":"ddc94","./subcategory/list/Add":"9d3e","./subcategory/list/Add.vue":"9d3e","./subcategory/list/Index":"9bc7","./subcategory/list/Index.vue":"9bc7","./subcategory/list/SelectFieldCategory":"f96c","./subcategory/list/SelectFieldCategory.vue":"f96c","./switch-boolean/Index":"0850","./switch-boolean/Index.vue":"0850","./switch-boolean/formatForDisplay":"46c6","./switch-boolean/formatForDisplay.js":"46c6","./tags/Add":"cf92","./tags/Add.vue":"cf92","./tags/Index":"30e9","./tags/Index.vue":"30e9","./tags/LinkModule":"cbef","./tags/LinkModule.vue":"cbef","./tags/List":"81ec","./tags/List.vue":"81ec","./tags/formatForDisplay":"d088","./tags/formatForDisplay.js":"d088","./time/Index":"42b8","./time/Index.vue":"42b8","./time/formatForDisplay":"785a","./time/formatForDisplay.js":"785a","./tiny-text/Index":"1e7e","./tiny-text/Index.vue":"1e7e","./tiny-text/Options":"0622","./tiny-text/Options.vue":"0622","./url/Index":"47a6","./url/Index.vue":"47a6","./url/Options":"9b4d","./url/Options.vue":"9b4d"};function l(e){return Promise.resolve().then((function(){if(!a.o(i,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}var l=i[e];return a(l)}))}l.keys=function(){return Object.keys(i)},l.id="7ecb",e.exports=l},"81ec":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("template-dialog-any",{attrs:{value:e.value,title:"Tags","max-width":"500px"},on:{input:function(t){return e.$emit("input",t)}},scopedSlots:e._u([{key:"actions",fn:function(){return[e.isAdminUser?a("template-dialog-header-button",{attrs:{icon:e.linkModule?"fas fa-unlink":"fas fa-link",text:(e.linkModule?"Desvincular":"Vincular")+" Módulo",disabled:!e.linkModule&&Boolean(e.tags.length)},on:{click:function(t){e.linkModule?e.unlink():e.linkModuleDialog=!0}}}):e._e(),a("template-dialog-header-button",{attrs:{disabled:!e.selecteds.length,icon:"fas fa-trash",text:"Remover"},on:{click:e.remove}}),a("template-dialog-header-button",{attrs:{icon:"fas fa-plus",text:"Adicionar"},on:{click:function(t){e.addDialog=!0}}})]},proxy:!0}])},[e.tags.length?a("v-data-table",{attrs:{headers:e.headers,items:e.tags,"mobile-breakpoint":0,"no-data-text":"Não há registros.","sort-by":"id","sort-desc":"","show-select":"","disable-pagination":"","hide-default-footer":""},scopedSlots:e._u([{key:"item.title",fn:function(t){var i=t.item;return[a("v-edit-dialog",{staticClass:"primary lighten-4",attrs:{"return-value":e.editTagTitle,dark:""},on:{save:function(t){return e.editTitle(i.id)},"update:returnValue":function(t){e.editTagTitle=t},"update:return-value":function(t){e.editTagTitle=t}},scopedSlots:e._u([{key:"input",fn:function(){return[a("v-text-field",{attrs:{value:i.title,rules:[e.rules.required],label:"Renomear","single-line":"",counter:""},on:{input:function(t){return e.editTagTitle=t}}})]},proxy:!0}],null,!0)},[e._v(e._s(i.title))])]}}],null,!1,1356063838),model:{value:e.selecteds,callback:function(t){e.selecteds=t},expression:"selecteds"}}):a("div",{staticClass:"pt-8 pb-4 text-body-2 text-center font-weight-bold"},[e._v("Nenhuma tag foi adicionada.")]),e.value?a("v-overlay",{model:{value:e.loading,callback:function(t){e.loading=t},expression:"loading"}},[a("loading")],1):e._e(),a("add",{attrs:{"field-id":e.fieldId},model:{value:e.addDialog,callback:function(t){e.addDialog=t},expression:"addDialog"}}),a("link-module",{attrs:{"field-id":e.fieldId,"link-module":e.linkModule},model:{value:e.linkModuleDialog,callback:function(t){e.linkModuleDialog=t},expression:"linkModuleDialog"}})],1)},l=[],s=a("dee3"),n=a("d492"),o=a("cf92"),r=a("cbef"),d=a("9431"),u=a("5f42"),c={props:{value:Boolean,fieldId:{type:Number,required:!0},tags:{type:Array,default:()=>[]},isAdminUser:{type:Boolean,default:!1},linkModule:String},data:()=>({addDialog:!1,linkModuleDialog:!1,loading:!1,headers:[{text:"Título",value:"title",align:"left"}],editTagTitle:null,rules:{required:u["e"]},selecteds:[]}),computed:{moduleKey(){return this.$rest("modules").item.key},moduleId(){return this.$rest("modules").item.id},itemId(){return this.$route.params.sub||1}},methods:{remove(){this.loading=!0,Promise.all(this.selecteds.map(({id:e})=>this.$rest("modulesTags").delete({id:e,params:{moduleId:this.moduleId}}))).finally(()=>{this.selecteds=[],this.loading=!1})},editTitle(e){const t=this.tags.find(({id:t})=>t==e).title;this.editTagTitle&&t!==this.editTagTitle&&(this.loading=!0,this.$rest("modulesTags").put({id:e,prop:"title",data:{value:this.editTagTitle},params:{moduleId:this.moduleId}}).then(()=>this.loading=!1))},unlink(){this.loading=!0,this.$rest("modulesCategories").put({id:"unlink-module",data:{link:null},params:{fieldId:this.fieldId,moduleId:this.moduleId}}).finally(()=>{this.$router.go()})}},components:{TemplateDialogAny:s["a"],TemplateDialogHeaderButton:n["a"],Loading:d["a"],Add:o["default"],LinkModule:r["default"]}},m=c,p=a("2877"),f=a("6544"),h=a.n(f),v=a("8fea"),g=a("7679"),b=a("a797"),y=a("8654"),x=Object(p["a"])(m,i,l,!1,null,null,null);t["default"]=x.exports;h()(x,{VDataTable:v["a"],VEditDialog:g["a"],VOverlay:b["a"],VTextField:y["a"]})},"85ec":function(e,t,a){},8876:function(e,t,a){"use strict";a("f728")},"88cf":function(e,t,a){"use strict";t["a"]=Object.fromEntries(a("f66d").keys().filter(e=>/\.\/[^]+\/Index.vue/.test(e)).map(e=>[e.replace(/\.\/([^./]+)\/Index.vue/,"$1").toLowerCase().replace(/[^a-z]/g,"").concat("field"),()=>a("7ecb")("./"+e.slice(2))]))},8909:function(e,t,a){},"8dde":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-dialog",{attrs:{value:e.value,"max-width":"880px"},on:{input:function(t){return e.$emit("input",t)}}},[a("v-card",{staticClass:"pa-4",attrs:{dark:""}},[a("div",{staticClass:"title mb-4 d-flex flex-column flex-sm-row justify-space-between"},[a("div",[e._v("Arquivos")]),a("div",[a("v-btn",{staticClass:"mr-2 text-none",attrs:{color:"secondary",disabled:!e.selecteds.length,depressed:"",small:""},on:{click:e.remove}},[a("v-icon",{attrs:{left:"",small:""}},[e._v("fas fa-trash")]),a("span",[e._v("Remover")])],1),a("v-btn",{staticClass:"text-none",attrs:{color:"secondary",depressed:"",small:""},on:{click:function(t){return e.$refs.fileLabel.click()}}},[a("v-icon",{attrs:{left:"",small:""}},[e._v("fas fa-upload")]),a("span",[e._v("Enviar")])],1)],1)]),e.files.length?a("v-data-table",{attrs:{headers:e.headers,items:e.files,"mobile-breakpoint":0,"no-data-text":"Não há registros.","sort-by":"id","sort-desc":"","show-select":"","disable-pagination":"","hide-default-footer":""},scopedSlots:e._u([{key:"item.title",fn:function(t){var i=t.item;return[a("v-edit-dialog",{staticClass:"primary lighten-4",attrs:{"return-value":e.editFileTitle,dark:""},on:{save:function(t){return e.editTitle(i.id)},"update:returnValue":function(t){e.editFileTitle=t},"update:return-value":function(t){e.editFileTitle=t}},scopedSlots:e._u([{key:"input",fn:function(){return[a("v-text-field",{attrs:{value:i.title,rules:[e.rules.required],label:"Renomear","single-line":"",counter:""},on:{input:function(t){return e.editFileTitle=t}}})]},proxy:!0}],null,!0)},[e._v(e._s(i.title))])]}},{key:"item.action",fn:function(t){var i=t.item;return[i.path===e.highlightedFile?a("v-btn",{attrs:{color:"yellow",icon:"",small:""},on:{click:function(t){return e.highlight(i.id)}}},[a("v-icon",{attrs:{small:""}},[e._v("fas fa-star")])],1):a("v-btn",{attrs:{color:"yellow",icon:"",small:""},on:{click:function(t){return e.highlight(i.id)}}},[a("v-icon",{attrs:{small:""}},[e._v("far fa-star")])],1)]}}],null,!1,2027906049),model:{value:e.selecteds,callback:function(t){e.selecteds=t},expression:"selecteds"}}):a("div",{staticClass:"pt-8 pb-4 text-body-2 text-center font-weight-bold"},[e._v("Nenhum arquivo foi enviado.")])],1),a("v-overlay",{model:{value:e.uploading,callback:function(t){e.uploading=t},expression:"uploading"}},[a("v-progress-circular",{staticClass:"font-weight-bold accent--text",attrs:{value:e.progress,size:120,rotate:-90,width:12,color:"secondary"}},[e._v(e._s(e.progress)+"%")])],1),a("v-overlay",{model:{value:e.loading,callback:function(t){e.loading=t},expression:"loading"}},[a("loading")],1),a("label",{ref:"fileLabel",attrs:{for:"fileInput_"+e.fieldId}}),a("input",{ref:"fileInput",staticClass:"ma-0 pa-0",attrs:{id:"fileInput_"+e.fieldId,type:"file",multiple:"","hide-details":"",hidden:""},domProps:{value:e.file},on:{input:e.upload}})],1)},l=[],s=a("9431"),n=a("5f42"),o={props:{value:Boolean,inputName:{type:String,required:!0},highlightedFile:String,fieldId:{type:Number,required:!0}},data:()=>({file:null,uploading:!1,progress:0,loading:!1,files:[],selecteds:[],headers:[{text:"Título",value:"title",align:"left"},{text:"",value:"action",align:"right",sortable:!1}],editFileTitle:null,rules:{required:n["e"]}}),computed:{moduleKey(){return this.$rest("modules").item.key},moduleId(){return this.$rest("modules").item.id},itemId(){return this.$route.params.sub||1}},methods:{get(){return this.$rest("modulesFiles").get({id:this.itemId,params:{moduleId:this.moduleId,fieldId:this.fieldId}}).then(e=>this.files=e)},remove(){this.loading=!0,Promise.all(this.selecteds.map(({id:e})=>this.$rest("modulesFiles").delete({id:e,params:{moduleId:this.moduleId}}))).finally(()=>{this.selecteds=[],this.get().then(()=>this.loading=!1)})},highlight(e){this.loading=!0;const t=this.files.find(({id:t})=>t==e)["path"],a={};a[this.inputName]=t,this.$rest(this.moduleKey).put({id:this.itemId,prop:this.inputName,data:a}).then(()=>this.$rest(this.moduleKey).get({id:this.itemId}).then(()=>{this.selecteds=[],this.loading=!1}))},editTitle(e){const t=this.files.find(({id:t})=>t==e).title;this.editFileTitle&&t!==this.editFileTitle&&(this.loading=!0,this.$rest("modulesFiles").put({id:e,prop:"title",data:{value:this.editFileTitle},params:{moduleId:this.moduleId}}).then(()=>this.get().then(()=>{this.loading=!1})))},async upload({target:e}){const t=e.files,a=({loaded:e,total:t})=>this.progress=new Intl.NumberFormat("pt-BR",{maximumFractionDigits:0}).format(e/t*100);this.uploading=!0;try{for(const e of t)await this.$rest("modulesFiles").upload({file:e,prop:"file",data:{title:e.name},params:{itemId:this.itemId,moduleId:this.moduleId,fieldId:this.fieldId},onUploadProgress:a}).then(({file:e,title:t,id:a})=>{this.progress=0,this.files.push({path:e,title:t,id:a})}).finally(()=>this.uploading=!1);this.uploading=!1}catch(i){console.error(i),this.uploading=!1}this.$refs.fileInput.value=""}},created(){this.get()},components:{Loading:s["a"]}},r=o,d=(a("22b7"),a("2877")),u=a("6544"),c=a.n(u),m=a("8336"),p=a("b0af"),f=a("8fea"),h=a("169a"),v=a("7679"),g=a("132d"),b=a("a797"),y=a("490a"),x=a("8654"),k=Object(d["a"])(r,i,l,!1,null,null,null);t["default"]=k.exports;c()(k,{VBtn:m["a"],VCard:p["a"],VDataTable:f["a"],VDialog:h["a"],VEditDialog:v["a"],VIcon:g["a"],VOverlay:b["a"],VProgressCircular:y["a"],VTextField:x["a"]})},"8e366":function(e,t,a){var i={"./big-text/Index":"1b8a","./big-text/Index.vue":"1b8a","./category/Add":"7c83","./category/Add.vue":"7c83","./category/Index":"ed85","./category/Index.vue":"ed85","./category/LinkModule":"968c","./category/LinkModule.vue":"968c","./category/List":"faaf","./category/List.vue":"faaf","./category/TableFilter":"6698","./category/TableFilter.vue":"6698","./category/formatForDisplay":"cfa3","./category/formatForDisplay.js":"cfa3","./collection-with-key/Index":"edfc","./collection-with-key/Index.vue":"edfc","./collection-with-key/List":"ac83","./collection-with-key/List.vue":"ac83","./collection/Index":"4884","./collection/Index.vue":"4884","./collection/List":"b87b","./collection/List.vue":"b87b","./collection/formatForDisplay":"786f","./collection/formatForDisplay.js":"786f","./color/Index":"1055","./color/Index.vue":"1055","./date/Index":"9b55","./date/Index.vue":"9b55","./date/formatForDisplay":"7302","./date/formatForDisplay.js":"7302","./datetime/Index":"07899","./datetime/Index.vue":"07899","./datetime/formatForDisplay":"5ca6","./datetime/formatForDisplay.js":"5ca6","./email/Index":"f20f","./email/Index.vue":"f20f","./file/Index":"28eb","./file/Index.vue":"28eb","./file/List":"8dde","./file/List.vue":"8dde","./hidden/Index":"173c","./hidden/Index.vue":"173c","./image-file/Edit":"48f6","./image-file/Edit.vue":"48f6","./image-file/Index":"a798","./image-file/Index.vue":"a798","./image-file/List":"56b4","./image-file/List.vue":"56b4","./image-file/buttons/OrderButton":"9073","./image-file/buttons/OrderButton.vue":"9073","./image-file/buttons/UploadButton":"8f4a","./image-file/buttons/UploadButton.vue":"8f4a","./image-file/formatForDisplay":"792e","./image-file/formatForDisplay.js":"792e","./link/Display":"d295","./link/Display.vue":"d295","./link/Index":"d09a","./link/Index.vue":"d09a","./link/Options":"3c9e","./link/Options.vue":"3c9e","./link/formatForDisplay":"02a1","./link/formatForDisplay.js":"02a1","./medium-text/Index":"ff5f","./medium-text/Index.vue":"ff5f","./number/Index":"bce8","./number/Index.vue":"bce8","./password/Index":"beb4","./password/Index.vue":"beb4","./price/Index":"fc9e","./price/Index.vue":"fc9e","./price/formatForDisplay":"67ec","./price/formatForDisplay.js":"67ec","./read-only/Index":"dec4","./read-only/Index.vue":"dec4","./source-code/Index":"9310","./source-code/Index.vue":"9310","./subcategory/Index":"ddc94","./subcategory/Index.vue":"ddc94","./subcategory/list/Add":"9d3e","./subcategory/list/Add.vue":"9d3e","./subcategory/list/Index":"9bc7","./subcategory/list/Index.vue":"9bc7","./subcategory/list/SelectFieldCategory":"f96c","./subcategory/list/SelectFieldCategory.vue":"f96c","./switch-boolean/Index":"0850","./switch-boolean/Index.vue":"0850","./switch-boolean/formatForDisplay":"46c6","./switch-boolean/formatForDisplay.js":"46c6","./tags/Add":"cf92","./tags/Add.vue":"cf92","./tags/Index":"30e9","./tags/Index.vue":"30e9","./tags/LinkModule":"cbef","./tags/LinkModule.vue":"cbef","./tags/List":"81ec","./tags/List.vue":"81ec","./tags/formatForDisplay":"d088","./tags/formatForDisplay.js":"d088","./time/Index":"42b8","./time/Index.vue":"42b8","./time/formatForDisplay":"785a","./time/formatForDisplay.js":"785a","./tiny-text/Index":"1e7e","./tiny-text/Index.vue":"1e7e","./tiny-text/Options":"0622","./tiny-text/Options.vue":"0622","./url/Index":"47a6","./url/Index.vue":"47a6","./url/Options":"9b4d","./url/Options.vue":"9b4d"};function l(e){var t=s(e);return a(t)}function s(e){if(!a.o(i,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return i[e]}l.keys=function(){return Object.keys(i)},l.resolve=s,e.exports=l,l.id="8e366"},"8f4a":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("TemplateDialogHeaderButton",{attrs:{icon:"fas fa-upload",text:"Enviar"},on:{click:function(t){return e.$refs.imageFileLabel.click()}}}),a("label",{ref:"imageFileLabel",attrs:{for:"imageFileInput_"+e.fieldId}}),a("input",{ref:"imageFileInput",staticClass:"ma-0 pa-0",attrs:{id:"imageFileInput_"+e.fieldId,type:"file",accept:"image/*",multiple:"","hide-details":"",hidden:""},domProps:{value:e.file},on:{input:e.upload}})],1)},l=[],s=a("d492"),n={props:{fieldId:{type:Number,required:!0},items:{type:Array,required:!0}},data:()=>({progress:0,file:null}),computed:{moduleId(){return this.$rest("modules").item.id},itemId(){return this.$route.params.sub||1}},methods:{upload({target:e}){this.disabled=!0;const t=e.files;Array.from(t).map(e=>{const t={loading:!0,progress:0},a=({loaded:e,total:a})=>{t.progress=parseInt(e/a*100)};return this.items.push(t),this.$rest("modulesImages").upload({file:e,prop:"image",params:{itemId:this.itemId,moduleId:this.moduleId,fieldId:this.fieldId},onUploadProgress:a}).then(({file:e,id:a})=>{t.loading=!1,t.id=a,t.path=e}).catch(()=>{const e=this.items.indexOf(t);this.items.splice(e,1)})}),this.$refs.imageFileInput.value=""}},components:{TemplateDialogHeaderButton:s["a"]}},o=n,r=(a("c0a9"),a("2877")),d=Object(r["a"])(o,i,l,!1,null,"182d5b05",null);t["default"]=d.exports},9073:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("TemplateDialogHeaderButton",{attrs:{icon:"fas fa-save",text:"Salvar Ordem"},on:{click:e.order}})},l=[],s=a("d492"),n={props:{items:{type:Array,required:!0}},computed:{moduleId(){return this.$rest("modules").item.id}},methods:{order(){this.$emit("loading",!0);const e=this.items.map(({id:e,path:t},a)=>({id:e,path:t,order:a}));this.$rest("modulesImages").put({id:"order",data:{images:e},params:{moduleId:this.moduleId}}).then(()=>this.$emit("loading",!1))}},components:{TemplateDialogHeaderButton:s["a"]}},o=n,r=a("2877"),d=Object(r["a"])(o,i,l,!1,null,null,null);t["default"]=d.exports},9084:function(e,t,a){"use strict";a("ff4f")},"917e":function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-tooltip",{attrs:{top:e.top,right:e.right,left:e.left,bottom:e.bottom},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on,l=t.attrs;return[a("div",e._g(e._b({},"div",l,!1),i),[e._t("default")],2)]}}],null,!0)},[a("span",[e._v(e._s(e.tip))])])},l=[],s={props:{tip:{type:String,default:""},top:{type:Boolean,default:!1},right:{type:Boolean,default:!1},bottom:{type:Boolean,default:!1},left:{type:Boolean,default:!1}}},n=s,o=a("2877"),r=a("6544"),d=a.n(r),u=a("3a2f"),c=Object(o["a"])(n,i,l,!1,null,null,null);t["a"]=c.exports;d()(c,{VTooltip:u["a"]})},9310:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("grid-item",{staticClass:"field-source-code",attrs:{"col-end":"span 2"}},[a("v-textarea",{staticClass:"rounded-0",attrs:{label:e.label,value:e.value,name:e.name,rows:10,dense:"",outlined:"",dark:""}})],1)},l=[],s=a("d803"),n={mixins:[s["a"]]},o=n,r=(a("7716"),a("2877")),d=a("6544"),u=a.n(d),c=a("a844"),m=Object(r["a"])(o,i,l,!1,null,null,null);t["default"]=m.exports;u()(m,{VTextarea:c["a"]})},9431:function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("svg",{staticClass:"mrx-loading",attrs:{viewBox:"0 0 105 76"}},[a("path",{attrs:{d:"M104.4,0 L46,35.6 L105,50.6 L62.4,35.6 z M0.6,76 L59,40.3 L0,25.3 L42.6,40.3 z"}})])},l=[],s=(a("7eba"),a("2877")),n={},o=Object(s["a"])(n,i,l,!1,null,null,null);t["a"]=o.exports},"968c":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-dialog",{attrs:{value:e.value,"max-width":"330px"},on:{input:function(t){return e.$emit("input",t)}}},[a("v-card",{staticClass:"pa-4",attrs:{dark:""}},[a("div",{staticClass:"title mb-4 text-center"},[e._v("Vincular módulo")]),a("v-select",{staticClass:"mb-3",attrs:{items:e.modules,label:"Módulo",outlined:"",dense:"","hide-details":""},model:{value:e.selectedModule,callback:function(t){e.selectedModule=t},expression:"selectedModule"}}),a("v-btn",{staticClass:"text-none",attrs:{disabled:!e.selectedModule,color:"secondary",block:"",depressed:""},on:{click:e.link}},[e._v("Vincular")])],1),e.value?a("v-overlay",{model:{value:e.loading,callback:function(t){e.loading=t},expression:"loading"}},[a("loading")],1):e._e()],1)},l=[],s=a("9431"),n={props:{value:Boolean,fieldId:{type:Number,required:!0}},data:()=>({loading:!1,selectedModule:null}),computed:{moduleId(){return this.$rest("modules").item.id},modules(){return this.$rest("modules").list.filter(({id:e,viewKey:t})=>"table"===t&&e!=this.$rest("modules").item.id).map(({name:e,key:t})=>({text:e,value:t}))}},methods:{link(){this.loading=!0,this.$rest("modulesCategories").put({id:"link-module",data:{link:this.selectedModule},params:{fieldId:this.fieldId,moduleId:this.moduleId}}).finally(()=>{this.$router.go()})}},components:{Loading:s["a"]}},o=n,r=a("2877"),d=a("6544"),u=a.n(d),c=a("8336"),m=a("b0af"),p=a("169a"),f=a("a797"),h=a("b974"),v=Object(r["a"])(o,i,l,!1,null,null,null);t["default"]=v.exports;u()(v,{VBtn:c["a"],VCard:m["a"],VDialog:p["a"],VOverlay:f["a"],VSelect:h["a"]})},"98ab":function(e,t,a){"use strict";a("f3b3")},"9b4d":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("template-dialog-any",{attrs:{value:e.value,title:"Opções","max-width":"500px"},on:{input:function(t){return e.$emit("input",t)}},scopedSlots:e._u([{key:"actions",fn:function(){},proxy:!0}])},[a("div",{staticClass:"d-flex"},[a("v-text-field",{ref:"prefix",staticClass:"mr-2",attrs:{rules:[e.rules.url],disabled:e.loading.prefix,loading:e.loading.prefix,label:"Prefixo",type:"url",outlined:"",dense:"",dark:""},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.save("prefix")}},model:{value:e.options.prefix,callback:function(t){e.$set(e.options,"prefix",t)},expression:"options.prefix"}}),a("div",{staticClass:"pt-1"},[a("template-dialog-header-button",{attrs:{icon:"fas fa-save",text:"Salvar"},on:{click:function(t){return e.save("prefix")}}})],1)],1)])},l=[],s=a("5f42"),n=a("dee3"),o=a("d492"),r={props:{value:Boolean,fieldId:{type:Number,required:!0},fieldOptions:{type:Object,required:!0}},data:()=>({rules:{url:s["f"]},loading:{prefix:!1},options:{prefix:null}}),computed:{moduleId(){return this.$rest("modules").item.id}},methods:{save(e){const t=this.$refs[e];t.validate()&&(this.loading[e]=!0,this.$rest("modulesFields").put({id:this.fieldId,prop:"options",data:{option:e,value:this.options[e]},params:{moduleId:this.moduleId}}).then(()=>{this.fieldOptions[e]=this.options[e],this.loading[e]=!1}))}},watch:{fieldOptions(e){this.options={...e}}},mounted(){this.options={...this.fieldOptions}},components:{TemplateDialogAny:n["a"],TemplateDialogHeaderButton:o["a"]}},d=r,u=a("2877"),c=a("6544"),m=a.n(c),p=a("8654"),f=Object(u["a"])(d,i,l,!1,null,null,null);t["default"]=f.exports;m()(f,{VTextField:p["a"]})},"9b55":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("grid-item",{staticClass:"field-date",attrs:{"col-end":"span 2","col-end-sm":"span 1"}},[a("v-text-field",{attrs:{label:e.label,value:e._value,name:e.name,type:"date",dense:"",outlined:"",dark:""}})],1)},l=[],s=a("d803"),n=a("24cd"),o={mixins:[s["a"]],computed:{moduleKey(){return this.$rest("modules").item.key},item(){return this.$rest(this.moduleKey).item},_value(){return this.value?this.value:this.item.alteredAt?null:Object(n["a"])(new Date)}}},r=o,d=(a("ae64"),a("2877")),u=a("6544"),c=a.n(u),m=a("8654"),p=Object(d["a"])(r,i,l,!1,null,null,null);t["default"]=p.exports;c()(p,{VTextField:m["a"]})},"9bc7":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("template-dialog-any",{attrs:{value:e.value,title:"Subcategorias","max-width":"500px"},on:{input:function(t){return e.$emit("input",t)}},scopedSlots:e._u([{key:"actions",fn:function(){return[a("template-dialog-header-button",{attrs:{disabled:!e.tableSelecteds.length,icon:"fas fa-trash",text:"Remover"},on:{click:e.removeItem}},[e._v("Remover")]),a("template-dialog-header-button",{attrs:{icon:"fas fa-plus",text:"Adicionar"},on:{click:function(t){e.addDialog=!0}}})]},proxy:!0}])},[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6"}},[a("select-field-category",{attrs:{value:e.fieldCategory,"field-id":e.fieldId,"module-id":e.moduleId,items:e.fieldsCategory}})],1),a("v-col",{attrs:{cols:"12",sm:"6"}},[a("v-select",{attrs:{items:e.categories,label:"Campo",outlined:"",dense:"","hide-details":""},model:{value:e.selectedCategory,callback:function(t){e.selectedCategory=t},expression:"selectedCategory"}})],1)],1),e.items.length?a("v-data-table",{attrs:{headers:e.tableHeaders,items:e.items,"mobile-breakpoint":0,loading:e.loading,search:e.selectedCategory,"custom-filter":e.filterItems,"no-data-text":"Não há registros.","no-results-text":"Não há registros.","sort-by":"id","sort-desc":"","show-select":"","disable-pagination":"","hide-default-footer":""},scopedSlots:e._u([{key:"item.title",fn:function(t){var i=t.item;return[a("v-edit-dialog",{staticClass:"primary lighten-4",attrs:{"return-value":e.itemTitle,dark:""},on:{save:function(t){return e.updateItemTitle(i.id)},"update:returnValue":function(t){e.itemTitle=t},"update:return-value":function(t){e.itemTitle=t}},scopedSlots:e._u([{key:"input",fn:function(){return[a("v-text-field",{attrs:{value:i.title,rules:[e.rules.required],label:"Renomear","single-line":"",counter:""},on:{input:function(t){return e.itemTitle=t}}})]},proxy:!0}],null,!0)},[e._v(e._s(i.title))])]}}],null,!1,4059704134),model:{value:e.tableSelecteds,callback:function(t){e.tableSelecteds=t},expression:"tableSelecteds"}}):a("div",{staticClass:"pt-8 pb-4 text-body-2 text-center font-weight-bold"},[e._v("Nenhuma categoria foi adicionada.")]),a("add",{attrs:{"field-id":e.fieldId,"module-id":e.moduleId,categories:e.categories},model:{value:e.addDialog,callback:function(t){e.addDialog=t},expression:"addDialog"}})],1)},l=[],s=a("dee3"),n=a("d492"),o=a("f96c"),r=a("9d3e"),d=a("5f42"),u={props:{value:Boolean,moduleId:{type:Number,required:!0},fieldId:{type:Number,required:!0},fieldCategory:{type:Number,required:!0},items:{type:Array,default:()=>[]}},data:()=>({addDialog:!1,loading:!1,tableSelecteds:[],tableHeaders:[{text:"Título",value:"title",align:"left"}],itemTitle:null,rules:{required:d["e"]},selectedCategory:null}),computed:{fieldsCategory(){const e=this.$rest("modules").item.fields.filter(({typeKey:e})=>"category"===e).map(({id:e,name:t})=>({text:t,value:parseInt(e)}));return e.unshift({text:"",value:""}),e},categories(){return this.$rest("modulesCategories").getters.filterByProperty("fieldId",this.fieldCategory).map(({id:e,title:t})=>({text:t,value:e}))}},methods:{removeItem(){this.loading=!0,Promise.all(this.tableSelecteds.map(({id:e})=>this.$rest("modulesSubcategories").delete({id:e,params:{moduleId:this.moduleId}}))).finally(()=>{this.tableSelecteds=[],this.loading=!1})},updateItemTitle(e){const t=this.items.find(({id:t})=>t==e).title;this.itemTitle&&t!==this.itemTitle&&(this.loading=!0,this.$rest("modulesSubcategories").put({id:e,prop:"title",data:{value:this.itemTitle},params:{moduleId:this.moduleId}}).then(()=>this.$parent.get().then(()=>this.loading=!1)))},filterItems(e,t,{categoryId:a}){return a===t}},components:{TemplateDialogAny:s["a"],TemplateDialogHeaderButton:n["a"],SelectFieldCategory:o["default"],Add:r["default"]}},c=u,m=a("2877"),p=a("6544"),f=a.n(p),h=a("62ad"),v=a("8fea"),g=a("7679"),b=a("0fd9"),y=a("b974"),x=a("8654"),k=Object(m["a"])(c,i,l,!1,null,null,null);t["default"]=k.exports;f()(k,{VCol:h["a"],VDataTable:v["a"],VEditDialog:g["a"],VRow:b["a"],VSelect:y["a"],VTextField:x["a"]})},"9d3e":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("template-dialog-any",{attrs:{value:e.value,title:"Adicionar subcategoria","max-width":"330px",simple:""},on:{input:function(t){return e.$emit("input",t)}}},[a("v-select",{staticClass:"mb-3",attrs:{items:e.categories,disabled:e.loading,label:"Categoria",outlined:"",dense:"","hide-details":""},model:{value:e.category,callback:function(t){e.category=t},expression:"category"}}),a("v-text-field",{staticClass:"mb-3",attrs:{disabled:e.loading,label:"Título",outlined:"",dense:"","hide-details":""},model:{value:e.title,callback:function(t){e.title=t},expression:"title"}}),a("v-btn",{staticClass:"text-none",attrs:{disabled:!e.title||!e.category||e.loading,loading:e.loading,color:"secondary",block:"",depressed:""},on:{click:e.add}},[e._v("Adicionar")])],1)},l=[],s=a("dee3"),n={props:{value:Boolean,moduleId:{type:Number,required:!0},fieldId:{type:Number,required:!0},categories:{type:Array,required:!0}},data:()=>({loading:!1,category:null,title:null}),methods:{add(){this.loading=!0,this.$rest("modulesSubcategories").post({data:{title:this.title},params:{moduleId:this.moduleId,fieldId:this.fieldId,categoryId:this.category}}).finally(()=>{this.title=null,this.loading=!1})}},components:{TemplateDialogAny:s["a"]}},o=n,r=a("2877"),d=a("6544"),u=a.n(d),c=a("8336"),m=a("b974"),p=a("8654"),f=Object(r["a"])(o,i,l,!1,null,null,null);t["default"]=f.exports;u()(f,{VBtn:c["a"],VSelect:m["a"],VTextField:p["a"]})},"9f72":function(e,t,a){"use strict";a("ee89")},"9fd5":function(e,t,a){"use strict";a("b402")},a798:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("grid-item",{staticClass:"mb-5",attrs:{"row-end":"span 4","col-end":"span 2","col-end-sm":"span 1"}},[a("div",{staticClass:"grey--text text--lighten-1 font-weight-bold text-caption"},[e._v(" "+e._s(e.label)+" ")]),a("v-img",{staticClass:"grey rounded-lg",class:(!e.featuredImage||!e.featuredImage.path)&&"d-flex align-center",attrs:{src:e.files.replace(e.prefixPath,"")+(e.featuredImage&&e.featuredImage.path),"aspect-ratio":19/9,contain:""}},[e.loading?e._e():[e.featuredImage&&e.featuredImage.path?a("div",{staticClass:"d-flex justify-end ma-3"},[a("v-btn",{staticClass:"text-none",attrs:{href:e.files.replace(e.prefixPath,"")+e.featuredImage.path,target:"_blank",download:"image",depressed:"",small:""}},[a("v-icon",{attrs:{"x-small":"",left:""}},[e._v("fas fa-download")]),e._v("Download ")],1),a("v-btn",{staticClass:"ml-2 text-none",attrs:{target:"_blank",download:"image",depressed:"",small:""},on:{click:function(t){e.dialog=!0}}},[a("v-icon",{attrs:{"x-small":"",left:""}},[e._v("fas fa-file-image")]),e._v("Alterar ")],1)],1):a("div",{staticClass:"d-flex justify-center align-center"},[a("v-sheet",{directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"d-flex flex-column justify-center align-center primary rounded-circle cursor-pointer",attrs:{height:"80",width:"80"},on:{click:function(t){e.dialog=!0}}},[a("v-icon",{staticClass:"d-block mx-auto",attrs:{size:30}},[e._v("fas fa-file-image")]),a("div",{staticClass:"text-caption font-weight-bold mt-1"},[e._v("Enviar")])],1)],1)]],2),a("List",{attrs:{"input-name":e.name,images:e.imgs,"featured-image":e.featuredImage,"field-id":e.fieldId},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}})],1)},l=[],s=a("56b4"),n=a("d803"),o={props:{fieldId:{type:Number,required:!0}},data:()=>({dialog:!1,imgs:[],loading:!0}),computed:{moduleId(){return this.$rest("modules").item.id},itemId(){return this.$route.params.sub||1},featuredImage(){return this.imgs.find(e=>e.id==this.value)}},methods:{get(){return this.$rest("modulesImages").get({id:this.itemId,params:{moduleId:this.moduleId,fieldId:this.fieldId}}).then(e=>{this.imgs=e.map(({id:e,path:t,title:a,order:i})=>({id:e,path:t,title:a,order:parseInt(i),loading:!1,progress:0})).sort((e,t)=>e.order-t.order)}).finally(()=>this.loading=!1)}},mounted(){this.get()},mixins:[n["a"]],components:{List:s["default"]}},r=o,d=a("2877"),u=a("6544"),c=a.n(u),m=a("8336"),p=a("132d"),f=a("adda"),h=a("8dd9"),v=a("269a"),g=a.n(v),b=a("5607"),y=Object(d["a"])(r,i,l,!1,null,null,null);t["default"]=y.exports;c()(y,{VBtn:m["a"],VIcon:p["a"],VImg:f["a"],VSheet:h["a"]}),g()(y,{Ripple:b["a"]})},aad5:function(e,t,a){"use strict";a("b7a9")},ac83:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-dialog",{attrs:{value:e.value,"max-width":"800px"},on:{input:function(t){return e.$emit("input",t)}}},[a("v-card",{staticClass:"pa-4",attrs:{dark:""}},[a("div",{staticClass:"title mb-4 d-flex flex-column flex-sm-row justify-space-between"},[a("div",[e._v("Coleção com chave")]),a("div",[a("v-btn",{staticClass:"mr-2 text-none",attrs:{color:"secondary",disabled:!e.selecteds.length,depressed:"",small:""},on:{click:e.remove}},[a("v-icon",{attrs:{left:"",small:""}},[e._v("fas fa-trash")]),a("span",[e._v("Remover")])],1),a("v-btn",{staticClass:"text-none",attrs:{color:"secondary",depressed:"",small:""},on:{click:e.add}},[a("v-icon",{attrs:{left:"",small:""}},[e._v("fas fa-plus")]),a("span",[e._v("Adicionar")])],1)],1)]),e.mappedItems.length?a("v-form",{ref:"form"},[a("v-data-table",{attrs:{headers:e.headers,items:e.mappedItems,"mobile-breakpoint":0,"no-data-text":"Não há registros.","show-select":"","disable-pagination":"","hide-default-footer":""},scopedSlots:e._u([{key:"item.item",fn:function(t){var i=t.item;return[a("div",{staticClass:"field-collectionwithkey-list-item mt-1 py-2"},[a("v-textarea",{staticClass:"mb-2",attrs:{value:i.value[0],rows:1,dense:"","auto-grow":"",outlined:""},on:{input:function(t){return e.items_[i.id][0]=t}}}),a("v-textarea",{attrs:{value:i.value[1],rows:1,dense:"","auto-grow":""},on:{input:function(t){return e.items_[i.id][1]=t}}})],1)]}}],null,!1,335915125),model:{value:e.selecteds,callback:function(t){e.selecteds=t},expression:"selecteds"}})],1):a("div",{staticClass:"pt-8 pb-4 text-body-2 text-center font-weight-bold"},[e._v("Nenhum item foi adicionado.")]),a("v-btn",{staticClass:"text-none mt-2",attrs:{color:"secondary",block:"",depressed:""},on:{click:e.save}},[e._v("Salvar")])],1),a("v-overlay",{model:{value:e.loading,callback:function(t){e.loading=t},expression:"loading"}},[a("loading")],1)],1)},l=[],s=a("9431"),n={props:{value:Boolean,inputName:{type:String,required:!0},items:{type:Object,required:!0}},data:()=>({loading:!1,items_:[],selecteds:[],headers:[{text:"Item",value:"item",align:"left"}]}),computed:{moduleKey(){return this.$rest("modules").item.key},itemId(){return this.$route.params.sub||1},mappedItems(){return this.items_.map((e,t)=>({id:t,value:e}))}},methods:{add(){this.items_.push(["",""])},remove(){this.selecteds.map(({id:e})=>{this.items_.splice(this.items_.findIndex(t=>t.id==e),1)}),this.selecteds=[]},save(){const e=this.$refs.form;if(!e.validate())return;const t=JSON.stringify(Object.fromEntries(this.items_));this.loading=!0,this.$rest(this.moduleKey).put({id:this.itemId,prop:this.inputName,data:{value:t}}).then(()=>this.$emit("saved")).finally(()=>{this.items_=Object.entries(JSON.parse(t)),this.selecteds=[],this.loading=!1})}},watch:{items(){this.items_=Object.entries(this.items)}},mounted(){this.items_=Object.entries(this.items)},components:{Loading:s["a"]}},o=n,r=(a("5c28"),a("2877")),d=a("6544"),u=a.n(d),c=a("8336"),m=a("b0af"),p=a("8fea"),f=a("169a"),h=a("4bd4"),v=a("132d"),g=a("a797"),b=a("a844"),y=Object(r["a"])(o,i,l,!1,null,null,null);t["default"]=y.exports;u()(y,{VBtn:c["a"],VCard:m["a"],VDataTable:p["a"],VDialog:f["a"],VForm:h["a"],VIcon:v["a"],VOverlay:g["a"],VTextarea:b["a"]})},ae64:function(e,t,a){"use strict";a("eb0f")},b1a5:function(e,t,a){"use strict";a("1e0c")},b402:function(e,t,a){},b618:function(e,t,a){},b7a9:function(e,t,a){},b87b:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-dialog",{attrs:{value:e.value,"max-width":"800px"},on:{input:function(t){return e.$emit("input",t)}}},[a("v-card",{staticClass:"pa-4",attrs:{dark:""}},[a("div",{staticClass:"title mb-4 d-flex flex-column flex-sm-row justify-space-between"},[a("div",[e._v("Coleção")]),a("div",[a("v-btn",{staticClass:"mr-2 text-none",attrs:{color:"secondary",disabled:!e.selecteds.length,depressed:"",small:""},on:{click:e.remove}},[a("v-icon",{attrs:{left:"",small:""}},[e._v("fas fa-trash")]),a("span",[e._v("Remover")])],1),a("v-btn",{staticClass:"text-none",attrs:{color:"secondary",depressed:"",small:""},on:{click:e.add}},[a("v-icon",{attrs:{left:"",small:""}},[e._v("fas fa-plus")]),a("span",[e._v("Adicionar")])],1)],1)]),e.mappedItems.length?a("v-form",{ref:"form"},[a("v-data-table",{attrs:{headers:e.headers,items:e.mappedItems,"mobile-breakpoint":0,"no-data-text":"Não há registros.","show-select":"","disable-pagination":"","hide-default-footer":""},scopedSlots:e._u([{key:"item.item",fn:function(t){var i=t.item;return[a("v-textarea",{staticClass:"field-collection-list-item mt-1 py-2",attrs:{value:i.value,rows:1,dense:"","auto-grow":""},on:{input:function(t){return e.items_[i.id]=t}}})]}}],null,!1,3566353504),model:{value:e.selecteds,callback:function(t){e.selecteds=t},expression:"selecteds"}})],1):a("div",{staticClass:"pt-8 pb-4 text-body-2 text-center font-weight-bold"},[e._v("Nenhum item foi adicionado.")]),a("v-btn",{staticClass:"text-none mt-2",attrs:{color:"secondary",block:"",depressed:""},on:{click:e.save}},[e._v("Salvar")])],1),a("v-overlay",{model:{value:e.loading,callback:function(t){e.loading=t},expression:"loading"}},[a("loading")],1)],1)},l=[],s=a("9431"),n={props:{value:Boolean,inputName:{type:String,required:!0},items:{type:Array,required:!0}},data:()=>({loading:!1,items_:[],selecteds:[],headers:[{text:"Item",value:"item",align:"left"}]}),computed:{moduleKey(){return this.$rest("modules").item.key},itemId(){return this.$route.params.sub||1},mappedItems(){return this.items_.map((e,t)=>({id:t,value:e}))}},methods:{add(){this.items_.push("")},remove(){this.items_=this.items_.filter((e,t)=>!this.selecteds.find(({id:e})=>e===t)),this.selecteds=[]},save(){const e=this.$refs.form;if(e&&!e.validate())return;const t=JSON.stringify(this.items_);this.loading=!0,this.$rest(this.moduleKey).put({id:this.itemId,prop:this.inputName,data:{value:t}}).then(()=>this.$emit("saved")).finally(()=>{this.selecteds=[],this.loading=!1})}},watch:{items(){this.items_=this.items}},mounted(){this.items_=this.items},components:{Loading:s["a"]}},o=n,r=(a("7c32"),a("2877")),d=a("6544"),u=a.n(d),c=a("8336"),m=a("b0af"),p=a("8fea"),f=a("169a"),h=a("4bd4"),v=a("132d"),g=a("a797"),b=a("a844"),y=Object(r["a"])(o,i,l,!1,null,null,null);t["default"]=y.exports;u()(y,{VBtn:c["a"],VCard:m["a"],VDataTable:p["a"],VDialog:f["a"],VForm:h["a"],VIcon:v["a"],VOverlay:g["a"],VTextarea:b["a"]})},ba07:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("module-template",{attrs:{title:e.data.name},scopedSlots:e._u([{key:"toolbar",fn:function(){return[a("toolbar-button",{attrs:{disabled:!e.selecteds.length,tip:"Remover",icon:"fas fa-trash",dark:""},on:{click:e.remove}}),a("toolbar-button",{attrs:{tip:"Adicionar",icon:"fas fa-plus",dark:""},on:{click:e.add}}),a("print-button"),a("export-button",{attrs:{"module-key":e.data.key,fields:e.fields}})]},proxy:!0}])},[a("div",[a("div",{staticClass:"pa-2 primary lighten-1 module-search"},[a("v-text-field",{attrs:{"append-icon":"fas fa-search",label:"Pesquisar","single-line":"","hide-details":"",dense:"",outlined:"",dark:""},on:{"click:append":function(t){return e.get(1)},keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.get(1)}},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),a("v-data-table",{attrs:{headers:e.headers,items:e.items,loading:e.loading,"server-items-length":e.totalItems,"items-per-page":e.itemsPerPage,height:"calc(100vh - 226px)","sort-by":"id","loading-text":"Carregado dados.","no-data-text":"Não há registros.","no-results-text":"Não há registros.","show-select":"","sort-desc":"","fixed-header":"",dark:""},on:{"click:row":function(t){return e.$router.push(e.$route.path+"/"+t.id)},"update:page":e.changePage},scopedSlots:e._u([e._l(e.listHeaders,(function(t,i){return{key:"header."+t,fn:function(t){var i=t.header;return[i.enabledTableFilter?a(i.field.typeKey+"TableFilter",{tag:"component",attrs:{text:i.text,field:i.field,options:e.filtersOptions[i.value]},on:{filter:e.filter}}):[e._v(e._s(i.text))]]}}})),e._l(e.listHeaders,(function(t,i){return{key:"item."+t,fn:function(i){var l=i.item;return["string"===typeof l[t]?[a("span",[e._v(e._s(l[t]))])]:l[t]&&"object"===typeof l[t]?[l[t].innerHTML?a("div",{domProps:{innerHTML:e._s(l[t].innerHTML)}}):l[t].component?a(l[t].component,{tag:"component",attrs:{value:l[t].value}}):e._e()]:e._e()]}}})),{key:"item.action",fn:function(t){var i=t.item;return[a("div",{staticClass:"d-flex justify-end"},[parseInt(i.active)?a("v-btn",{attrs:{color:"green",icon:"",small:""},on:{click:function(t){return t.stopPropagation(),e.toggleActive(i.id,!1)}}},[a("v-icon",{attrs:{small:""}},[e._v("fas fa-eye")])],1):a("v-btn",{attrs:{color:"blue",icon:"",small:""},on:{click:function(t){return t.stopPropagation(),e.toggleActive(i.id,!0)}}},[a("v-icon",{attrs:{small:""}},[e._v("fas fa-eye-slash")])],1)],1)]}}],null,!0),model:{value:e.selecteds,callback:function(t){e.selecteds=t},expression:"selecteds"}})],1),a("v-overlay",{attrs:{absolute:""},model:{value:e.loading,callback:function(t){e.loading=t},expression:"loading"}},[a("loading")],1)],1)},l=[],s=a("e3c9"),n=a("bb01"),o=a("e42b"),r=a("fe48"),d=a("eed2"),u=Object.fromEntries(a("f66d").keys().filter(e=>/\.\/[^]+\/TableFilter.vue/.test(e)).map(e=>[e.replace(/\.\/([^./]+)\/TableFilter.vue/,"$1").toLowerCase().replace(/[^a-z]/g,"").concat("TableFilter"),a("8e366")("./"+e.slice(2)).default])),c=a("9431"),m={name:"TableList",props:{data:Object},data:()=>({loading:!0,search:"",selecteds:[],totalItems:0,items:[],action:"item.action",itemsPerPage:30,filtersOptions:{},filtersQuery:{}}),computed:{fields(){return this.data.fields},listHeaders(){return this.data.viewOptions.listHeaders},headers(){if(!this.listHeaders||!this.fields)return[];const e=this.listHeaders.map(e=>{const t={value:e,align:"left",sortable:!1},a=this.fields.find(({key:t})=>t==e);switch(e){case"showFrom":t.text="Começo";break;case"showUp":t.text="Fim";break;default:t.text=a.name,t.field=a,t.enabledTableFilter=!!u[a.typeKey+"TableFilter"],t.enabledTableFilter&&(this.filtersOptions[e]={active:!1});break}return t});return e.unshift({text:"Id",value:"id",align:"left",sortable:!1,filterable:!1}),e.push({text:"",value:"action",align:"right",sortable:!1,filterable:!1}),e},sm(){return this.$vuetify.breakpoint.smAndDown}},methods:{get(e=1,t=null){const a={fields:"id,active,"+this.listHeaders.join(","),itemsPerPage:t||this.itemsPerPage,page:e,search:this.search,returnTotalItems:1,...this.filtersQuery};return this.$rest(this.data.key).get({params:a,save:async(e,{list:t,totalItems:a})=>{this.totalItems=parseInt(a),e.list=t,this.items=[];const i=Object.fromEntries(this.fields.map(({key:e,typeKey:t})=>[e,t]));for(let l of t){const e={};for(let t in l){const a=i[t];if(i[t])if(d["a"][a]){const i=d["a"][a]({id:l.id,item:l,component:this,value:l[t],fieldData:this.fields.find(e=>e.key===t),moduleId:this.data.id});e[t]=i instanceof Promise?await i:i}else e[t]=l[t];else"showFrom"!==t&&"showUp"!==t||!l[t]?e[t]=l[t]:e[t]=new Date(l[t]).toLocaleString("pt-BR",{dateStyle:"short",timeStyle:"short"})}this.items.push(e)}this.loading=!1}}).catch(()=>this.$router.replace("/"))},add(){this.loading=!0,this.$rest(this.data.key).post().then(({id:e})=>this.$router.push(this.$route.path+"/"+e)).finally(()=>this.loading=!1)},remove(){this.loading=!0,Promise.all(this.selecteds.map(({id:e})=>this.$rest(this.data.key).delete({id:e}).then(()=>{this.items.splice(this.items.findIndex(t=>t.id==e),1),this.loading=!1}))).finally(()=>this.loading=!1)},toggleActive(e,t){this.$rest(this.data.key).put({id:e,prop:"active",data:{value:0|t}}).then(()=>this.items.find(t=>t.id==e).active=0|t)},changePage(e){this.loading=!0,this.get(e)},filter(){const e=new URLSearchParams;function t(e,t){const a=e.get("filters")?e.get("filters").split(","):[];a.includes(t)||a.push(t),e.set("filters",a.join(","))}for(let a in this.filtersOptions){const i=this.filtersOptions[a];if(i.active){t(e,a);for(let[t,a]of i.query)e.set(t,a)}}this.filtersQuery=Object.fromEntries(e.entries()),this.loading=!0,this.get()}},created(){this.loading=!0,this.get()},components:{ToolbarButton:s["a"],PrintButton:n["a"],ExportButton:o["a"],ModuleTemplate:r["a"],Loading:c["a"],...u}},p=m,f=a("2877"),h=a("6544"),v=a.n(h),g=a("8336"),b=a("8fea"),y=a("132d"),x=a("a797"),k=a("8654"),_=Object(f["a"])(p,i,l,!1,null,null,null),I=_.exports;v()(_,{VBtn:g["a"],VDataTable:b["a"],VIcon:y["a"],VOverlay:x["a"],VTextField:k["a"]});var w=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("module-template",{attrs:{title:e.data.name+" / Alterar",width:"800px","max-width":"100%"},scopedSlots:e._u([{key:"toolbar",fn:function(){return[a("toolbar-button",{attrs:{tip:"Começo/Fim",icon:"fas fa-calendar-alt"},on:{click:function(t){e.rangeDateActiveDialog=!0}}}),a("v-dialog",{attrs:{"max-width":"330px"},model:{value:e.rangeDateActiveDialog,callback:function(t){e.rangeDateActiveDialog=t},expression:"rangeDateActiveDialog"}},[a("v-card",{staticClass:"pa-4",attrs:{dark:""}},[a("div",{staticClass:"title mb-4 text-center"},[e._v("Alterar período ativo")]),a("v-form",{ref:"rangeDateActiveForm",staticClass:"table-module-edit-rangedateactived"},[a("v-text-field",{staticClass:"mb-3",attrs:{label:"Começo",type:"datetime-local",name:"showFrom",value:e.item.showFrom&&e.item.showFrom.replace(" ","T"),clearable:!0,"clear-icon":"fas fa-times",outlined:"",dense:"","hide-details":""}}),a("v-text-field",{staticClass:"mb-3",attrs:{label:"Fim",type:"datetime-local",name:"showUp",value:e.item.showUp&&e.item.showUp.replace(" ","T"),clearable:!0,"clear-icon":"fas fa-times",outlined:"",dense:"","hide-details":""}})],1),a("v-btn",{staticClass:"text-none",attrs:{color:"secondary",loading:e.updatingRangeDateActived,disabled:e.updatingRangeDateActived,block:"",depressed:""},on:{click:e.setRangeDateActived}},[e._v("Alterar")])],1)],1)]},proxy:!0}])},[a("v-card",{staticClass:"pa-2 rounded-t-0",attrs:{outlined:"",dark:""}},[a("v-form",{ref:"form"},[e._l(e.sectionedFields,(function(t,i){return a("div",{key:i,staticClass:"mb-6"},["null"!==i?[a("div",{staticClass:"text-body-1 text-uppercase font-weight-bold"},[e._v(e._s(i))]),a("div",{staticClass:"table-module-edit-form mt-2 primary lighten-2 pa-2 rounded"},e._l(t,(function(t,i){var l=t.id,s=t.name,n=t.key,o=t.typeKey,r=t.options;return a(o.toLowerCase()+"field",{key:i,tag:"component",attrs:{value:e.item[n]||"",label:s,name:n,"field-id":parseInt(l),"field-options":r}})})),1)]:a("div",{staticClass:"table-module-edit-form mt-2 rounded"},e._l(t,(function(t,i){var l=t.id,s=t.name,n=t.key,o=t.typeKey,r=t.options;return a(o.toLowerCase()+"field",{key:i,tag:"component",attrs:{value:e.item[n]||"",label:s,name:n,"field-id":parseInt(l),"field-options":r}})})),1)],2)})),a("div",{staticClass:"d-flex justify-end"},[a("v-btn",{staticClass:"text-none",attrs:{color:"secondary",depressed:""},on:{click:e.send}},[e._v(e._s(e.isPublished?"Alterar":"Publicar"))])],1)],2)],1)],1)},C=[],$=a("88cf"),T=a("75ba"),O={name:"TableAdd",props:{data:Object},data:()=>({rangeDateActiveDialog:!1,updatingRangeDateActived:!1}),computed:{itemId(){return this.$route.params.sub},item(){return this.$rest(this.data.key).item},isPublished(){return this.item.alteredAt&&parseInt(this.item.active)},sectionedFields(){return Object(T["c"])(this.data.fields,"modules_sections_fields_title")}},methods:{send(){const e=this.$refs.form;if(e.validate()){const t=Object.fromEntries(new FormData(e.$el).entries());for(let e in t)"object"===typeof t[e]&&delete t[e];this.isPublished||(t.active=1),this.$rest(this.data.key).put({id:this.itemId,data:t}).then(()=>this.$router.push("/"+this.data.key))}},setRangeDateActived(){this.updatingRangeDateActived=!0;const e=Object.fromEntries(new FormData(this.$refs.rangeDateActiveForm.$el).entries());this.$rest(this.data.key).put({id:this.itemId,save:()=>!1,data:e}).finally(()=>this.updatingRangeDateActived=!1)}},created(){this.$rest(this.data.key).get({id:this.itemId}).catch(()=>this.$router.replace("/"+this.data.key))},components:{ModuleTemplate:r["a"],ToolbarButton:s["a"],...$["a"]}},S=O,D=(a("fa0e"),a("b0af")),V=a("169a"),j=a("4bd4"),E=Object(f["a"])(S,w,C,!1,null,null,null),A=E.exports;v()(E,{VBtn:g["a"],VCard:D["a"],VDialog:V["a"],VForm:j["a"],VTextField:k["a"]});t["default"]={routes:[{name:"{name}",path:"/{key}",component:I},{name:"{name} / Alterar",path:"/{key}/:sub",component:A}]}},ba22:function(e,t,a){},bb01:function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("toolbar-button",{attrs:{tip:"Imprimir",icon:"fas fa-print",dark:""},on:{click:e.print}})},l=[],s=a("e3c9"),n={components:{ToolbarButton:s["a"]},methods:{print(){window.print()}}},o=n,r=a("2877"),d=Object(r["a"])(o,i,l,!1,null,null,null);t["a"]=d.exports},bce8:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("grid-item",{attrs:{"col-end":"span 2","col-end-sm":"span 1"}},[a("v-text-field",{attrs:{label:e.label,value:e.value,name:e.name,type:"number",dense:"",outlined:"",dark:""}})],1)},l=[],s=a("d803"),n={mixins:[s["a"]]},o=n,r=a("2877"),d=a("6544"),u=a.n(d),c=a("8654"),m=Object(r["a"])(o,i,l,!1,null,null,null);t["default"]=m.exports;u()(m,{VTextField:c["a"]})},beb4:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("grid-item",{attrs:{"col-end":"span 2","col-end-sm":"span 1"}},[a("v-text-field",{attrs:{label:e.label,value:e.value,name:e.name,dense:"",outlined:"",dark:""}})],1)},l=[],s=a("d803"),n={mixins:[s["a"]]},o=n,r=a("2877"),d=a("6544"),u=a.n(d),c=a("8654"),m=Object(r["a"])(o,i,l,!1,null,null,null);t["default"]=m.exports;u()(m,{VTextField:c["a"]})},c010:function(e,t,a){},c0a9:function(e,t,a){"use strict";a("b618")},c680:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("module-template",{attrs:{title:e.data.name+" / Alterar",width:"800px","max-width":"100%"}},[a("v-card",{staticClass:"pa-4 rounded-t-0",attrs:{outlined:"",dark:""}},[a("v-form",{ref:"form"},[e._l(e.sectionedFields,(function(t,i){return a("div",{key:i,staticClass:"mb-6"},["null"!==i?[a("div",{staticClass:"text-body-1 text-uppercase font-weight-bold"},[e._v(e._s(i))]),a("div",{staticClass:"item-module-add-form mt-2 primary lighten-2 pa-2 rounded"},e._l(t,(function(t,i){var l=t.id,s=t.name,n=t.key,o=t.typeKey,r=t.options;return a(o.toLowerCase()+"field",{key:i,tag:"component",attrs:{value:e.item[n]||"",label:s,name:n,"field-id":parseInt(l),"field-options":r}})})),1)]:a("div",{staticClass:"item-module-add-form mt-2 rounded"},e._l(t,(function(t,i){var l=t.id,s=t.name,n=t.key,o=t.typeKey,r=t.options;return a(o.toLowerCase()+"field",{key:i,tag:"component",attrs:{value:e.item[n]||"",label:s,name:n,"field-id":parseInt(l),"field-options":r}})})),1)],2)})),a("div",{staticClass:"d-flex justify-end"},[a("v-btn",{staticClass:"text-none",attrs:{color:"secondary",depressed:""},on:{click:e.send}},[e._v("Alterar")])],1)],2)],1)],1)},l=[],s=a("fe48"),n=a("88cf"),o=a("75ba"),r={name:"ItemIndex",props:{data:Object},data:()=>({itemId:1}),computed:{item(){return this.$rest(this.data.key).item},sectionedFields(){return Object(o["c"])(this.data.fields,"modules_sections_fields_title")}},methods:{send(){const e=this.$refs.form;if(e.validate()){const t=Object.fromEntries(new FormData(e.$el).entries());for(let e in t)"object"===typeof t[e]&&delete t[e];this.$rest(this.data.key).put({id:this.itemId,data:t}).then(()=>this.$router.push("/"))}}},created(){this.$rest(this.data.key).get({save:(e,t)=>e.item=t}).catch(()=>this.$router.replace("/"))},components:{ModuleTemplate:s["a"],...n["a"]}},d=r,u=(a("9f72"),a("2877")),c=a("6544"),m=a.n(c),p=a("8336"),f=a("b0af"),h=a("4bd4"),v=Object(u["a"])(d,i,l,!1,null,null,null),g=v.exports;m()(v,{VBtn:p["a"],VCard:f["a"],VForm:h["a"]});t["default"]={routes:[{name:"{name} / Alterar",path:"/{key}",component:g}]}},c8fe:function(e,t,a){"use strict";a("dac9")},cbef:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-dialog",{attrs:{value:e.value,"max-width":"330px"},on:{input:function(t){return e.$emit("input",t)}}},[a("v-card",{staticClass:"pa-4",attrs:{dark:""}},[a("div",{staticClass:"title mb-4 text-center"},[e._v("Vincular módulo")]),a("v-select",{staticClass:"mb-3",attrs:{items:e.modules,label:"Módulo",outlined:"",dense:"","hide-details":""},model:{value:e.selectedModule,callback:function(t){e.selectedModule=t},expression:"selectedModule"}}),a("v-btn",{staticClass:"text-none",attrs:{disabled:!e.selectedModule,color:"secondary",block:"",depressed:""},on:{click:e.link}},[e._v("Vincular")])],1),e.value?a("v-overlay",{model:{value:e.loading,callback:function(t){e.loading=t},expression:"loading"}},[a("loading")],1):e._e()],1)},l=[],s=a("9431"),n={props:{value:Boolean,fieldId:{type:Number,required:!0}},data:()=>({loading:!1,selectedModule:null}),computed:{moduleId(){return this.$rest("modules").item.id},modules(){return this.$rest("modules").list.filter(({id:e,viewKey:t})=>"table"===t&&e!=this.$rest("modules").item.id).map(({name:e,key:t})=>({text:e,value:t}))}},methods:{link(){this.loading=!0,this.$rest("modulesTags").put({id:"link-module",data:{link:this.selectedModule},params:{fieldId:this.fieldId,moduleId:this.moduleId}}).finally(()=>{this.$router.go()})}},components:{Loading:s["a"]}},o=n,r=a("2877"),d=a("6544"),u=a.n(d),c=a("8336"),m=a("b0af"),p=a("169a"),f=a("a797"),h=a("b974"),v=Object(r["a"])(o,i,l,!1,null,null,null);t["default"]=v.exports;u()(v,{VBtn:c["a"],VCard:m["a"],VDialog:p["a"],VOverlay:f["a"],VSelect:h["a"]})},cf92:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-dialog",{attrs:{value:e.value,"max-width":"330px"},on:{input:function(t){return e.$emit("input",t)}}},[a("v-card",{staticClass:"pa-4",attrs:{dark:""}},[a("div",{staticClass:"title mb-4 text-center"},[e._v("Adicionar tag")]),a("v-text-field",{staticClass:"mb-3",attrs:{label:"Título",outlined:"",dense:"","hide-details":""},model:{value:e.addTagTitle,callback:function(t){e.addTagTitle=t},expression:"addTagTitle"}}),a("v-btn",{staticClass:"text-none",attrs:{disabled:!e.addTagTitle,color:"secondary",block:"",depressed:""},on:{click:e.add}},[e._v("Adicionar")])],1),e.value?a("v-overlay",{model:{value:e.loading,callback:function(t){e.loading=t},expression:"loading"}},[a("loading")],1):e._e()],1)},l=[],s=a("9431"),n={props:{value:Boolean,fieldId:{type:Number,required:!0}},data:()=>({loading:!1,addTagTitle:null}),computed:{moduleId(){return this.$rest("modules").item.id}},methods:{add(){this.loading=!0,this.$rest("modulesTags").post({data:{title:this.addTagTitle},params:{moduleId:this.moduleId,fieldId:this.fieldId}}).then(e=>this.$emit("add",e)).finally(()=>{this.addTagTitle=null,this.addDialog=!1,this.loading=!1})}},components:{Loading:s["a"]}},o=n,r=a("2877"),d=a("6544"),u=a.n(d),c=a("8336"),m=a("b0af"),p=a("169a"),f=a("a797"),h=a("8654"),v=Object(r["a"])(o,i,l,!1,null,null,null);t["default"]=v.exports;u()(v,{VBtn:c["a"],VCard:m["a"],VDialog:p["a"],VOverlay:f["a"],VTextField:h["a"]})},cfa3:function(e,t,a){"use strict";a.r(t),t["default"]=async({component:e,value:t,moduleId:a,fieldData:i})=>{const l=i.options.linkModule;let s,n;l?(s=l,n={params:{fields:"id,title"}}):(s="modulesCategories",n={params:{moduleId:a},keepCache:!0});let o=e.$rest(s).list.find(({id:e})=>e==t);if(o)return o.title;let r=await e.$rest(s).get(n);return o=r.find(({id:e})=>e==t),o?o.title:""}},d088:function(e,t,a){"use strict";a.r(t),t["default"]=async({component:e,value:t,moduleId:a})=>{let i=e.$rest("modulesTags").list.find(({id:e})=>e==t);return i?i.title:e.$rest("modulesTags").get({params:{moduleId:a},keepCache:!0}).then(e=>{const a=e.find(({id:e})=>e==t);return a?a.title:""})}},d09a:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("grid-item",{attrs:{"col-end":"span 2","col-end-sm":"span 1"}},[a("div",{staticClass:"d-flex"},[a("v-text-field",{attrs:{label:e.label,value:e.value_,name:e.name,readonly:"",dense:"",outlined:"",dark:""}}),a("v-btn",{staticClass:"ml-1",attrs:{icon:"",small:""},on:{click:function(t){e.optionsDialog=!0}}},[a("v-icon",{attrs:{small:""}},[e._v("fas fa-cog")])],1)],1),a("options",{attrs:{"field-id":e.fieldId,"field-options":e.fieldOptions},model:{value:e.optionsDialog,callback:function(t){e.optionsDialog=t},expression:"optionsDialog"}})],1)},l=[],s=a("3c9e"),n=a("d803"),o=a("75ba"),r={props:{fieldId:{type:Number,required:!0},fieldOptions:{type:Object,required:!0}},data:()=>({optionsDialog:!1}),computed:{moduleKey(){return this.$rest("modules").item.key},moduleItem(){return this.$rest(this.moduleKey).item},itemProp(){return e=>{if("id"===e)return this.moduleItem["id"];const t=this.$parent.$children.find(({name:t})=>t===e);return t&&t.value_||""}},value_(){const e=this.fieldOptions.pattern;if(!e)return;const t=e.replace(/({([^}]+)})/g,(e,t,a)=>{const i=this.itemProp(a);return i?Object(o["b"])(i):""});return t}},mixins:[n["a"]],components:{Options:s["default"]}},d=r,u=a("2877"),c=a("6544"),m=a.n(c),p=a("8336"),f=a("132d"),h=a("8654"),v=Object(u["a"])(d,i,l,!1,null,null,null);t["default"]=v.exports;m()(v,{VBtn:p["a"],VIcon:f["a"],VTextField:h["a"]})},d0a1:function(e,t,a){},d23a:function(e,t,a){"use strict";a("e406")},d295:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("span",[e._v(e._s(e.value))]),a("v-btn",{staticClass:"ml-1",attrs:{icon:"",small:""},on:{click:function(t){return t.stopPropagation(),e.copy.apply(null,arguments)}}},[a("v-icon",{attrs:{small:""}},[e._v("fas fa-copy")])],1)],1)},l=[],s={props:{value:{type:String}},methods:{copy(){navigator.clipboard.writeText(this.value||"")}}},n=s,o=a("2877"),r=a("6544"),d=a.n(r),u=a("8336"),c=a("132d"),m=Object(o["a"])(n,i,l,!1,null,null,null);t["default"]=m.exports;d()(m,{VBtn:u["a"],VIcon:c["a"]})},d2b0:function(e,t,a){},d492:function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("tooltip",{attrs:{tip:e.text,top:""}},[a("v-btn",{staticClass:"text-none",attrs:{disabled:e.disabled,color:"secondary",depressed:"","x-small":"",fab:""},on:{click:function(t){return e.$emit("click",t)}}},[a("v-icon",{attrs:{small:""}},[e._v(e._s(e.icon))])],1)],1)},l=[],s=a("917e"),n={props:{icon:{type:String,required:!0},text:{type:String,required:!0},disabled:Boolean},components:{Tooltip:s["a"]}},o=n,r=a("2877"),d=a("6544"),u=a.n(d),c=a("8336"),m=a("132d"),p=Object(r["a"])(o,i,l,!1,null,null,null);t["a"]=p.exports;u()(p,{VBtn:c["a"],VIcon:m["a"]})},d4d2:function(e,t,a){"use strict";a("ddeb")},d803:function(e,t,a){"use strict";t["a"]={props:{label:{type:String,required:!0},value:String,name:{type:String,required:!0}},computed:{isAdminUser(){return 1==this.$store.state.user.type}}}},dac9:function(e,t,a){},db1c:function(e,t,a){"use strict";a("190d")},db65:function(e,t,a){"use strict";a("46ae")},ddc94:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("grid-item",{attrs:{"col-end":"span 2","col-end-sm":"span 1"}},[a("div",{staticClass:"d-flex"},[a("v-select",{attrs:{label:e.label,name:e.name,items:e.itemsSelect,dense:"",outlined:"",dark:""},model:{value:e.value_,callback:function(t){e.value_=t},expression:"value_"}}),a("v-btn",{staticClass:"ml-1",attrs:{icon:"",small:""},on:{click:function(t){e.listDialog=!0}}},[a("v-icon",{attrs:{small:""}},[e._v("fas fa-cog")])],1)],1),a("list",{attrs:{"module-id":e.moduleId,"field-id":e.fieldId,items:e.items,"field-category":parseInt(e.fieldOptions.category)},model:{value:e.listDialog,callback:function(t){e.listDialog=t},expression:"listDialog"}})],1)},l=[],s=a("917e"),n=a("9bc7"),o=a("d803"),r={props:{fieldId:{type:Number,required:!0},fieldOptions:{type:Object,required:!0}},data:()=>({listDialog:!1,value_:null}),computed:{moduleKey(){return this.$route.params.module},moduleId(){return parseInt(this.$rest("modules").item.id)},savedSelectedCategory(){if(!this.fieldOptions.category)return null;const e=this.$rest("modules").item.fields.find(({id:e})=>e==this.fieldOptions.category);return e?this.$parent.$children.find(({name:t})=>t===e.key).value:null},selectedCategory(){if(!this.fieldOptions.category)return null;const e=this.$rest("modules").item.fields.find(({id:e})=>e==this.fieldOptions.category);return e?this.$parent.$children.find(({name:t})=>t===e.key).value_:null},items(){return this.selectedCategory?this.$rest("modulesSubcategories").getters.filterByProperty("fieldId",this.fieldId).filter(({categoryId:e})=>e==this.selectedCategory):[]},itemsSelect(){const e=this.items.map(({title:e,id:t})=>({text:e,value:t}));return e.unshift({text:"",value:""}),e}},watch:{value(e){this.value_=e},selectedCategory(e){e!==this.savedSelectedCategory?this.value_=null:this.value_=this.value}},mounted(){this.value_=this.value},created(){this.$rest("modulesSubcategories").get({params:{moduleId:this.moduleId,fieldId:this.fieldId},keepCache:!0})},mixins:[o["a"]],components:{Tooltip:s["a"],List:n["default"]}},d=r,u=a("2877"),c=a("6544"),m=a.n(c),p=a("8336"),f=a("132d"),h=a("b974"),v=Object(u["a"])(d,i,l,!1,null,null,null);t["default"]=v.exports;m()(v,{VBtn:p["a"],VIcon:f["a"],VSelect:h["a"]})},ddeb:function(e,t,a){},dec4:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("grid-item",{attrs:{"col-end":"span 2","col-end-sm":"span 1"}},[a("v-text-field",{attrs:{label:e.label,value:e.value,readonly:"",dense:"",outlined:"",dark:""}})],1)},l=[],s=a("d803"),n={mixins:[s["a"]]},o=n,r=a("2877"),d=a("6544"),u=a.n(d),c=a("8654"),m=Object(r["a"])(o,i,l,!1,null,null,null);t["default"]=m.exports;u()(m,{VTextField:c["a"]})},dee3:function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-dialog",{attrs:{value:e.value,"max-width":e.maxWidth},on:{input:function(t){return e.$emit("input",t)}}},[e.loading?e._e():a("v-card",{staticClass:"pa-4",attrs:{dark:""}},[a("div",{staticClass:"title mb-4 d-flex flex-column flex-sm-row",class:e.simple?"justify-center":"justify-space-between"},[a("div",[e._v(e._s(e.title))]),e.simple?e._e():a("div",{staticClass:"field-dialog-actions d-flex"},[e._t("actions")],2)]),e._t("default")],2),e.value?a("v-overlay",{model:{value:e.loading,callback:function(t){e.loading=t},expression:"loading"}},[a("loading")],1):e._e()],1)},l=[],s=a("9431"),n={props:{value:Boolean,maxWidth:[String,Number],title:String,loading:Boolean,simple:{type:Boolean,value:!1}},components:{Loading:s["a"]}},o=n,r=(a("db65"),a("2877")),d=a("6544"),u=a.n(d),c=a("b0af"),m=a("169a"),p=a("a797"),f=Object(r["a"])(o,i,l,!1,null,null,null);t["a"]=f.exports;u()(f,{VCard:c["a"],VDialog:m["a"],VOverlay:p["a"]})},dfcc:function(e,t,a){},e3c9:function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("tooltip",{attrs:{tip:e.tip,top:""}},[e.sm?a("v-btn",e._g(e._b({attrs:{icon:"",exact:"",small:""}},"v-btn",e.$attrs,!1),e.$listeners),[a("v-icon",{attrs:{small:""}},[e._v(e._s(e.icon))])],1):a("v-btn",e._g(e._b({staticClass:"toolbar-button-desktop",attrs:{text:"",exact:"",small:""}},"v-btn",e.$attrs,!1),e.$listeners),[a("v-icon",{attrs:{small:""}},[e._v(e._s(e.icon))])],1)],1)],1)},l=[],s=a("917e"),n={props:{icon:{type:String,required:!0},tip:{type:String,default:""}},computed:{sm(){return this.$vuetify.breakpoint.smAndDown}},components:{Tooltip:s["a"]}},o=n,r=(a("8876"),a("2877")),d=a("6544"),u=a.n(d),c=a("8336"),m=a("132d"),p=Object(r["a"])(o,i,l,!1,null,null,null);t["a"]=p.exports;u()(p,{VBtn:c["a"],VIcon:m["a"]})},e403:function(e,t,a){"use strict";a("8909")},e406:function(e,t,a){},e42b:function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("toolbar-button",{attrs:{tip:"Exportar",icon:"fas fa-file-export",dark:""},on:{click:function(t){e.dialog=!0}}}),a("v-dialog",{attrs:{"max-width":"300px"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-card",{staticClass:"pa-4",attrs:{dark:""}},[a("div",{staticClass:"title mb-4 d-flex flex-column flex-sm-row justify-center"},[e._v("Exportar Itens Ativos")]),a("div",[a("v-select",{staticClass:"mb-3",attrs:{items:e.types,rules:[e.rules.required],label:"Tipo",name:"type",outlined:"",dense:"","hide-details":""},model:{value:e.typeSelected,callback:function(t){e.typeSelected=t},expression:"typeSelected"}}),a("v-select",{staticClass:"mb-3",attrs:{items:e.parsedFields,rules:[e.rules.required],label:"Campos",name:"fields",multiple:"",outlined:"",dense:"","hide-details":""},model:{value:e.fieldsSelecteds,callback:function(t){e.fieldsSelecteds=t},expression:"fieldsSelecteds"}}),a("v-btn",{staticClass:"text-none",attrs:{disabled:e.submitDisabled,loading:e.loading,color:"secondary",block:"",depressed:""},on:{click:e.exportation}},[e._v("Exportar")])],1)])],1),a("a",{ref:"link",attrs:{download:"export"}})],1)},l=[],s=a("e3c9"),n=a("5f42"),o={props:{moduleKey:{type:String,required:!0},fields:{type:Array,required:!0}},data:()=>({dialog:!1,types:["Excel"],typeSelected:"Excel",fieldsSelecteds:[],rules:{required:n["e"]},loading:!1}),computed:{parsedFields(){const e=this.fields.map(({name:e,key:t})=>({text:e,value:t}));return e.unshift({text:"Id",value:"id"}),e},submitDisabled(){return!this.typeSelected||!this.fieldsSelecteds.length}},components:{ToolbarButton:s["a"]},methods:{async exportation(){this.loading=!0;const e={type:this.typeSelected,fields:this.fieldsSelecteds},t=await fetch(`${this.server}/rest/${this.moduleKey}/export`,{method:"POST",body:JSON.stringify(e),headers:{Authorization:localStorage.getItem("token")}});if(this.loading=!1,t.ok){const e=await t.blob(),a=URL.createObjectURL(e),i=this.$refs.link;i.href=a,i.click(),i.href="",URL.revokeObjectURL(a)}else{const e=await t.json();this.$store.dispatch("endRequest",e)}}}},r=o,d=a("2877"),u=a("6544"),c=a.n(u),m=a("8336"),p=a("b0af"),f=a("169a"),h=a("b974"),v=Object(d["a"])(r,i,l,!1,null,null,null);t["a"]=v.exports;c()(v,{VBtn:m["a"],VCard:p["a"],VDialog:f["a"],VSelect:h["a"]})},eb0f:function(e,t,a){},ed85:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("grid-item",{attrs:{"col-end":"span 2","col-end-sm":"span 1"}},[a("div",{staticClass:"d-flex"},[a("v-autocomplete",{attrs:{label:e.label,name:e.name,items:e.categoriesSelect,"no-data-text":"Nenhuma categoria adicionada",dense:"",outlined:"",dark:""},model:{value:e.value_,callback:function(t){e.value_=t},expression:"value_"}}),a("v-btn",{staticClass:"ml-1",attrs:{icon:"",small:""},on:{click:function(t){e.listDialog=!0}}},[a("v-icon",{attrs:{small:""}},[e._v("fas fa-cog")])],1)],1),a("list",{attrs:{"field-id":e.fieldId,categories:e.categories,"link-module":e.linkModule,"is-admin-user":e.isAdminUser},model:{value:e.listDialog,callback:function(t){e.listDialog=t},expression:"listDialog"}})],1)},l=[],s=a("917e"),n=a("faaf"),o=a("d803"),r={props:{fieldId:{type:Number,required:!0},fieldOptions:{type:Object,required:!0}},data:()=>({listDialog:!1,value_:null}),computed:{moduleId(){return this.$rest("modules").item.id},itemId(){return this.$route.params.sub},linkModule(){return this.fieldOptions.linkModule},categories(){return this.linkModule?this.$rest(this.linkModule).list:this.$rest("modulesCategories").getters.filterByProperty("fieldId",this.fieldId)},categoriesSelect(){const e=this.categories.map(({title:e,id:t})=>({text:e,value:t}));return e.unshift({text:"",value:""}),e}},watch:{value(e){this.value_=e}},created(){this.linkModule?this.$rest(this.linkModule).get({params:{fields:"id,title"}}):this.$rest("modulesCategories").get({params:{moduleId:this.moduleId},keepCache:!0})},mounted(){this.value_=this.value},mixins:[o["a"]],components:{Tooltip:s["a"],List:n["default"]}},d=r,u=a("2877"),c=a("6544"),m=a.n(c),p=a("c6a6"),f=a("8336"),h=a("132d"),v=Object(u["a"])(d,i,l,!1,null,null,null);t["default"]=v.exports;m()(v,{VAutocomplete:p["a"],VBtn:f["a"],VIcon:h["a"]})},edfc:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("grid-item",{staticClass:"mb-2",attrs:{"row-end":"span 2","col-end":"span 2","col-end-sm":"span 1"}},[a("div",{staticClass:"grey--text text--lighten-1 font-weight-bold text-caption d-flex align-center mb-1"},[e._v(e._s(e.label))]),a("tooltip",{attrs:{tip:e.label,top:""}},[a("v-responsive",{directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"grey d-flex align-center rounded-lg primary cursor-pointer",attrs:{"aspect-ratio":38/9},on:{click:function(t){e.listDialog=!0}}},[a("div",{staticClass:"d-flex justify-center align-center"},[a("div",{staticClass:"d-flex flex-column"},[a("v-icon",{staticClass:"d-block mx-auto",attrs:{size:30}},[e._v("fas fa-layer-group")]),a("div",{staticClass:"text-caption font-weight-bold mt-1"},[e._v("Alterar")])],1)])])],1),a("list",{attrs:{items:e.parsedValue,"input-name":e.name},on:{saved:function(t){e.listDialog=!1}},model:{value:e.listDialog,callback:function(t){e.listDialog=t},expression:"listDialog"}})],1)},l=[],s=a("917e"),n=a("ac83"),o=a("d803"),r={props:{fieldId:{type:Number,required:!0}},data:()=>({listDialog:!1}),computed:{moduleId(){return parseInt(this.$rest("modules").item.id)},parsedValue(){return JSON.parse(this.value||"{}")}},beforeCreate(){this.$rest("modulesFieldsTypes").get()},mixins:[o["a"]],components:{Tooltip:s["a"],List:n["default"]}},d=r,u=a("2877"),c=a("6544"),m=a.n(c),p=a("132d"),f=a("6b53"),h=a("269a"),v=a.n(h),g=a("5607"),b=Object(u["a"])(d,i,l,!1,null,null,null);t["default"]=b.exports;m()(b,{VIcon:p["a"],VResponsive:f["a"]}),v()(b,{Ripple:g["a"]})},ee89:function(e,t,a){},eeaf:function(e,t,a){"use strict";a.r(t),t["default"]=[]},eed2:function(e,t,a){"use strict";var i=a("cfa3"),l=a("786f"),s=a("7302"),n=a("5ca6"),o=a("792e"),r=a("02a1"),d=a("67ec"),u=a("46c6"),c=a("d088"),m=a("785a");t["a"]={category:i["default"],collection:l["default"],date:s["default"],datetime:n["default"],imageFile:o["default"],link:r["default"],price:d["default"],switchBoolean:u["default"],tags:c["default"],time:m["default"]}},ef14:function(e,t,a){var i={"./custom/_module/add/Index.vue":["c5f3","chunk-2d217535"],"./item/_module/add/Index.vue":["d9d7","chunk-7404710a"],"./newsletter/_module/add/Index.vue":["94aa","chunk-2d0e5971"],"./table/_module/add/Index.vue":["3667","chunk-6f1d9f6d"]};function l(e){if(!a.o(i,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=i[e],l=t[0];return a.e(t[1]).then((function(){return a(l)}))}l.keys=function(){return Object.keys(i)},l.id="ef14",e.exports=l},f20f:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("grid-item",{attrs:{"col-end":"span 2","col-end-sm":"span 1"}},[a("v-text-field",{attrs:{label:e.label,value:e.value,name:e.name,dense:"",outlined:"",dark:""}})],1)},l=[],s=a("d803"),n={mixins:[s["a"]]},o=n,r=a("2877"),d=a("6544"),u=a.n(d),c=a("8654"),m=Object(r["a"])(o,i,l,!1,null,null,null);t["default"]=m.exports;u()(m,{VTextField:c["a"]})},f3b3:function(e,t,a){},f66d:function(e,t,a){var i={"./big-text/Index.vue":"1b8a","./category/Add.vue":"7c83","./category/Index.vue":"ed85","./category/LinkModule.vue":"968c","./category/List.vue":"faaf","./category/TableFilter.vue":"6698","./collection-with-key/Index.vue":"edfc","./collection-with-key/List.vue":"ac83","./collection/Index.vue":"4884","./collection/List.vue":"b87b","./color/Index.vue":"1055","./date/Index.vue":"9b55","./datetime/Index.vue":"07899","./email/Index.vue":"f20f","./file/Index.vue":"28eb","./file/List.vue":"8dde","./hidden/Index.vue":"173c","./image-file/Edit.vue":"48f6","./image-file/Index.vue":"a798","./image-file/List.vue":"56b4","./image-file/buttons/OrderButton.vue":"9073","./image-file/buttons/UploadButton.vue":"8f4a","./link/Display.vue":"d295","./link/Index.vue":"d09a","./link/Options.vue":"3c9e","./medium-text/Index.vue":"ff5f","./number/Index.vue":"bce8","./password/Index.vue":"beb4","./price/Index.vue":"fc9e","./read-only/Index.vue":"dec4","./source-code/Index.vue":"9310","./subcategory/Index.vue":"ddc94","./subcategory/list/Add.vue":"9d3e","./subcategory/list/Index.vue":"9bc7","./subcategory/list/SelectFieldCategory.vue":"f96c","./switch-boolean/Index.vue":"0850","./tags/Add.vue":"cf92","./tags/Index.vue":"30e9","./tags/LinkModule.vue":"cbef","./tags/List.vue":"81ec","./time/Index.vue":"42b8","./tiny-text/Index.vue":"1e7e","./tiny-text/Options.vue":"0622","./url/Index.vue":"47a6","./url/Options.vue":"9b4d"};function l(e){var t=s(e);return a(t)}function s(e){if(!a.o(i,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return i[e]}l.keys=function(){return Object.keys(i)},l.resolve=s,e.exports=l,l.id="f66d"},f68d:function(e,t,a){"use strict";a("1269")},f728:function(e,t,a){},f96c:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-select",{attrs:{items:e.items,loading:e.loading,label:"Campo",outlined:"",dense:"","hide-details":""},on:{change:function(t){return e.update(t)}},model:{value:e.value_,callback:function(t){e.value_=t},expression:"value_"}})},l=[],s={props:{moduleId:{type:Number,required:!0},fieldId:{type:Number,required:!0},value:Number,items:{type:Array,default:()=>[]}},data:()=>({value_:null,loading:!1}),methods:{update(e){this.loading=!0,this.$rest("modules-fields").put({id:this.fieldId,prop:"options",data:{value:e},params:{moduleId:this.moduleId,option:"category"},save:!1}).finally(()=>this.loading=!1)}},mounted(){this.value_=this.value}},n=s,o=a("2877"),r=a("6544"),d=a.n(r),u=a("b974"),c=Object(o["a"])(n,i,l,!1,null,null,null);t["default"]=c.exports;d()(c,{VSelect:u["a"]})},fa0e:function(e,t,a){"use strict";a("7e53")},faaf:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("template-dialog-any",{attrs:{value:e.value,title:"Categorias","max-width":"500px"},on:{input:function(t){return e.$emit("input",t)}},scopedSlots:e._u([{key:"actions",fn:function(){return[e.isAdminUser?a("template-dialog-header-button",{attrs:{icon:e.linkModule?"fas fa-unlink":"fas fa-link",text:(e.linkModule?"Desvincular":"Vincular")+" Módulo",disabled:!e.linkModule&&Boolean(e.categories.length)},on:{click:function(t){e.linkModule?e.unlink():e.linkModuleDialog=!0}}}):e._e(),e.linkModule?e._e():[a("template-dialog-header-button",{attrs:{disabled:!e.selecteds.length,icon:"fas fa-trash",text:"Remover"},on:{click:e.remove}}),a("template-dialog-header-button",{attrs:{icon:"fas fa-plus",text:"Adicionar"},on:{click:function(t){e.addDialog=!0}}})]]},proxy:!0}])},[e.linkModule?a("div",{staticClass:"pt-8 pb-4 text-body-2 text-center font-weight-bold"},[e._v('Esse campo foi vinculado ao módulo de chave "'+e._s(e.linkModule)+'".')]):e.categories.length?a("v-data-table",{attrs:{headers:e.headers,items:e.categories,"mobile-breakpoint":0,"no-data-text":"Não há registros.","sort-by":"id","sort-desc":"","show-select":"","disable-pagination":"","hide-default-footer":""},scopedSlots:e._u([{key:"item.title",fn:function(t){var i=t.item;return[a("v-edit-dialog",{staticClass:"primary lighten-4",attrs:{"return-value":e.editCategoryTitle,dark:""},on:{save:function(t){return e.editTitle(i.id)},"update:returnValue":function(t){e.editCategoryTitle=t},"update:return-value":function(t){e.editCategoryTitle=t}},scopedSlots:e._u([{key:"input",fn:function(){return[a("v-text-field",{attrs:{value:i.title,rules:[e.rules.required],label:"Renomear","single-line":"",counter:""},on:{input:function(t){return e.editCategoryTitle=t}}})]},proxy:!0}],null,!0)},[e._v(e._s(i.title))])]}}]),model:{value:e.selecteds,callback:function(t){e.selecteds=t},expression:"selecteds"}}):a("div",{staticClass:"pt-8 pb-4 text-body-2 text-center font-weight-bold"},[e._v("Nenhuma categoria foi adicionada.")]),e.value?a("v-overlay",{model:{value:e.loading,callback:function(t){e.loading=t},expression:"loading"}},[a("loading")],1):e._e(),a("add",{attrs:{"field-id":e.fieldId},model:{value:e.addDialog,callback:function(t){e.addDialog=t},expression:"addDialog"}}),a("link-module",{attrs:{"field-id":e.fieldId,"link-module":e.linkModule},model:{value:e.linkModuleDialog,callback:function(t){e.linkModuleDialog=t},expression:"linkModuleDialog"}})],1)},l=[],s=a("dee3"),n=a("d492"),o=a("7c83"),r=a("968c"),d=a("9431"),u=a("5f42"),c={props:{value:Boolean,fieldId:{type:Number,required:!0},categories:{type:Array,default:()=>[]},isAdminUser:{type:Boolean,default:!1},linkModule:String},data:()=>({addDialog:!1,linkModuleDialog:!1,loading:!1,headers:[{text:"Título",value:"title",align:"left"}],editCategoryTitle:null,rules:{required:u["e"]},selecteds:[]}),computed:{moduleKey(){return this.$rest("modules").item.key},moduleId(){return this.$rest("modules").item.id},itemId(){return this.$route.params.sub||1}},methods:{remove(){this.loading=!0,Promise.all(this.selecteds.map(({id:e})=>this.$rest("modulesCategories").delete({id:e,params:{moduleId:this.moduleId}}))).finally(()=>{this.selecteds=[],this.loading=!1})},editTitle(e){const t=this.categories.find(({id:t})=>t==e).title;this.editCategoryTitle&&t!==this.editCategoryTitle&&(this.loading=!0,this.$rest("modulesCategories").put({id:e,prop:"title",data:{value:this.editCategoryTitle},params:{moduleId:this.moduleId}}).then(()=>this.loading=!1))},unlink(){this.loading=!0,this.$rest("modulesCategories").put({id:"unlink-module",data:{link:null},params:{fieldId:this.fieldId,moduleId:this.moduleId}}).finally(()=>{this.$router.go()})}},components:{Loading:d["a"],Add:o["default"],LinkModule:r["default"],TemplateDialogAny:s["a"],TemplateDialogHeaderButton:n["a"]}},m=c,p=a("2877"),f=a("6544"),h=a.n(f),v=a("8fea"),g=a("7679"),b=a("a797"),y=a("8654"),x=Object(p["a"])(m,i,l,!1,null,null,null);t["default"]=x.exports;h()(x,{VDataTable:v["a"],VEditDialog:g["a"],VOverlay:b["a"],VTextField:y["a"]})},fc9e:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("grid-item",{attrs:{"col-end":"span 2","col-end-sm":"span 1"}},[a("v-text-field",{attrs:{label:e.label,value:e.value,name:e.name,rules:[e.rules.price],"append-icon":"fas fa-dollar-sign",type:"number",step:".01",min:"0.00",max:"9999999999.99",dense:"",outlined:"",dark:""}})],1)},l=[],s=a("d803"),n=a("5f42"),o={data:()=>({rules:{price:n["c"]}}),mixins:[s["a"]]},r=o,d=a("2877"),u=a("6544"),c=a.n(u),m=a("8654"),p=Object(d["a"])(r,i,l,!1,null,null,null);t["default"]=p.exports;c()(p,{VTextField:m["a"]})},fdbe:function(e,t,a){},fe48:function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-sheet",{staticClass:"mx-auto module-page pa-2",attrs:{width:e.width,"max-width":e.maxWidth,color:"transparent"}},[a("v-toolbar",{staticClass:"elevation-0 rounded-t",attrs:{color:"accent darken-1",width:"100%",dark:"",dense:""}},[a("h4",[e._v(e._s(e.title))]),a("v-spacer"),a("div",{staticClass:"module-page-toolbar"},[e._t("toolbar"),e.prev&&!e.sm?a("toolbar-button",{attrs:{to:e.prev,tip:"Voltar",icon:"fas fa-undo-alt",dark:""}}):e._e()],2)],1),e._t("default")],2)},l=[],s=a("e3c9"),n={props:{title:{type:String,required:!0},width:{type:String,default:"100%"},maxWidth:{type:String,default:"100%"}},computed:{sm(){return this.$vuetify.breakpoint.smAndDown},prev(){const e=this.$route.path;return/^\/[^/]+\/.+/.test(e)&&e.replace(/(\/[^/]+)(.*)$/,"$1")}},beforeCreate(){this.$rest("modules").get({keepCache:!0})},components:{ToolbarButton:s["a"]}},o=n,r=(a("6c6e"),a("2877")),d=a("6544"),u=a.n(d),c=a("8dd9"),m=a("2fa4"),p=a("71d9"),f=Object(r["a"])(o,i,l,!1,null,null,null);t["a"]=f.exports;u()(f,{VSheet:c["a"],VSpacer:m["a"],VToolbar:p["a"]})},ff44:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("module-template",{attrs:{title:e.data.name},scopedSlots:e._u([{key:"toolbar",fn:function(){return[a("toolbar-button",{attrs:{to:e.$route.path+"/broadcast",tip:"Transmitir",icon:"fas fa-paper-plane",dark:""}}),a("toolbar-button",{attrs:{disabled:!e.selecteds.length,tip:"Remover",icon:"fas fa-trash",dark:""},on:{click:e.remove}}),a("print-button"),a("export-button",{attrs:{"module-key":e.data.key,fields:e.fields}})]},proxy:!0}])},[a("div",[a("div",{staticClass:"pa-2 primary lighten-1 module-search"},[a("v-text-field",{attrs:{"append-icon":"fas fa-search",label:"Pesquisar","single-line":"","hide-details":"",dense:"",outlined:"",dark:""},on:{"click:append":function(t){return e.get(1)},keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.get(1)}},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),a("v-data-table",{attrs:{headers:e.headers,items:e.items,loading:e.loading,"server-items-length":e.totalItems,"items-per-page":e.itemsPerPage,height:"calc(100vh - 226px)","sort-by":"id","loading-text":"Carregado dados.","no-data-text":"Não há registros.","no-results-text":"Não há registros.","show-select":"","sort-desc":"","fixed-header":"",dark:""},on:{"update:page":e.changePage},scopedSlots:e._u([e._l(e.listHeaders,(function(t,i){return{key:"item."+t,fn:function(i){var l=i.item;return["string"===typeof l[t]?[a("span",[e._v(e._s(l[t]))])]:l[t]&&"object"===typeof l[t]?[l[t].innerHTML?a("div",{domProps:{innerHTML:e._s(l[t].innerHTML)}}):l[t].component?a(l[t].component,{tag:"component",attrs:{value:l[t].value}}):e._e()]:e._e()]}}})),{key:"item.action",fn:function(t){var i=t.item;return[a("div",{staticClass:"d-flex justify-end"},[parseInt(i.active)?a("v-btn",{attrs:{color:"green",icon:"",small:""},on:{click:function(t){return t.stopPropagation(),e.toggleActive(i.id,!1)}}},[a("v-icon",{attrs:{small:""}},[e._v("fas fa-eye")])],1):a("v-btn",{attrs:{color:"blue",icon:"",small:""},on:{click:function(t){return t.stopPropagation(),e.toggleActive(i.id,!0)}}},[a("v-icon",{attrs:{small:""}},[e._v("fas fa-eye-slash")])],1)],1)]}}],null,!0),model:{value:e.selecteds,callback:function(t){e.selecteds=t},expression:"selecteds"}})],1),a("v-overlay",{attrs:{absolute:""},model:{value:e.loading,callback:function(t){e.loading=t},expression:"loading"}},[a("loading")],1)],1)},l=[],s=a("e3c9"),n=a("bb01"),o=a("e42b"),r=a("fe48"),d=a("eed2"),u=a("9431"),c={name:"NewsletterList",props:{data:Object},data:()=>({loading:!0,search:"",selecteds:[],totalItems:0,items:[],action:"item.action",itemsPerPage:30}),computed:{fields(){return this.data.fields},listHeaders(){return this.data.viewOptions.listHeaders},headers(){if(!this.listHeaders||!this.fields)return[];const e=this.listHeaders.map(e=>{const t={value:e,align:"left",sortable:!1};switch(e){case"showFrom":t.text="Começo";break;case"showUp":t.text="Fim";break;default:t.text=this.fields.find(({key:t})=>t==e).name;break}return t});return e.unshift({text:"Id",value:"id",align:"left",sortable:!1,filterable:!1}),e.push({text:"",value:"action",align:"right",sortable:!1,filterable:!1}),e},sm(){return this.$vuetify.breakpoint.smAndDown}},methods:{get(e=1,t=null){return this.$rest(this.data.key).get({params:{fields:"id,active,"+this.listHeaders.join(","),itemsPerPage:t||this.itemsPerPage,page:e,search:this.search,returnTotalItems:1},save:async(e,{list:t,totalItems:a})=>{this.totalItems=parseInt(a),e.list=t,this.items=[];const i=Object.fromEntries(this.fields.map(({key:e,typeKey:t})=>[e,t]));for(let l of t){const e={};for(let t in l){const a=i[t];if(i[t])if(d["a"][a]){const i=d["a"][a]({component:this,value:l[t],fieldData:this.fields.find(e=>e.key===t),moduleId:this.data.id});e[t]=i instanceof Promise?await i:i}else e[t]=l[t];else"showFrom"!==t&&"showUp"!==t||!l[t]?e[t]=l[t]:e[t]=new Date(l[t]).toLocaleString("pt-BR",{dateStyle:"short",timeStyle:"short"})}this.items.push(e)}this.loading=!1}}).catch(()=>this.$router.replace("/"))},remove(){this.loading=!0,Promise.all(this.selecteds.map(({id:e})=>this.$rest(this.data.key).delete({id:e}).then(()=>{this.items.splice(this.items.findIndex(t=>t.id==e),1),this.loading=!1}))).finally(()=>this.loading=!1)},toggleActive(e,t){this.$rest(this.data.key).put({id:e,prop:"active",data:{value:0|t}}).then(()=>this.items.find(t=>t.id==e).active=0|t)},changePage(e){this.loading=!0,this.get(e).finally(()=>{this.loading=!1})},broadcast(){console.log("ok")}},created(){this.loading=!0,this.get()},components:{ToolbarButton:s["a"],PrintButton:n["a"],ExportButton:o["a"],ModuleTemplate:r["a"],Loading:u["a"]}},m=c,p=a("2877"),f=a("6544"),h=a.n(f),v=a("8336"),g=a("8fea"),b=a("132d"),y=a("a797"),x=a("8654"),k=Object(p["a"])(m,i,l,!1,null,null,null),_=k.exports;h()(k,{VBtn:v["a"],VDataTable:g["a"],VIcon:b["a"],VOverlay:y["a"],VTextField:x["a"]});var I=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("module-template",{attrs:{title:e.data.name+" / Transmissão",width:"800px","max-width":"100%"}},[a("v-card",{staticClass:"pa-4 rounded-t-0",attrs:{outlined:"",dark:""}},[a("v-form",{ref:"form"},[a("div",{staticClass:"table-module-edit-form"},[a("tiny-text",{attrs:{name:"subject",label:"Assunto"}}),a("big-text",{ref:"text",attrs:{name:"text",label:"Texto"}})],1),a("div",{staticClass:"d-flex justify-end"},[a("v-btn",{staticClass:"text-none",attrs:{loading:e.loading,color:"secondary",depressed:""},on:{click:e.send}},[e._v("Transmitir")])],1)])],1)],1)},w=[],C=a("1e7e"),$=a("1b8a"),T={name:"NewsletterBroadcast",props:{data:Object},data:()=>({loading:!1}),methods:{async send(){const e=this.$refs.form,t=e&&new FormData(e.$el);this.loading=!0,await this.$rest(this.data.key).post({prop:"broadcast",data:t}),this.loading=!1}},components:{ModuleTemplate:r["a"],TinyText:C["default"],BigText:$["default"]}},O=T,S=(a("db1c"),a("b0af")),D=a("4bd4"),V=Object(p["a"])(O,I,w,!1,null,null,null),j=V.exports;h()(V,{VBtn:v["a"],VCard:S["a"],VForm:D["a"]});t["default"]={routes:[{name:"{name}",path:"/{key}",component:_},{name:"{name} / Transmissão",path:"/{key}/broadcast",component:j}]}},ff4f:function(e,t,a){},ff5f:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("grid-item",{attrs:{"col-end":"span 2"}},[a("v-textarea",{attrs:{label:e.label,value:e.value,name:e.name,counter:"300",dense:"",outlined:"",dark:""}})],1)},l=[],s=a("d803"),n={mixins:[s["a"]]},o=n,r=a("2877"),d=a("6544"),u=a.n(d),c=a("a844"),m=Object(r["a"])(o,i,l,!1,null,null,null);t["default"]=m.exports;u()(m,{VTextarea:c["a"]})}});
//# sourceMappingURL=index.42048130.js.map